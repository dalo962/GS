/*
 jQuery JavaScript Library v1.12.4
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-05-20T17:17Z
 Sizzle CSS Selector Engine v2.2.1
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2015-10-17
 matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license  matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license  mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
 https://github.com/thomasJang/mustache.js -- imporove some variables
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(h){var n=0;return function(){return n<h.length?{done:!1,value:h[n++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(h,n,r){h!=Array.prototype&&h!=Object.prototype&&(h[n]=r.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(h,n){this.$jscomp$symbol$id_=h;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function h(r){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(r||"")+"_"+n++,r)}var n=0;return h}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.asyncIterator;h||(h=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};
$jscomp.findInternal=function(h,n,r){h instanceof String&&(h=String(h));for(var k=h.length,e=0;e<k;e++){var y=h[e];if(n.call(r,y,e,h))return{i:e,v:y}}return{i:-1,v:void 0}};$jscomp.polyfill=function(h,n,r,k){if(n){r=$jscomp.global;h=h.split(".");for(k=0;k<h.length-1;k++){var e=h[k];e in r||(r[e]={});r=r[e]}h=h[h.length-1];k=r[h];n=n(k);n!=k&&null!=n&&$jscomp.defineProperty(r,h,{configurable:!0,writable:!0,value:n})}};
$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(h,r){return $jscomp.findInternal(this,h,r).v}},"es6","es3");$jscomp.iteratorFromArray=function(h,n){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var r=0,k={next:function(){if(r<h.length){var e=r++;return{value:n(e,h[e]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h,r){return r})}},"es8","es3");
(function(h,n){"object"===typeof module&&"object"===typeof module.exports?module.exports=h.document?n(h,!0):function(h){if(!h.document)throw Error("jQuery requires a window with a document");return n(h)}:n(h)})("undefined"!==typeof window?window:this,function(h,n){function r(q){var a=!!q&&"length"in q&&q.length,b=t.type(q);return"function"===b||t.isWindow(q)?!1:"array"===b||0===a||"number"===typeof a&&0<a&&a-1 in q}function k(q,a,b){if(t.isFunction(a))return t.grep(q,function(q,g){return!!a.call(q,
g,q)!==b});if(a.nodeType)return t.grep(q,function(q){return q===a!==b});if("string"===typeof a){if(Hb.test(a))return t.filter(a,q,b);a=t.filter(a,q)}return t.grep(q,function(q){return-1<t.inArray(q,a)!==b})}function e(q,a){do q=q[a];while(q&&1!==q.nodeType);return q}function y(q){var a={};t.each(q.match(ia)||[],function(q,b){a[b]=!0});return a}function w(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",z),h.removeEventListener("load",z)):(J.detachEvent("onreadystatechange",z),h.detachEvent("onload",
z))}function z(){if(J.addEventListener||"load"===h.event.type||"complete"===J.readyState)w(),t.ready()}function D(q,a,b){if(void 0===b&&1===q.nodeType)if(b="data-"+a.replace(Ib,"-$1").toLowerCase(),b=q.getAttribute(b),"string"===typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:Jb.test(b)?t.parseJSON(b):b}catch(Ra){}t.data(q,a,b)}else b=void 0;return b}function B(q){for(var a in q)if(("data"!==a||!t.isEmptyObject(q[a]))&&"toJSON"!==a)return!1;return!0}function p(q,a,b,g){if(Ba(q)){var d=
t.expando,c=q.nodeType,v=c?t.cache:q,f=c?q[d]:q[d]&&d;if(f&&v[f]&&(g||v[f].data)||void 0!==b||"string"!==typeof a){f||(f=c?q[d]=ca.pop()||t.guid++:d);v[f]||(v[f]=c?{}:{toJSON:t.noop});if("object"===typeof a||"function"===typeof a)g?v[f]=t.extend(v[f],a):v[f].data=t.extend(v[f].data,a);q=v[f];g||(q.data||(q.data={}),q=q.data);void 0!==b&&(q[t.camelCase(a)]=b);"string"===typeof a?(b=q[a],null==b&&(b=q[t.camelCase(a)])):b=q;return b}}}function F(q,a,b){if(Ba(q)){var g,d,c=q.nodeType,v=c?t.cache:q,f=
c?q[t.expando]:t.expando;if(v[f]){if(a&&(g=b?v[f]:v[f].data)){t.isArray(a)?a=a.concat(t.map(a,t.camelCase)):a in g?a=[a]:(a=t.camelCase(a),a=a in g?[a]:a.split(" "));for(d=a.length;d--;)delete g[a[d]];if(b?!B(g):!t.isEmptyObject(g))return}if(!b&&(delete v[f].data,!B(v[f])))return;c?t.cleanData([q],!0):G.deleteExpando||v!=v.window?delete v[f]:v[f]=void 0}}}function E(q,a,b,g){var d=1,c=20,v=g?function(){return g.cur()}:function(){return t.css(q,a,"")},f=v(),m=b&&b[3]||(t.cssNumber[a]?"":"px"),L=(t.cssNumber[a]||
"px"!==m&&+f)&&Sa.exec(t.css(q,a));if(L&&L[3]!==m){m=m||L[3];b=b||[];L=+f||1;do d=d||".5",L/=d,t.style(q,a,L+m);while(d!==(d=v()/f)&&1!==d&&--c)}if(b){L=+L||+f||0;var u=b[1]?L+(b[1]+1)*b[2]:+b[2];g&&(g.unit=m,g.start=L,g.end=u)}return u}function l(q){var a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");q=q.createDocumentFragment();if(q.createElement)for(;a.length;)q.createElement(a.pop());
return q}function f(q,a){var b,g,d=0,c="undefined"!==typeof q.getElementsByTagName?q.getElementsByTagName(a||"*"):"undefined"!==typeof q.querySelectorAll?q.querySelectorAll(a||"*"):void 0;if(!c)for(c=[],b=q.childNodes||q;null!=(g=b[d]);d++)!a||t.nodeName(g,a)?c.push(g):t.merge(c,f(g,a));return void 0===a||a&&t.nodeName(q,a)?t.merge([q],c):c}function c(q,a){for(var b,g=0;null!=(b=q[g]);g++)t._data(b,"globalEval",!a||t._data(a[g],"globalEval"))}function a(q){Ta.test(q.type)&&(q.defaultChecked=q.checked)}
function b(q,b,g,d,v){for(var m,L,u,x,K,A,e=q.length,C=l(b),p=[],k=0;k<e;k++)if((L=q[k])||0===L)if("object"===t.type(L))t.merge(p,L.nodeType?[L]:L);else if(Kb.test(L)){u=u||C.appendChild(b.createElement("div"));x=(ib.exec(L)||["",""])[1].toLowerCase();A=da[x]||da._default;u.innerHTML=A[1]+t.htmlPrefilter(L)+A[2];for(m=A[0];m--;)u=u.lastChild;!G.leadingWhitespace&&Va.test(L)&&p.push(b.createTextNode(Va.exec(L)[0]));if(!G.tbody)for(m=(L="table"!==x||jb.test(L)?"<table>"!==A[1]||jb.test(L)?0:u:u.firstChild)&&
L.childNodes.length;m--;)t.nodeName(K=L.childNodes[m],"tbody")&&!K.childNodes.length&&L.removeChild(K);t.merge(p,u.childNodes);for(u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=C.lastChild}else p.push(b.createTextNode(L));u&&C.removeChild(u);G.appendChecked||t.grep(f(p,"input"),a);for(k=0;L=p[k++];)if(d&&-1<t.inArray(L,d))v&&v.push(L);else if(q=t.contains(L.ownerDocument,L),u=f(C.appendChild(L),"script"),q&&c(u),g)for(m=0;L=u[m++];)kb.test(L.type||"")&&g.push(L);return C}function m(){return!0}
function C(){return!1}function x(){try{return J.activeElement}catch(q){}}function d(q,a,b,g,c,v){var f;if("object"===typeof a){"string"!==typeof b&&(g=g||b,b=void 0);for(f in a)d(q,f,b,g,a[f],v);return q}null==g&&null==c?(c=b,g=b=void 0):null==c&&("string"===typeof b?(c=g,g=void 0):(c=g,g=b,b=void 0));if(!1===c)c=C;else if(!c)return q;if(1===v){var m=c;c=function(q){t().off(q);return m.apply(this,arguments)};c.guid=m.guid||(m.guid=t.guid++)}return q.each(function(){t.event.add(this,a,c,g,b)})}function u(q,
a){return t.nodeName(q,"table")&&t.nodeName(11!==a.nodeType?a:a.firstChild,"tr")?q.getElementsByTagName("tbody")[0]||q.appendChild(q.ownerDocument.createElement("tbody")):q}function A(q){q.type=(null!==t.find.attr(q,"type"))+"/"+q.type;return q}function g(q){var a=Lb.exec(q.type);a?q.type=a[1]:q.removeAttribute("type");return q}function v(q,a){if(1===a.nodeType&&t.hasData(q)){var b,g;var d=t._data(q);q=t._data(a,d);var c=d.events;if(c)for(b in delete q.handle,q.events={},c)for(d=0,g=c[b].length;d<
g;d++)t.event.add(a,b,c[b][d]);q.data&&(q.data=t.extend({},q.data))}}function K(q,a,d,c){a=Ia.apply([],a);var v,m=0,L=q.length,u=L-1,x=a[0],l=t.isFunction(x);if(l||1<L&&"string"===typeof x&&!G.checkClone&&Mb.test(x))return q.each(function(b){var g=q.eq(b);l&&(a[0]=x.call(this,b,g.html()));K(g,a,d,c)});if(L){var e=b(a,q[0].ownerDocument,!1,q,c);var C=e.firstChild;1===e.childNodes.length&&(e=C);if(C||c){var p=t.map(f(e,"script"),A);for(v=p.length;m<L;m++)C=e,m!==u&&(C=t.clone(C,!0,!0),v&&t.merge(p,
f(C,"script"))),d.call(q[m],C,m);if(v)for(e=p[p.length-1].ownerDocument,t.map(p,g),m=0;m<v;m++)C=p[m],kb.test(C.type||"")&&!t._data(C,"globalEval")&&t.contains(e,C)&&(C.src?t._evalUrl&&t._evalUrl(C.src):t.globalEval((C.text||C.textContent||C.innerHTML||"").replace(Nb,"")));e=C=null}}return q}function I(q,a,b){for(var g=a?t.filter(a,q):q,d=0;null!=(a=g[d]);d++)b||1!==a.nodeType||t.cleanData(f(a)),a.parentNode&&(b&&t.contains(a.ownerDocument,a)&&c(f(a,"script")),a.parentNode.removeChild(a));return q}
function O(q,a){q=t(a.createElement(q)).appendTo(a.body);a=t.css(q[0],"display");q.detach();return a}function S(q){var a=J,b=lb[q];b||(b=O(q,a),"none"!==b&&b||(Ca=(Ca||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),a=(Ca[0].contentWindow||Ca[0].contentDocument).document,a.write(),a.close(),b=O(q,a),Ca.detach()),lb[q]=b);return b}function ba(q,a){return{get:function(){if(q())delete this.get;else return(this.get=a).apply(this,arguments)}}}function Q(q){if(q in mb)return q;
for(var a=q.charAt(0).toUpperCase()+q.slice(1),b=nb.length;b--;)if(q=nb[b]+a,q in mb)return q}function N(q,a){for(var b,g,d,c=[],v=0,f=q.length;v<f;v++)g=q[v],g.style&&(c[v]=t._data(g,"olddisplay"),b=g.style.display,a?(c[v]||"none"!==b||(g.style.display=""),""===g.style.display&&Da(g)&&(c[v]=t._data(g,"olddisplay",S(g.nodeName)))):(d=Da(g),(b&&"none"!==b||!d)&&t._data(g,"olddisplay",d?b:t.css(g,"display"))));for(v=0;v<f;v++)g=q[v],!g.style||a&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=
a?c[v]||"":"none");return q}function R(q,a,b){return(q=Ob.exec(a))?Math.max(0,q[1]-(b||0))+(q[2]||"px"):a}function H(q,a,b,g,d){a=b===(g?"border":"content")?4:"width"===a?1:0;for(var c=0;4>a;a+=2)"margin"===b&&(c+=t.css(q,b+sa[a],!0,d)),g?("content"===b&&(c-=t.css(q,"padding"+sa[a],!0,d)),"margin"!==b&&(c-=t.css(q,"border"+sa[a]+"Width",!0,d))):(c+=t.css(q,"padding"+sa[a],!0,d),"padding"!==b&&(c+=t.css(q,"border"+sa[a]+"Width",!0,d)));return c}function Y(q,a,b){var g=!0,d="width"===a?q.offsetWidth:
q.offsetHeight,c=wa(q),v=G.boxSizing&&"border-box"===t.css(q,"boxSizing",!1,c);if(0>=d||null==d){d=ta(q,a,c);if(0>d||null==d)d=q.style[a];if(Ja.test(d))return d;g=v&&(G.boxSizingReliable()||d===q.style[a]);d=parseFloat(d)||0}return d+H(q,a,b||(v?"border":"content"),g,c)+"px"}function T(q,a,b,g,d){return new T.prototype.init(q,a,b,g,d)}function X(){h.setTimeout(function(){xa=void 0});return xa=t.now()}function aa(q,a){var b={height:q},g=0;for(a=a?1:0;4>g;g+=2-a){var d=sa[g];b["margin"+d]=b["padding"+
d]=q}a&&(b.opacity=b.width=q);return b}function Z(q,a,b){for(var g,d=(P.tweeners[a]||[]).concat(P.tweeners["*"]),c=0,v=d.length;c<v;c++)if(g=d[c].call(b,a,q))return g}function M(q,a){var b,g;for(b in q){var d=t.camelCase(b);var c=a[d];var v=q[b];t.isArray(v)&&(c=v[1],v=q[b]=v[0]);b!==d&&(q[d]=v,delete q[b]);if((g=t.cssHooks[d])&&"expand"in g)for(b in v=g.expand(v),delete q[d],v)b in q||(q[b]=v[b],a[b]=c);else a[d]=c}}function P(q,a,b){var g,d=0,c=P.prefilters.length,v=t.Deferred().always(function(){delete f.elem}),
f=function(){if(g)return!1;var a=xa||X();a=Math.max(0,m.startTime+m.duration-a);for(var b=1-(a/m.duration||0),d=0,c=m.tweens.length;d<c;d++)m.tweens[d].run(b);v.notifyWith(q,[m,b,a]);if(1>b&&c)return a;v.resolveWith(q,[m]);return!1},m=v.promise({elem:q,props:t.extend({},a),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},b),originalProperties:a,originalOptions:b,startTime:xa||X(),duration:b.duration,tweens:[],createTween:function(a,b){a=t.Tween(q,m.opts,a,b,m.opts.specialEasing[a]||m.opts.easing);
m.tweens.push(a);return a},stop:function(a){var b=0,d=a?m.tweens.length:0;if(g)return this;for(g=!0;b<d;b++)m.tweens[b].run(1);a?(v.notifyWith(q,[m,1,0]),v.resolveWith(q,[m,a])):v.rejectWith(q,[m,a]);return this}});b=m.props;for(M(b,m.opts.specialEasing);d<c;d++)if(a=P.prefilters[d].call(m,q,b,m.opts))return t.isFunction(a.stop)&&(t._queueHooks(m.elem,m.opts.queue).stop=t.proxy(a.stop,a)),a;t.map(b,Z,m);t.isFunction(m.opts.start)&&m.opts.start.call(q,m);t.fx.timer(t.extend(f,{elem:q,anim:m,queue:m.opts.queue}));
return m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function W(q){return t.attr(q,"class")||""}function la(q){return function(a,b){"string"!==typeof a&&(b=a,a="*");var g=0,d=a.toLowerCase().match(ia)||[];if(t.isFunction(b))for(;a=d[g++];)"+"===a.charAt(0)?(a=a.slice(1)||"*",(q[a]=q[a]||[]).unshift(b)):(q[a]=q[a]||[]).push(b)}}function pa(q,a,b,g){function d(m){var f;c[m]=!0;t.each(q[m]||[],function(q,m){q=m(a,b,g);if("string"===typeof q&&!v&&
!c[q])return a.dataTypes.unshift(q),d(q),!1;if(v)return!(f=q)});return f}var c={},v=q===Wa;return d(a.dataTypes[0])||!c["*"]&&d("*")}function ja(q,a){var b,g,d=t.ajaxSettings.flatOptions||{};for(g in a)void 0!==a[g]&&((d[g]?q:b||(b={}))[g]=a[g]);b&&t.extend(!0,q,b);return q}function Xa(q){if(!t.contains(q.ownerDocument||J,q))return!0;for(;q&&1===q.nodeType;){if("none"===(q.style&&q.style.display||t.css(q,"display"))||"hidden"===q.type)return!0;q=q.parentNode}return!1}function Ea(q,a,b,g){var d;if(t.isArray(a))t.each(a,
function(a,d){b||Pb.test(q)?g(q,d):Ea(q+"["+("object"===typeof d&&null!=d?a:"")+"]",d,b,g)});else if(b||"object"!==t.type(a))g(q,a);else for(d in a)Ea(q+"["+d+"]",a[d],b,g)}function Fa(){try{return new h.XMLHttpRequest}catch(q){}}function ua(){try{return new h.ActiveXObject("Microsoft.XMLHTTP")}catch(q){}}function Ka(q){return t.isWindow(q)?q:9===q.nodeType?q.defaultView||q.parentWindow:!1}var ca=[],J=h.document,ka=ca.slice,Ia=ca.concat,ea=ca.push,qa=ca.indexOf,ya={},Ga=ya.toString,ma=ya.hasOwnProperty,
G={},t=function(q,a){return new t.fn.init(q,a)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,V=/^-ms-/,na=/-([\da-z])/gi,La=function(q,a){return a.toUpperCase()};t.fn=t.prototype={jquery:"1.12.4",constructor:t,selector:"",length:0,toArray:function(){return ka.call(this)},get:function(q){return null!=q?0>q?this[q+this.length]:this[q]:ka.call(this)},pushStack:function(q){q=t.merge(this.constructor(),q);q.prevObject=this;q.context=this.context;return q},each:function(q){return t.each(this,q)},map:function(q){return this.pushStack(t.map(this,
function(a,b){return q.call(a,b,a)}))},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(q){var a=this.length;q=+q+(0>q?a:0);return this.pushStack(0<=q&&q<a?[this[q]]:[])},end:function(){return this.prevObject||this.constructor()},push:ea,sort:ca.sort,splice:ca.splice};t.extend=t.fn.extend=function(){var q,a,b,g=arguments[0]||{},d=1,c=arguments.length,v=!1;"boolean"===typeof g&&(v=g,g=arguments[d]||
{},d++);"object"===typeof g||t.isFunction(g)||(g={});d===c&&(g=this,d--);for(;d<c;d++)if(null!=(b=arguments[d]))for(a in b){var m=g[a];var f=b[a];g!==f&&(v&&f&&(t.isPlainObject(f)||(q=t.isArray(f)))?(q?(q=!1,m=m&&t.isArray(m)?m:[]):m=m&&t.isPlainObject(m)?m:{},g[a]=t.extend(v,m,f)):void 0!==f&&(g[a]=f))}return g};t.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===t.type(a)},
isArray:Array.isArray||function(a){return"array"===t.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var q=a&&a.toString();return!t.isArray(a)&&0<=q-parseFloat(q)+1},isEmptyObject:function(a){for(var q in a)return!1;return!0},isPlainObject:function(a){var q;if(!a||"object"!==t.type(a)||a.nodeType||t.isWindow(a))return!1;try{if(a.constructor&&!ma.call(a,"constructor")&&!ma.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(Gb){return!1}if(!G.ownFirst)for(q in a)return ma.call(a,
q);for(q in a);return void 0===q||ma.call(a,q)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?ya[Ga.call(a)]||"object":typeof a},globalEval:function(a){a&&t.trim(a)&&(h.execScript||function(a){h.eval.call(h,a)})(a)},camelCase:function(a){return a.replace(V,"ms-").replace(na,La)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var q,g=0;if(r(a))for(q=a.length;g<q&&!1!==b.call(a[g],g,a[g]);g++);else for(g in a)if(!1===
b.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){b=b||[];null!=a&&(r(Object(a))?t.merge(b,"string"===typeof a?[a]:a):ea.call(b,a));return b},inArray:function(a,b,g){if(b){if(qa)return qa.call(b,a,g);var q=b.length;for(g=g?0>g?Math.max(0,q+g):g:0;g<q;g++)if(g in b&&b[g]===a)return g}return-1},merge:function(a,b){for(var q=+b.length,g=0,d=a.length;g<q;)a[d++]=b[g++];if(q!==q)for(;void 0!==b[g];)a[d++]=b[g++];a.length=d;return a},grep:function(a,
b,g){for(var q=[],d=0,c=a.length,v=!g;d<c;d++)g=!b(a[d],d),g!==v&&q.push(a[d]);return q},map:function(a,b,g){var q,d=0,c=[];if(r(a))for(q=a.length;d<q;d++){var v=b(a[d],d,g);null!=v&&c.push(v)}else for(d in a)v=b(a[d],d,g),null!=v&&c.push(v);return Ia.apply([],c)},guid:1,proxy:function(a,b){if("string"===typeof b){var q=a[b];b=a;a=q}if(t.isFunction(a)){var g=ka.call(arguments,2);q=function(){return a.apply(b||this,g.concat(ka.call(arguments)))};q.guid=a.guid=a.guid||t.guid++;return q}},now:function(){return+new Date},
support:G});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),t.fn[Symbol.iterator]=ca[Symbol.iterator]);t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ya["[object "+b+"]"]=b.toLowerCase()});var ha=function(a){function b(a,b,q,g){var d,c,v,m,f=b&&b.ownerDocument,u=b?b.nodeType:9;q=q||[];if("string"!==typeof a||!a||1!==u&&9!==u&&11!==u)return q;
if(!g&&((b?b.ownerDocument||b:W)!==n&&na(b),b=b||n,w)){if(11!==u&&(m=P.exec(a)))if(d=m[1])if(9===u)if(c=b.getElementById(d)){if(c.id===d)return q.push(c),q}else return q;else{if(f&&(c=f.getElementById(d))&&D(b,c)&&c.id===d)return q.push(c),q}else{if(m[2])return H.apply(q,b.getElementsByTagName(a)),q;if((d=m[3])&&V.getElementsByClassName&&b.getElementsByClassName)return H.apply(q,b.getElementsByClassName(d)),q}if(!(!V.qsa||la[a+" "]||O&&O.test(a))){if(1!==u){f=b;var A=a}else if("object"!==b.nodeName.toLowerCase()){(v=
b.getAttribute("id"))?v=v.replace(Ia,"\\$&"):b.setAttribute("id",v=r);m=ha(a);d=m.length;for(c=ma.test(v)?"#"+v:"[id='"+v+"']";d--;)m[d]=c+" "+K(m[d]);A=m.join(",");f=X.test(a)&&x(b.parentNode)||b}if(A)try{return H.apply(q,f.querySelectorAll(A)),q}catch(Dc){}finally{v===r&&b.removeAttribute("id")}}}return da(a.replace(ua,"$1"),b,q,g)}function q(){function a(q,g){b.push(q+" ")>U.cacheLength&&delete a[b.shift()];return a[q+" "]=g}var b=[];return a}function g(a){a[r]=!0;return a}function d(a){var b=
n.createElement("div");try{return!!a(b)}catch(Bc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function c(a,b){a=a.split("|");for(var q=a.length;q--;)U.attrHandle[a[q]]=b}function v(a,b){var q=b&&a,g=q&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(g)return g;if(q)for(;q=q.nextSibling;)if(q===b)return-1;return a?1:-1}function m(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var q=
b.nodeName.toLowerCase();return("input"===q||"button"===q)&&b.type===a}}function u(a){return g(function(b){b=+b;return g(function(q,g){for(var d,c=a([],q.length,b),v=c.length;v--;)q[d=c[v]]&&(q[d]=!(g[d]=q[d]))})})}function x(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function A(){}function K(a){for(var b=0,q=a.length,g="";b<q;b++)g+=a[b].value;return g}function t(a,b,q){var g=b.dir,d=q&&"parentNode"===g,c=pa++;return b.first?function(b,q,c){for(;b=b[g];)if(1===b.nodeType||d)return a(b,
q,c)}:function(b,q,v){var m,f=[S,c];if(v)for(;b=b[g];){if((1===b.nodeType||d)&&a(b,q,v))return!0}else for(;b=b[g];)if(1===b.nodeType||d){var u=b[r]||(b[r]={});u=u[b.uniqueID]||(u[b.uniqueID]={});if((m=u[g])&&m[0]===S&&m[1]===c)return f[2]=m[2];u[g]=f;if(f[2]=a(b,q,v))return!0}}}function l(a){return 1<a.length?function(b,q,g){for(var d=a.length;d--;)if(!a[d](b,q,g))return!1;return!0}:a[0]}function C(a,b,q,g,d){for(var c,v=[],m=0,f=a.length,u=null!=b;m<f;m++)if(c=a[m])if(!q||q(c,g,d))v.push(c),u&&b.push(m);
return v}function e(a,q,d,c,v,m){c&&!c[r]&&(c=e(c));v&&!v[r]&&(v=e(v,m));return g(function(g,m,f,u){var x,A=[],K=[],t=m.length,l;if(!(l=g)){l=q||"*";for(var e=f.nodeType?[f]:f,p=[],k=0,h=e.length;k<h;k++)b(l,e[k],p);l=p}l=!a||!g&&q?l:C(l,A,a,f,u);e=d?v||(g?a:t||c)?[]:m:l;d&&d(l,e,f,u);if(c){var L=C(e,K);c(L,[],f,u);for(f=L.length;f--;)if(x=L[f])e[K[f]]=!(l[K[f]]=x)}if(g){if(v||a){if(v){L=[];for(f=e.length;f--;)(x=e[f])&&L.push(l[f]=x);v(null,e=[],L,u)}for(f=e.length;f--;)(x=e[f])&&-1<(L=v?T(g,x):
A[f])&&(g[L]=!(m[L]=x))}}else e=C(e===m?e.splice(t,e.length):e),v?v(null,m,e,u):H.apply(m,e)})}function p(a){var b,q,g=a.length,d=U.relative[a[0].type];var c=d||U.relative[" "];for(var v=d?1:0,m=t(function(a){return a===b},c,!0),f=t(function(a){return-1<T(b,a)},c,!0),u=[function(a,q,g){a=!d&&(g||q!==E)||((b=q).nodeType?m(a,q,g):f(a,q,g));b=null;return a}];v<g;v++)if(c=U.relative[a[v].type])u=[t(l(u),c)];else{c=U.filter[a[v].type].apply(null,a[v].matches);if(c[r]){for(q=++v;q<g&&!U.relative[a[q].type];q++);
return e(1<v&&l(u),1<v&&K(a.slice(0,v-1).concat({value:" "===a[v-2].type?"*":""})).replace(ua,"$1"),c,v<q&&p(a.slice(v,q)),q<g&&p(a=a.slice(q)),q<g&&K(a))}u.push(c)}return l(u)}function k(a,q){var d=0<q.length,c=0<a.length,v=function(g,v,m,f,u){var x,A,K=0,l="0",t=g&&[],e=[],p=E,k=g||c&&U.find.TAG("*",u),L=S+=null==p?1:Math.random()||.1,h=k.length;for(u&&(E=v===n||v||u);l!==h&&null!=(x=k[l]);l++){if(c&&x){var I=0;v||x.ownerDocument===n||(na(x),m=!w);for(;A=a[I++];)if(A(x,v||n,m)){f.push(x);break}u&&
(S=L)}d&&((x=!A&&x)&&K--,g&&t.push(x))}K+=l;if(d&&l!==K){for(I=0;A=q[I++];)A(t,e,v,m);if(g){if(0<K)for(;l--;)t[l]||e[l]||(e[l]=Xa.call(f));e=C(e)}H.apply(f,e);u&&!g&&0<e.length&&1<K+q.length&&b.uniqueSort(f)}u&&(S=L,E=p);return t};return d?g(v):v}var h,E,I,B,n,F,w,O,y,z,D,r="sizzle"+1*new Date,W=a.document,S=0,pa=0,N=q(),ba=q(),la=q(),Q=function(a,b){a===b&&(B=!0);return 0},ja={}.hasOwnProperty,G=[],Xa=G.pop,R=G.push,H=G.push,J=G.slice,T=function(a,b){for(var q=0,g=a.length;q<g;q++)if(a[q]===b)return q;
return-1},Ea=/[\x20\t\r\n\f]+/g,ua=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,M=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ka=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Fa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Y=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ma=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ca={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ka=/^(?:input|select|textarea|button)$/i,aa=/^h\d$/i,qa=
/^[^{]+\{\s*\[native \w/,P=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Ia=/'|\\/g,fa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ea=function(a,b,q){a="0x"+b-65536;return a!==a||q?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},Z=function(){na()};try{H.apply(G=J.call(W.childNodes),W.childNodes),G[W.childNodes.length].nodeType}catch(Ac){H={apply:G.length?function(a,b){R.apply(a,J.call(b))}:function(a,b){for(var q=a.length,g=0;a[q++]=b[g++];);a.length=q-1}}}var V=
b.support={};var ya=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var na=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:W;if(a===n||9!==a.nodeType||!a.documentElement)return n;n=a;F=n.documentElement;w=!ya(n);(b=n.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Z,!1):b.attachEvent&&b.attachEvent("onunload",Z));V.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});V.getElementsByTagName=d(function(a){a.appendChild(n.createComment(""));
return!a.getElementsByTagName("*").length});V.getElementsByClassName=qa.test(n.getElementsByClassName);V.getById=d(function(a){F.appendChild(a).id=r;return!n.getElementsByName||!n.getElementsByName(r).length});V.getById?(U.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&w)return(a=b.getElementById(a))?[a]:[]},U.filter.ID=function(a){var b=a.replace(fa,ea);return function(a){return a.getAttribute("id")===b}}):(delete U.find.ID,U.filter.ID=function(a){var b=a.replace(fa,ea);return function(a){return(a=
"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});U.find.TAG=V.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(V.qsa)return b.querySelectorAll(a)}:function(a,b){var q=[],g=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[g++];)1===a.nodeType&&q.push(a);return q}return b};U.find.CLASS=V.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&w)return b.getElementsByClassName(a)};
y=[];O=[];if(V.qsa=qa.test(n.querySelectorAll))d(function(a){F.appendChild(a).innerHTML="<a id='"+r+"'></a><select id='"+r+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||O.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+
r+"-]").length||O.push("~=");a.querySelectorAll(":checked").length||O.push(":checked");a.querySelectorAll("a#"+r+"+*").length||O.push(".#.+[+~]")}),d(function(a){var b=n.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&O.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||O.push(":enabled",":disabled");a.querySelectorAll("*,:x");O.push(",.*:")});(V.matchesSelector=qa.test(z=F.matches||
F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&d(function(a){V.disconnectedMatch=z.call(a,"div");z.call(a,"[s!='']:x");y.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
O=O.length&&new RegExp(O.join("|"));y=y.length&&new RegExp(y.join("|"));D=(b=qa.test(F.compareDocumentPosition))||qa.test(F.contains)?function(a,b){var q=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(q.contains?q.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Q=b?function(a,b){if(a===b)return B=!0,0;var q=!a.compareDocumentPosition-!b.compareDocumentPosition;if(q)return q;
q=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return q&1||!V.sortDetached&&b.compareDocumentPosition(a)===q?a===n||a.ownerDocument===W&&D(W,a)?-1:b===n||b.ownerDocument===W&&D(W,b)?1:I?T(I,a)-T(I,b):0:q&4?-1:1}:function(a,b){if(a===b)return B=!0,0;var q=0,g=a.parentNode,d=b.parentNode,c=[a],m=[b];if(!g||!d)return a===n?-1:b===n?1:g?-1:d?1:I?T(I,a)-T(I,b):0;if(g===d)return v(a,b);for(;a=a.parentNode;)c.unshift(a);for(a=b;a=a.parentNode;)m.unshift(a);for(;c[q]===m[q];)q++;
return q?v(c[q],m[q]):c[q]===W?-1:m[q]===W?1:0};return n};b.matches=function(a,q){return b(a,null,null,q)};b.matchesSelector=function(a,q){(a.ownerDocument||a)!==n&&na(a);q=q.replace(Fa,"='$1']");if(!(!V.matchesSelector||!w||la[q+" "]||y&&y.test(q)||O&&O.test(q)))try{var g=z.call(a,q);if(g||V.disconnectedMatch||a.document&&11!==a.document.nodeType)return g}catch(Cc){}return 0<b(q,n,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==n&&na(a);return D(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==n&&na(a);var q=U.attrHandle[b.toLowerCase()];q=q&&ja.call(U.attrHandle,b.toLowerCase())?q(a,b,!w):void 0;return void 0!==q?q:V.attributes||!w?a.getAttribute(b):(q=a.getAttributeNode(b))&&q.specified?q.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,q=[],g=0,d=0;B=!V.detectDuplicates;I=!V.sortStable&&a.slice(0);a.sort(Q);if(B){for(;b=a[d++];)b===a[d]&&(g=q.push(d));for(;g--;)a.splice(q[g],1)}I=null;return a};var Ga=b.getText=
function(a){var b="",q=0;var g=a.nodeType;if(!g)for(;g=a[q++];)b+=Ga(g);else if(1===g||9===g||11===g){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=Ga(a)}else if(3===g||4===g)return a.nodeValue;return b};var U=b.selectors={cacheLength:50,createPseudo:g,match:ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(fa,
ea);a[3]=(a[3]||a[4]||a[5]||"").replace(fa,ea);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,q=!a[6]&&a[2];if(ca.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":q&&Y.test(q)&&(b=ha(q,!0))&&(b=q.indexOf(")",q.length-b)-q.length)&&(a[0]=a[0].slice(0,b),a[2]=
q.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(fa,ea).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=N[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),N(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,q,g){return function(d){d=b.attr(d,
a);if(null==d)return"!="===q;if(!q)return!0;d+="";return"="===q?d===g:"!="===q?d!==g:"^="===q?g&&0===d.indexOf(g):"*="===q?g&&-1<d.indexOf(g):"$="===q?g&&d.slice(-g.length)===g:"~="===q?-1<(" "+d.replace(Ea," ")+" ").indexOf(g):"|="===q?d===g||d.slice(0,g.length+1)===g+"-":!1}},CHILD:function(a,b,q,g,d){var c="nth"!==a.slice(0,3),v="last"!==a.slice(-4),m="of-type"===b;return 1===g&&0===d?function(a){return!!a.parentNode}:function(b,q,f){var u,x;q=c!==v?"nextSibling":"previousSibling";var A=b.parentNode,
K=m&&b.nodeName.toLowerCase();f=!f&&!m;var l=!1;if(A){if(c){for(;q;){for(u=b;u=u[q];)if(m?u.nodeName.toLowerCase()===K:1===u.nodeType)return!1;var t=q="only"===a&&!t&&"nextSibling"}return!0}t=[v?A.firstChild:A.lastChild];if(v&&f){u=A;var e=u[r]||(u[r]={});e=e[u.uniqueID]||(e[u.uniqueID]={});l=e[a]||[];l=(x=l[0]===S&&l[1])&&l[2];for(u=x&&A.childNodes[x];u=++x&&u&&u[q]||(l=x=0)||t.pop();)if(1===u.nodeType&&++l&&u===b){e[a]=[S,x,l];break}}else if(f&&(u=b,e=u[r]||(u[r]={}),e=e[u.uniqueID]||(e[u.uniqueID]=
{}),l=e[a]||[],l=x=l[0]===S&&l[1]),!1===l)for(;(u=++x&&u&&u[q]||(l=x=0)||t.pop())&&((m?u.nodeName.toLowerCase()!==K:1!==u.nodeType)||!++l||(f&&(e=u[r]||(u[r]={}),e=e[u.uniqueID]||(e[u.uniqueID]={}),e[a]=[S,l]),u!==b)););l-=d;return l===g||0===l%g&&0<=l/g}}},PSEUDO:function(a,q){var d=U.pseudos[a]||U.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(d[r])return d(q);if(1<d.length){var c=[a,a,"",q];return U.setFilters.hasOwnProperty(a.toLowerCase())?g(function(a,b){for(var g,c=d(a,q),
v=c.length;v--;)g=T(a,c[v]),a[g]=!(b[g]=c[v])}):function(a){return d(a,0,c)}}return d}},pseudos:{not:g(function(a){var b=[],q=[],d=La(a.replace(ua,"$1"));return d[r]?g(function(a,b,q,g){g=d(a,null,g,[]);for(var c=a.length;c--;)if(q=g[c])a[c]=!(b[c]=q)}):function(a,g,c){b[0]=a;d(b,null,c,q);b[0]=null;return!q.pop()}}),has:g(function(a){return function(q){return 0<b(a,q).length}}),contains:g(function(a){a=a.replace(fa,ea);return function(b){return-1<(b.textContent||b.innerText||Ga(b)).indexOf(a)}}),
lang:g(function(a){ma.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(fa,ea).toLowerCase();return function(b){var q;do if(q=w?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return q=q.toLowerCase(),q===a||0===q.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var q=a.location&&a.location.hash;return q&&q.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!U.pseudos.empty(a)},header:function(a){return aa.test(a.nodeName)},input:function(a){return ka.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:u(function(){return[0]}),last:u(function(a,b){return[b-1]}),eq:u(function(a,b,q){return[0>q?q+b:q]}),even:u(function(a,b){for(var q=0;q<b;q+=2)a.push(q);return a}),odd:u(function(a,b){for(var q=1;q<b;q+=2)a.push(q);return a}),lt:u(function(a,b,q){for(b=
0>q?q+b:q;0<=--b;)a.push(b);return a}),gt:u(function(a,b,q){for(q=0>q?q+b:q;++q<b;)a.push(q);return a})}};U.pseudos.nth=U.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[h]=m(h);for(h in{submit:!0,reset:!0})U.pseudos[h]=f(h);A.prototype=U.filters=U.pseudos;U.setFilters=new A;var ha=b.tokenize=function(a,q){var g,d,c,v,m;if(v=ba[a+" "])return q?0:v.slice(0);v=a;var f=[];for(m=U.preFilter;v;){if(!u||(g=M.exec(v)))g&&(v=v.slice(g[0].length)||v),f.push(d=[]);var u=!1;
if(g=Ka.exec(v))u=g.shift(),d.push({value:u,type:g[0].replace(ua," ")}),v=v.slice(u.length);for(c in U.filter)!(g=ca[c].exec(v))||m[c]&&!(g=m[c](g))||(u=g.shift(),d.push({value:u,type:c,matches:g}),v=v.slice(u.length));if(!u)break}return q?v.length:v?b.error(a):ba(a,f).slice(0)};var La=b.compile=function(a,b){var q,g=[],d=[],c=la[a+" "];if(!c){b||(b=ha(a));for(q=b.length;q--;)c=p(b[q]),c[r]?g.push(c):d.push(c);c=la(a,k(d,g));c.selector=a}return c};var da=b.select=function(a,b,q,g){var d,c,v,m="function"===
typeof a&&a,f=!g&&ha(a=m.selector||a);q=q||[];if(1===f.length){var u=f[0]=f[0].slice(0);if(2<u.length&&"ID"===(c=u[0]).type&&V.getById&&9===b.nodeType&&w&&U.relative[u[1].type]){b=(U.find.ID(c.matches[0].replace(fa,ea),b)||[])[0];if(!b)return q;m&&(b=b.parentNode);a=a.slice(u.shift().value.length)}for(d=ca.needsContext.test(a)?0:u.length;d--;){c=u[d];if(U.relative[v=c.type])break;if(v=U.find[v])if(g=v(c.matches[0].replace(fa,ea),X.test(u[0].type)&&x(b.parentNode)||b)){u.splice(d,1);a=g.length&&K(u);
if(!a)return H.apply(q,g),q;break}}}(m||La(a,f))(g,b,!w,q,!b||X.test(a)&&x(b.parentNode)||b);return q};V.sortStable=r.split("").sort(Q).join("")===r;V.detectDuplicates=!!B;na();V.sortDetached=d(function(a){return a.compareDocumentPosition(n.createElement("div"))&1});d(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||c("type|href|height|width",function(a,b,q){if(!q)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});V.attributes&&d(function(a){a.innerHTML=
"<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||c("value",function(a,b,q){if(!q&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,q){var g;if(!q)return!0===a[b]?b.toLowerCase():(g=a.getAttributeNode(b))&&g.specified?g.value:null});return b}(h);
t.find=ha;t.expr=ha.selectors;t.expr[":"]=t.expr.pseudos;t.uniqueSort=t.unique=ha.uniqueSort;t.text=ha.getText;t.isXMLDoc=ha.isXML;t.contains=ha.contains;var za=function(a,b,g){for(var q=[],d=void 0!==g;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&t(a).is(g))break;q.push(a)}return q},pb=function(a,b){for(var q=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&q.push(a);return q},qb=t.expr.match.needsContext,rb=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Hb=/^.[^:#\[\.,]*$/;t.filter=function(a,b,g){var q=b[0];
g&&(a=":not("+a+")");return 1===b.length&&1===q.nodeType?t.find.matchesSelector(q,a)?[q]:[]:t.find.matches(a,t.grep(b,function(a){return 1===a.nodeType}))};t.fn.extend({find:function(a){var b,q=[],g=this,d=g.length;if("string"!==typeof a)return this.pushStack(t(a).filter(function(){for(b=0;b<d;b++)if(t.contains(g[b],this))return!0}));for(b=0;b<d;b++)t.find(a,g[b],q);q=this.pushStack(1<d?t.unique(q):q);q.selector=this.selector?this.selector+" "+a:a;return q},filter:function(a){return this.pushStack(k(this,
a||[],!1))},not:function(a){return this.pushStack(k(this,a||[],!0))},is:function(a){return!!k(this,"string"===typeof a&&qb.test(a)?t(a):a||[],!1).length}});var Rb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(t.fn.init=function(a,b,g){if(!a)return this;g=g||sb;if("string"===typeof a){var q="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Rb.exec(a);if(!q||!q[1]&&b)return!b||b.jquery?(b||g).find(a):this.constructor(b).find(a);if(q[1]){if(b=b instanceof t?b[0]:b,t.merge(this,t.parseHTML(q[1],
b&&b.nodeType?b.ownerDocument||b:J,!0)),rb.test(q[1])&&t.isPlainObject(b))for(q in b)if(t.isFunction(this[q]))this[q](b[q]);else this.attr(q,b[q])}else{if((b=J.getElementById(q[2]))&&b.parentNode){if(b.id!==q[2])return sb.find(a);this.length=1;this[0]=b}this.context=J;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(t.isFunction(a))return"undefined"!==typeof g.ready?g.ready(a):a(t);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);
return t.makeArray(a,this)}).prototype=t.fn;var sb=t(J);var Sb=/^(?:parents|prev(?:Until|All))/,Tb={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({has:function(a){var b,q=t(a,this),g=q.length;return this.filter(function(){for(b=0;b<g;b++)if(t.contains(this,q[b]))return!0})},closest:function(a,b){for(var q,g=0,d=this.length,c=[],v=qb.test(a)||"string"!==typeof a?t(a,b||this.context):0;g<d;g++)for(q=this[g];q&&q!==b;q=q.parentNode)if(11>q.nodeType&&(v?-1<v.index(q):1===q.nodeType&&t.find.matchesSelector(q,
a))){c.push(q);break}return this.pushStack(1<c.length?t.uniqueSort(c):c)},index:function(a){return a?"string"===typeof a?t.inArray(this[0],t(a)):t.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(t.uniqueSort(t.merge(this.get(),t(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});t.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return za(a,
"parentNode")},parentsUntil:function(a,b,g){return za(a,"parentNode",g)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return za(a,"nextSibling")},prevAll:function(a){return za(a,"previousSibling")},nextUntil:function(a,b,g){return za(a,"nextSibling",g)},prevUntil:function(a,b,g){return za(a,"previousSibling",g)},siblings:function(a){return pb((a.parentNode||{}).firstChild,a)},children:function(a){return pb(a.firstChild)},contents:function(a){return t.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:t.merge([],a.childNodes)}},function(a,b){t.fn[a]=function(q,g){var d=t.map(this,b,q);"Until"!==a.slice(-5)&&(g=q);g&&"string"===typeof g&&(d=t.filter(g,d));1<this.length&&(Tb[a]||(d=t.uniqueSort(d)),Sb.test(a)&&(d=d.reverse()));return this.pushStack(d)}});var ia=/\S+/g;t.Callbacks=function(a){a="string"===typeof a?y(a):t.extend({},a);var b,q,g,d,c=[],v=[],m=-1,f=function(){d=a.once;for(g=b=!0;v.length;m=-1)for(q=v.shift();++m<c.length;)!1===c[m].apply(q[0],
q[1])&&a.stopOnFalse&&(m=c.length,q=!1);a.memory||(q=!1);b=!1;d&&(c=q?[]:"")},u={add:function(){c&&(q&&!b&&(m=c.length-1,v.push(q)),function Ua(b){t.each(b,function(b,q){t.isFunction(q)?a.unique&&u.has(q)||c.push(q):q&&q.length&&"string"!==t.type(q)&&Ua(q)})}(arguments),q&&!b&&f());return this},remove:function(){t.each(arguments,function(a,b){for(var q;-1<(q=t.inArray(b,c,q));)c.splice(q,1),q<=m&&m--});return this},has:function(a){return a?-1<t.inArray(a,c):0<c.length},empty:function(){c&&(c=[]);
return this},disable:function(){d=v=[];c=q="";return this},disabled:function(){return!c},lock:function(){d=!0;q||u.disable();return this},locked:function(){return!!d},fireWith:function(a,q){d||(q=q||[],q=[a,q.slice?q.slice():q],v.push(q),b||f());return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!g}};return u};t.extend({Deferred:function(a){var b=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],
["notify","progress",t.Callbacks("memory")]],q="pending",g={state:function(){return q},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return t.Deferred(function(q){t.each(b,function(b,c){var v=t.isFunction(a[b])&&a[b];d[c[1]](function(){var a=v&&v.apply(this,arguments);if(a&&t.isFunction(a.promise))a.promise().progress(q.notify).done(q.resolve).fail(q.reject);else q[c[0]+"With"](this===g?q.promise():this,v?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?t.extend(a,g):g}},d={};g.pipe=g.then;t.each(b,function(a,c){var v=c[2],m=c[3];g[c[1]]=v.add;m&&v.add(function(){q=m},b[a^1][2].disable,b[2][2].lock);d[c[0]]=function(){d[c[0]+"With"](this===d?g:this,arguments);return this};d[c[0]+"With"]=v.fireWith});g.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,q=ka.call(arguments),g=q.length,d=1!==g||a&&t.isFunction(a.promise)?g:0,c=1===d?a:t.Deferred(),v=function(a,b,q){return function(g){b[a]=this;q[a]=1<arguments.length?ka.call(arguments):
g;q===f?c.notifyWith(b,q):--d||c.resolveWith(b,q)}},m;if(1<g){var f=Array(g);var u=Array(g);for(m=Array(g);b<g;b++)q[b]&&t.isFunction(q[b].promise)?q[b].promise().progress(v(b,u,f)).done(v(b,m,q)).fail(c.reject):--d}d||c.resolveWith(m,q);return c.promise()}});var Ma;t.fn.ready=function(a){t.ready.promise().done(a);return this};t.extend({isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){(!0===a?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==a&&0<--t.readyWait||
(Ma.resolveWith(J,[t]),t.fn.triggerHandler&&(t(J).triggerHandler("ready"),t(J).off("ready"))))}});t.ready.promise=function(a){if(!Ma)if(Ma=t.Deferred(),"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll)h.setTimeout(t.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",z),h.addEventListener("load",z);else{J.attachEvent("onreadystatechange",z);h.attachEvent("onload",z);var b=!1;try{b=null==h.frameElement&&J.documentElement}catch(Gb){}b&&b.doScroll&&
function Ra(){if(!t.isReady){try{b.doScroll("left")}catch(wc){return h.setTimeout(Ra,50)}w();t.ready()}}()}return Ma.promise(a)};t.ready.promise();for(var Ub in t(G))break;G.ownFirst="0"===Ub;G.inlineBlockNeedsLayout=!1;t(function(){var a;if((a=J.getElementsByTagName("body")[0])&&a.style){var b=J.createElement("div");var g=J.createElement("div");g.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";a.appendChild(g).appendChild(b);"undefined"!==typeof b.style.zoom&&(b.style.cssText=
"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",G.inlineBlockNeedsLayout=b=3===b.offsetWidth)&&(a.style.zoom=1);a.removeChild(g)}});(function(){var a=J.createElement("div");G.deleteExpando=!0;try{delete a.test}catch(L){G.deleteExpando=!1}})();var Ba=function(a){var b=t.noData[(a.nodeName+" ").toLowerCase()],q=+a.nodeType||1;return 1!==q&&9!==q?!1:!b||!0!==b&&a.getAttribute("classid")===b},Jb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ib=/([A-Z])/g;t.extend({cache:{},noData:{"applet ":!0,"embed ":!0,
"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?t.cache[a[t.expando]]:a[t.expando];return!!a&&!B(a)},data:function(a,b,g){return p(a,b,g)},removeData:function(a,b){return F(a,b)},_data:function(a,b,g){return p(a,b,g,!0)},_removeData:function(a,b){return F(a,b,!0)}});t.fn.extend({data:function(a,b){var g,q=this[0],d=q&&q.attributes;if(void 0===a){if(this.length){var c=t.data(q);if(1===q.nodeType&&!t._data(q,"parsedAttrs")){for(g=d.length;g--;)if(d[g]){var v=
d[g].name;0===v.indexOf("data-")&&(v=t.camelCase(v.slice(5)),D(q,v,c[v]))}t._data(q,"parsedAttrs",!0)}}return c}return"object"===typeof a?this.each(function(){t.data(this,a)}):1<arguments.length?this.each(function(){t.data(this,a,b)}):q?D(q,a,t.data(q,a)):void 0},removeData:function(a){return this.each(function(){t.removeData(this,a)})}});t.extend({queue:function(a,b,g){if(a){b=(b||"fx")+"queue";var q=t._data(a,b);g&&(!q||t.isArray(g)?q=t._data(a,b,t.makeArray(g)):q.push(g));return q||[]}},dequeue:function(a,
b){b=b||"fx";var g=t.queue(a,b),q=g.length,d=g.shift(),c=t._queueHooks(a,b),v=function(){t.dequeue(a,b)};"inprogress"===d&&(d=g.shift(),q--);d&&("fx"===b&&g.unshift("inprogress"),delete c.stop,d.call(a,v,c));!q&&c&&c.empty.fire()},_queueHooks:function(a,b){var g=b+"queueHooks";return t._data(a,g)||t._data(a,g,{empty:t.Callbacks("once memory").add(function(){t._removeData(a,b+"queue");t._removeData(a,g)})})}});t.fn.extend({queue:function(a,b){var g=2;"string"!==typeof a&&(b=a,a="fx",g--);return arguments.length<
g?t.queue(this[0],a):void 0===b?this:this.each(function(){var g=t.queue(this,a,b);t._queueHooks(this,a);"fx"===a&&"inprogress"!==g[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var g,q=1,d=t.Deferred(),c=this,v=this.length,m=function(){--q||d.resolveWith(c,[c])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";v--;)(g=t._data(c[v],a+"queueHooks"))&&g.empty&&(q++,g.empty.add(m));
m();return d.promise(b)}});(function(){var a;G.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b;if((b=J.getElementsByTagName("body")[0])&&b.style){var g=J.createElement("div");var q=J.createElement("div");q.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(q).appendChild(g);"undefined"!==typeof g.style.zoom&&(g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
g.appendChild(J.createElement("div")).style.width="5px",a=3!==g.offsetWidth);b.removeChild(q);return a}}})();var Ya=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Sa=new RegExp("^(?:([+-])=|)("+Ya+")([a-z%]*)$","i"),sa=["Top","Right","Bottom","Left"],Da=function(a,b){a=b||a;return"none"===t.css(a,"display")||!t.contains(a.ownerDocument,a)},ra=function(a,b,g,d,c,v,m){var q=0,f=a.length,u=null==g;if("object"===t.type(g))for(q in c=!0,g)ra(a,b,q,g[q],!0,v,m);else if(void 0!==d&&(c=!0,t.isFunction(d)||
(m=!0),u&&(m?(b.call(a,d),b=null):(u=b,b=function(a,b,g){return u.call(t(a),g)})),b))for(;q<f;q++)b(a[q],g,m?d:d.call(a[q],q,b(a[q],g)));return c?a:u?b.call(a):f?b(a[0],g):v},Ta=/^(?:checkbox|radio)$/i,ib=/<([\w:-]+)/,kb=/^$|\/(?:java|ecma)script/i,Va=/^\s+/;(function(){var a=J.createElement("div"),b=J.createDocumentFragment(),g=J.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";G.leadingWhitespace=3===a.firstChild.nodeType;G.tbody=!a.getElementsByTagName("tbody").length;
G.htmlSerialize=!!a.getElementsByTagName("link").length;G.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML;g.type="checkbox";g.checked=!0;b.appendChild(g);G.appendChecked=g.checked;a.innerHTML="<textarea>x</textarea>";G.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;b.appendChild(a);g=J.createElement("input");g.setAttribute("type","radio");g.setAttribute("checked","checked");g.setAttribute("name","t");a.appendChild(g);G.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
G.noCloneEvent=!!a.addEventListener;a[t.expando]=1;G.attributes=!a.getAttribute(t.expando)})();var da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:G.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};
da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;var Kb=/<|&#?\w+;/,jb=/<tbody/i;(function(){var a,b=J.createElement("div");for(a in{submit:!0,change:!0,focusin:!0}){var g="on"+a;(G[a]=g in h)||(b.setAttribute(g,"t"),G[a]=!1===b.attributes[g].expando)}})();var Za=/^(?:input|select|textarea)$/i,Vb=/^key/,Wb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tb=/^(?:focusinfocus|focusoutblur)$/,ub=/^([^.]*)(?:\.(.+)|)/;t.event={global:{},add:function(a,b,g,d,c){var q,
v,m,f,u;if(v=t._data(a)){if(g.handler){var x=g;g=x.handler;c=x.selector}g.guid||(g.guid=t.guid++);(q=v.events)||(q=v.events={});(m=v.handle)||(m=v.handle=function(a){return"undefined"===typeof t||a&&t.event.triggered===a.type?void 0:t.event.dispatch.apply(m.elem,arguments)},m.elem=a);b=(b||"").match(ia)||[""];for(v=b.length;v--;){var l=ub.exec(b[v])||[];var A=f=l[1];var K=(l[2]||"").split(".").sort();A&&(l=t.event.special[A]||{},A=(c?l.delegateType:l.bindType)||A,l=t.event.special[A]||{},f=t.extend({type:A,
origType:f,data:d,handler:g,guid:g.guid,selector:c,needsContext:c&&t.expr.match.needsContext.test(c),namespace:K.join(".")},x),(u=q[A])||(u=q[A]=[],u.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,K,m)||(a.addEventListener?a.addEventListener(A,m,!1):a.attachEvent&&a.attachEvent("on"+A,m))),l.add&&(l.add.call(a,f),f.handler.guid||(f.handler.guid=g.guid)),c?u.splice(u.delegateCount++,0,f):u.push(f),t.event.global[A]=!0)}a=null}},remove:function(a,b,g,d,c){var q,v,m,f,u,x=t.hasData(a)&&t._data(a);if(x&&
(f=x.events)){b=(b||"").match(ia)||[""];for(m=b.length;m--;){var l=ub.exec(b[m])||[];var A=u=l[1];var K=(l[2]||"").split(".").sort();if(A){var e=t.event.special[A]||{};A=(d?e.delegateType:e.bindType)||A;var C=f[A]||[];l=l[2]&&new RegExp("(^|\\.)"+K.join("\\.(?:.*\\.|)")+"(\\.|$)");for(v=q=C.length;q--;){var p=C[q];!c&&u!==p.origType||g&&g.guid!==p.guid||l&&!l.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(C.splice(q,1),p.selector&&C.delegateCount--,e.remove&&e.remove.call(a,p))}v&&
!C.length&&(e.teardown&&!1!==e.teardown.call(a,K,x.handle)||t.removeEvent(a,A,x.handle),delete f[A])}else for(A in f)t.event.remove(a,A+b[m],g,d,!0)}t.isEmptyObject(f)&&(delete x.handle,t._removeData(a,"events"))}},trigger:function(a,b,g,d){var q,c,v=[g||J],m=ma.call(a,"type")?a.type:a;var f=ma.call(a,"namespace")?a.namespace.split("."):[];var u=q=g=g||J;if(3!==g.nodeType&&8!==g.nodeType&&!tb.test(m+t.event.triggered)){-1<m.indexOf(".")&&(f=m.split("."),m=f.shift(),f.sort());var x=0>m.indexOf(":")&&
"on"+m;a=a[t.expando]?a:new t.Event(m,"object"===typeof a&&a);a.isTrigger=d?2:3;a.namespace=f.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=g);b=null==b?[a]:t.makeArray(b,[a]);f=t.event.special[m]||{};if(d||!f.trigger||!1!==f.trigger.apply(g,b)){if(!d&&!f.noBubble&&!t.isWindow(g)){var A=f.delegateType||m;tb.test(A+m)||(u=u.parentNode);for(;u;u=u.parentNode)v.push(u),q=u;q===(g.ownerDocument||J)&&v.push(q.defaultView||
q.parentWindow||h)}for(c=0;(u=v[c++])&&!a.isPropagationStopped();)a.type=1<c?A:f.bindType||m,(q=(t._data(u,"events")||{})[a.type]&&t._data(u,"handle"))&&q.apply(u,b),(q=x&&u[x])&&q.apply&&Ba(u)&&(a.result=q.apply(u,b),!1===a.result&&a.preventDefault());a.type=m;if(!(d||a.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),b))&&Ba(g)&&x&&g[m]&&!t.isWindow(g)){(q=g[x])&&(g[x]=null);t.event.triggered=m;try{g[m]()}catch(Ua){}t.event.triggered=void 0;q&&(g[x]=q)}return a.result}}},dispatch:function(a){a=
t.event.fix(a);var b,g,q,d=ka.call(arguments);var c=(t._data(this,"events")||{})[a.type]||[];var v=t.event.special[a.type]||{};d[0]=a;a.delegateTarget=this;if(!v.preDispatch||!1!==v.preDispatch.call(this,a)){var m=t.event.handlers.call(this,a,c);for(c=0;(q=m[c++])&&!a.isPropagationStopped();)for(a.currentTarget=q.elem,b=0;(g=q.handlers[b++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(g.namespace))a.handleObj=g,a.data=g.data,g=((t.event.special[g.origType]||{}).handle||
g.handler).apply(q.elem,d),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation());v.postDispatch&&v.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var g,q=[],d=b.delegateCount,c=a.target;if(d&&c.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==a.type)){var v=[];for(g=0;g<d;g++){var m=b[g];var f=m.selector+" ";void 0===v[f]&&(v[f]=m.needsContext?-1<t(f,this).index(c):t.find(f,
this,null,[c]).length);v[f]&&v.push(m)}v.length&&q.push({elem:c,handlers:v})}d<b.length&&q.push({elem:this,handlers:b.slice(d)});return q},fix:function(a){if(a[t.expando])return a;var b=a.type;var g=a,q=this.fixHooks[b];q||(this.fixHooks[b]=q=Wb.test(b)?this.mouseHooks:Vb.test(b)?this.keyHooks:{});var d=q.props?this.props.concat(q.props):this.props;a=new t.Event(g);for(b=d.length;b--;){var c=d[b];a[c]=g[c]}a.target||(a.target=g.srcElement||J);3===a.target.nodeType&&(a.target=a.target.parentNode);
a.metaKey=!!a.metaKey;return q.filter?q.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,
b){var g=b.button,q=b.fromElement;if(null==a.pageX&&null!=b.clientX){var d=a.target.ownerDocument||J;var c=d.documentElement;d=d.body;a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0);a.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)}!a.relatedTarget&&q&&(a.relatedTarget=q===a.target?b.toElement:q);a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
x()&&this.focus)try{return this.focus(),!1}catch(q){}},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(t.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return t.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,g){a=t.extend(new t.Event,
g,{type:a,isSimulated:!0});t.event.trigger(a,null,b);a.isDefaultPrevented()&&g.preventDefault()}};t.removeEvent=J.removeEventListener?function(a,b,g){a.removeEventListener&&a.removeEventListener(b,g)}:function(a,b,g){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,g))};t.Event=function(a,b){if(!(this instanceof t.Event))return new t.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===
a.returnValue?m:C):this.type=a;b&&t.extend(this,b);this.timeStamp=a&&a.timeStamp||t.now();this[t.expando]=!0};t.Event.prototype={constructor:t.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),
a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){t.event.special[a]={delegateType:b,bindType:b,handle:function(a){var g=a.relatedTarget,d=a.handleObj;if(!g||g!==this&&!t.contains(this,g)){a.type=d.origType;var q=d.handler.apply(this,
arguments);a.type=b}return q}}});G.submit||(t.event.special.submit={setup:function(){if(t.nodeName(this,"form"))return!1;t.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=t.nodeName(a,"input")||t.nodeName(a,"button")?t.prop(a,"form"):void 0)&&!t._data(a,"submit")&&(t.event.add(a,"submit._submit",function(a){a._submitBubble=!0}),t._data(a,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&t.event.simulate("submit",
this.parentNode,a))},teardown:function(){if(t.nodeName(this,"form"))return!1;t.event.remove(this,"._submit")}});G.change||(t.event.special.change={setup:function(){if(Za.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)t.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),t.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);t.event.simulate("change",this,a)});return!1}t.event.add(this,
"beforeactivate._change",function(a){a=a.target;Za.test(a.nodeName)&&!t._data(a,"change")&&(t.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||t.event.simulate("change",this.parentNode,a)}),t._data(a,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){t.event.remove(this,"._change");return!Za.test(this.nodeName)}});
G.focusin||t.each({focus:"focusin",blur:"focusout"},function(a,b){var g=function(a){t.event.simulate(b,a.target,t.event.fix(a))};t.event.special[b]={setup:function(){var d=this.ownerDocument||this,c=t._data(d,b);c||d.addEventListener(a,g,!0);t._data(d,b,(c||0)+1)},teardown:function(){var d=this.ownerDocument||this,c=t._data(d,b)-1;c?t._data(d,b,c):(d.removeEventListener(a,g,!0),t._removeData(d,b))}}});t.fn.extend({on:function(a,b,g,c){return d(this,a,b,g,c)},one:function(a,b,g,c){return d(this,a,
b,g,c,1)},off:function(a,b,g){if(a&&a.preventDefault&&a.handleObj){var d=a.handleObj;t(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)g=b,b=void 0;!1===g&&(g=C);return this.each(function(){t.event.remove(this,a,g,b)})},trigger:function(a,b){return this.each(function(){t.event.trigger(a,b,this)})},triggerHandler:function(a,b){var g=this[0];if(g)return t.event.trigger(a,
b,g,!0)}});var Xb=/ jQuery\d+="(?:null|\d+)"/g,vb=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Zb=/<script|<style|<link/i,Mb=/checked\s*(?:[^=]|=\s*.checked.)/i,Lb=/^true\/(.*)/,Nb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$a=l(J).appendChild(J.createElement("div"));t.extend({htmlPrefilter:function(a){return a.replace(Yb,
"<$1></$2>")},clone:function(a,b,d){var q,m,u=t.contains(a.ownerDocument,a);if(G.html5Clone||t.isXMLDoc(a)||!vb.test("<"+a.nodeName+">"))var x=a.cloneNode(!0);else $a.innerHTML=a.outerHTML,$a.removeChild(x=$a.firstChild);if(!(G.noCloneEvent&&G.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||t.isXMLDoc(a))){var l=f(x);var K=f(a);for(m=0;null!=(q=K[m]);++m)if(l[m]){var e=void 0,C=q,p=l[m];if(1===p.nodeType){var k=p.nodeName.toLowerCase();if(!G.noCloneEvent&&p[t.expando]){q=t._data(p);for(e in q.events)t.removeEvent(p,
e,q.handle);p.removeAttribute(t.expando)}if("script"===k&&p.text!==C.text)A(p).text=C.text,g(p);else if("object"===k)p.parentNode&&(p.outerHTML=C.outerHTML),G.html5Clone&&C.innerHTML&&!t.trim(p.innerHTML)&&(p.innerHTML=C.innerHTML);else if("input"===k&&Ta.test(C.type))p.defaultChecked=p.checked=C.checked,p.value!==C.value&&(p.value=C.value);else if("option"===k)p.defaultSelected=p.selected=C.defaultSelected;else if("input"===k||"textarea"===k)p.defaultValue=C.defaultValue}}}if(b)if(d)for(K=K||f(a),
l=l||f(x),m=0;null!=(q=K[m]);m++)v(q,l[m]);else v(a,x);l=f(x,"script");0<l.length&&c(l,!u&&f(a,"script"));return x},cleanData:function(a,b){for(var g,d,c,q,v=0,m=t.expando,f=t.cache,u=G.attributes,x=t.event.special;null!=(g=a[v]);v++)if(b||Ba(g))if(q=(c=g[m])&&f[c]){if(q.events)for(d in q.events)x[d]?t.event.remove(g,d):t.removeEvent(g,d,q.handle);f[c]&&(delete f[c],u||"undefined"===typeof g.removeAttribute?g[m]=void 0:g.removeAttribute(m),ca.push(c))}}});t.fn.extend({domManip:K,detach:function(a){return I(this,
a,!0)},remove:function(a){return I(this,a)},text:function(a){return ra(this,function(a){return void 0===a?t.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(a))},null,a,arguments.length)},append:function(){return K(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=u(this,a);b.insertBefore(a,
b.firstChild)}})},before:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&t.cleanData(f(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&t.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?
a:b;return this.map(function(){return t.clone(this,a,b)})},html:function(a){return ra(this,function(a){var b=this[0]||{},g=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Xb,""):void 0;if(!("string"!==typeof a||Zb.test(a)||!G.htmlSerialize&&vb.test(a)||!G.leadingWhitespace&&Va.test(a)||da[(ib.exec(a)||["",""])[1].toLowerCase()])){a=t.htmlPrefilter(a);try{for(;g<d;g++)b=this[g]||{},1===b.nodeType&&(t.cleanData(f(b,!1)),b.innerHTML=a);b=0}catch(xc){}}b&&this.empty().append(a)},
null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var g=this.parentNode;0>t.inArray(this,a)&&(t.cleanData(f(this)),g&&g.replaceChild(b,this))},a)}});t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){t.fn[a]=function(a){for(var g=0,d=[],c=t(a),q=c.length-1;g<=q;g++)a=g===q?this:this.clone(!0),t(c[g])[b](a),ea.apply(d,a.get());return this.pushStack(d)}});var Ca,lb={HTML:"block",
BODY:"block"},wb=/^margin/,Ja=new RegExp("^("+Ya+")(?!px)[a-z%]+$","i"),ab=function(a,b,g,d){var c,q={};for(c in b)q[c]=a.style[c],a.style[c]=b[c];g=g.apply(a,d||[]);for(c in b)a.style[c]=q[c];return g},xb=J.documentElement;(function(){function a(){var a=J.documentElement;a.appendChild(f);u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";b=d=m=!1;g=v=!0;if(h.getComputedStyle){var q=h.getComputedStyle(u);
b="1%"!==(q||{}).top;m="2px"===(q||{}).marginLeft;d="4px"===(q||{width:"4px"}).width;u.style.marginRight="50%";g="4px"===(q||{marginRight:"4px"}).marginRight;q=u.appendChild(J.createElement("div"));q.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";q.style.marginRight=q.style.width="0";u.style.width="1px";v=!parseFloat((h.getComputedStyle(q)||{}).marginRight);u.removeChild(q)}u.style.display=
"none";if(c=0===u.getClientRects().length)if(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",q=u.getElementsByTagName("td"),q[0].style.cssText="margin:0;border:0;padding:0;display:none",c=0===q[0].offsetHeight)q[0].style.display="",q[1].style.display="none",c=0===q[0].offsetHeight;a.removeChild(f)}var b,g,d,c,v,m,f=J.createElement("div"),u=J.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",G.opacity=
"0.5"===u.style.opacity,G.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===u.style.backgroundClip,f=J.createElement("div"),f.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",f.appendChild(u),G.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,t.extend(G,{reliableHiddenOffsets:function(){null==b&&a();
return c},boxSizingReliable:function(){null==b&&a();return d},pixelMarginRight:function(){null==b&&a();return g},pixelPosition:function(){null==b&&a();return b},reliableMarginRight:function(){null==b&&a();return v},reliableMarginLeft:function(){null==b&&a();return m}}))})();var $b=/^(top|right|bottom|left)$/;if(h.getComputedStyle){var wa=function(a){var b=a.ownerDocument.defaultView;b&&b.opener||(b=h);return b.getComputedStyle(a)};var ta=function(a,b,g){var d=a.style;var c=(g=g||wa(a))?g.getPropertyValue(b)||
g[b]:void 0;""!==c&&void 0!==c||t.contains(a.ownerDocument,a)||(c=t.style(a,b));if(g&&!G.pixelMarginRight()&&Ja.test(c)&&wb.test(b)){a=d.width;b=d.minWidth;var q=d.maxWidth;d.minWidth=d.maxWidth=d.width=c;c=g.width;d.width=a;d.minWidth=b;d.maxWidth=q}return void 0===c?c:c+""}}else xb.currentStyle&&(wa=function(a){return a.currentStyle},ta=function(a,b,g){var d,c,q=a.style;var v=(g=g||wa(a))?g[b]:void 0;null==v&&q&&q[b]&&(v=q[b]);if(Ja.test(v)&&!$b.test(b)){g=q.left;if(c=(d=a.runtimeStyle)&&d.left)d.left=
a.currentStyle.left;q.left="fontSize"===b?"1em":v;v=q.pixelLeft+"px";q.left=g;c&&(d.left=c)}return void 0===v?v:v+""||"auto"});var bb=/alpha\([^)]*\)/i,ac=/opacity\s*=\s*([^)]*)/i,bc=/^(none|table(?!-c[ea]).+)/,Ob=new RegExp("^("+Ya+")(.*)$","i"),cc={position:"absolute",visibility:"hidden",display:"block"},yb={letterSpacing:"0",fontWeight:"400"},nb=["Webkit","O","Moz","ms"],mb=J.createElement("div").style;t.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=ta(a,"opacity"),""===a?"1":a}}},
cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":G.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,g,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,q=t.camelCase(b),v=a.style;b=t.cssProps[q]||(t.cssProps[q]=Q(q)||q);var m=t.cssHooks[b]||t.cssHooks[q];if(void 0!==g){var f=typeof g;"string"===f&&(c=Sa.exec(g))&&c[1]&&(g=E(a,b,c),f="number");
if(null!=g&&g===g&&("number"===f&&(g+=c&&c[3]||(t.cssNumber[q]?"":"px")),G.clearCloneStyle||""!==g||0!==b.indexOf("background")||(v[b]="inherit"),!(m&&"set"in m)||void 0!==(g=m.set(a,g,d))))try{v[b]=g}catch(zc){}}else return m&&"get"in m&&void 0!==(c=m.get(a,!1,d))?c:v[b]}},css:function(a,b,g,d){var c;var q=t.camelCase(b);b=t.cssProps[q]||(t.cssProps[q]=Q(q)||q);(q=t.cssHooks[b]||t.cssHooks[q])&&"get"in q&&(c=q.get(a,!0,g));void 0===c&&(c=ta(a,b,d));"normal"===c&&b in yb&&(c=yb[b]);return""===g||
g?(a=parseFloat(c),!0===g||isFinite(a)?a||0:c):c}});t.each(["height","width"],function(a,b){t.cssHooks[b]={get:function(a,g,d){if(g)return bc.test(t.css(a,"display"))&&0===a.offsetWidth?ab(a,cc,function(){return Y(a,b,d)}):Y(a,b,d)},set:function(a,g,d){var c=d&&wa(a);return R(a,g,d?H(a,b,d,G.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,c),c):0)}}});G.opacity||(t.cssHooks.opacity={get:function(a,b){return ac.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+
"":b?"1":""},set:function(a,b){var g=a.style;a=a.currentStyle;var d=t.isNumeric(b)?"alpha(opacity="+100*b+")":"",c=a&&a.filter||g.filter||"";g.zoom=1;if((1<=b||""===b)&&""===t.trim(c.replace(bb,""))&&g.removeAttribute&&(g.removeAttribute("filter"),""===b||a&&!a.filter))return;g.filter=bb.test(c)?c.replace(bb,d):c+" "+d}});t.cssHooks.marginRight=ba(G.reliableMarginRight,function(a,b){if(b)return ab(a,{display:"inline-block"},ta,[a,"marginRight"])});t.cssHooks.marginLeft=ba(G.reliableMarginLeft,function(a,
b){if(b)return(parseFloat(ta(a,"marginLeft"))||(t.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-ab(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"});t.each({margin:"",padding:"",border:"Width"},function(a,b){t.cssHooks[a+b]={expand:function(g){var d=0,c={};for(g="string"===typeof g?g.split(" "):[g];4>d;d++)c[a+sa[d]+b]=g[d]||g[d-2]||g[0];return c}};wb.test(a)||(t.cssHooks[a+b].set=R)});t.fn.extend({css:function(a,b){return ra(this,function(a,b,g){var d,c=
{},v=0;if(t.isArray(b)){g=wa(a);for(d=b.length;v<d;v++)c[b[v]]=t.css(a,b[v],!1,g);return c}return void 0!==g?t.style(a,b,g):t.css(a,b)},a,b,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Da(this)?t(this).show():t(this).hide()})}});t.Tween=T;T.prototype={constructor:T,init:function(a,b,g,d,c,v){this.elem=a;this.prop=g;this.easing=c||t.easing._default;this.options=b;
this.start=this.now=this.cur();this.end=d;this.unit=v||(t.cssNumber[g]?"":"px")},cur:function(){var a=T.propHooks[this.prop];return a&&a.get?a.get(this):T.propHooks._default.get(this)},run:function(a){var b,g=T.propHooks[this.prop];this.pos=this.options.duration?b=t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);g&&g.set?g.set(this):T.propHooks._default.set(this);
return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=t.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(t.fx.step[a.prop])t.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[t.cssProps[a.prop]]&&!t.cssHooks[a.prop]?a.elem[a.prop]=a.now:t.style(a.elem,a.prop,a.now+a.unit)}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};t.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};t.fx=T.prototype.init;t.fx.step={};var xa,Na,dc=/^(?:toggle|show|hide)$/,ec=/queueHooks$/;t.Animation=t.extend(P,{tweeners:{"*":[function(a,b){var g=this.createTween(a,b);E(g.elem,a,Sa.exec(b),g);return g}]},tweener:function(a,b){t.isFunction(a)?(b=a,a=["*"]):a=a.match(ia);for(var g,d=0,c=a.length;d<c;d++)g=a[d],P.tweeners[g]=P.tweeners[g]||[],P.tweeners[g].unshift(b)},
prefilters:[function(a,b,g){var d,c=this,v={},q=a.style,m=a.nodeType&&Da(a),f=t._data(a,"fxshow");if(!g.queue){var u=t._queueHooks(a,"fx");if(null==u.unqueued){u.unqueued=0;var x=u.empty.fire;u.empty.fire=function(){u.unqueued||x()}}u.unqueued++;c.always(function(){c.always(function(){u.unqueued--;t.queue(a,"fx").length||u.empty.fire()})})}if(1===a.nodeType&&("height"in b||"width"in b)){g.overflow=[q.overflow,q.overflowX,q.overflowY];var l=t.css(a,"display");var A="none"===l?t._data(a,"olddisplay")||
S(a.nodeName):l;"inline"===A&&"none"===t.css(a,"float")&&(G.inlineBlockNeedsLayout&&"inline"!==S(a.nodeName)?q.zoom=1:q.display="inline-block")}g.overflow&&(q.overflow="hidden",G.shrinkWrapBlocks()||c.always(function(){q.overflow=g.overflow[0];q.overflowX=g.overflow[1];q.overflowY=g.overflow[2]}));for(d in b)if(A=b[d],dc.exec(A)){delete b[d];var K=K||"toggle"===A;if(A===(m?"hide":"show"))if("show"===A&&f&&void 0!==f[d])m=!0;else continue;v[d]=f&&f[d]||t.style(a,d)}else l=void 0;if(t.isEmptyObject(v))"inline"===
("none"===l?S(a.nodeName):l)&&(q.display=l);else for(d in f?"hidden"in f&&(m=f.hidden):f=t._data(a,"fxshow",{}),K&&(f.hidden=!m),m?t(a).show():c.done(function(){t(a).hide()}),c.done(function(){var b;t._removeData(a,"fxshow");for(b in v)t.style(a,b,v[b])}),v)b=Z(m?f[d]:0,d,c),d in f||(f[d]=b.start,m&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],prefilter:function(a,b){b?P.prefilters.unshift(a):P.prefilters.push(a)}});t.speed=function(a,b,g){var d=a&&"object"===typeof a?t.extend({},a):{complete:g||
!g&&b||t.isFunction(a)&&a,duration:a,easing:g&&b||b&&!t.isFunction(b)&&b};d.duration=t.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in t.fx.speeds?t.fx.speeds[d.duration]:t.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){t.isFunction(d.old)&&d.old.call(this);d.queue&&t.dequeue(this,d.queue)};return d};t.fn.extend({fadeTo:function(a,b,g,d){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,g,d)},animate:function(a,
b,g,d){var c=t.isEmptyObject(a),v=t.speed(b,g,d);b=function(){var b=P(this,t.extend({},a),v);(c||t._data(this,"finish"))&&b.stop(!0)};b.finish=b;return c||!1===v.queue?this.each(b):this.queue(v.queue,b)},stop:function(a,b,g){var d=function(a){var b=a.stop;delete a.stop;b(g)};"string"!==typeof a&&(g=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",v=t.timers,q=t._data(this);if(c)q[c]&&q[c].stop&&d(q[c]);else for(c in q)q[c]&&q[c].stop&&
ec.test(c)&&d(q[c]);for(c=v.length;c--;)v[c].elem!==this||null!=a&&v[c].queue!==a||(v[c].anim.stop(g),b=!1,v.splice(c,1));!b&&g||t.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=t._data(this),g=b[a+"queue"];var d=b[a+"queueHooks"];var c=t.timers,v=g?g.length:0;b.finish=!0;t.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=c.length;d--;)c[d].elem===this&&c[d].queue===a&&(c[d].anim.stop(!0),c.splice(d,1));for(d=0;d<v;d++)g[d]&&g[d].finish&&g[d].finish.call(this);
delete b.finish})}});t.each(["toggle","show","hide"],function(a,b){var g=t.fn[b];t.fn[b]=function(a,d,c){return null==a||"boolean"===typeof a?g.apply(this,arguments):this.animate(aa(b,!0),a,d,c)}});t.each({slideDown:aa("show"),slideUp:aa("hide"),slideToggle:aa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){t.fn[a]=function(a,g,d){return this.animate(b,a,g,d)}});t.timers=[];t.fx.tick=function(){var a=t.timers,b=0;for(xa=t.now();b<a.length;b++){var g=
a[b];g()||a[b]!==g||a.splice(b--,1)}a.length||t.fx.stop();xa=void 0};t.fx.timer=function(a){t.timers.push(a);a()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){Na||(Na=h.setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){h.clearInterval(Na);Na=null};t.fx.speeds={slow:600,fast:200,_default:400};t.fn.delay=function(a,b){a=t.fx?t.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,g){var d=h.setTimeout(b,a);g.stop=function(){h.clearTimeout(d)}})};(function(){var a=J.createElement("input");
J.createElement("div");var b=J.createElement("select"),g=b.appendChild(J.createElement("option"));var d=J.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";d.getElementsByTagName("a");a.setAttribute("type","checkbox");d.appendChild(a);var c=d.getElementsByTagName("a")[0];c.style.cssText="top:1px";G.getSetAttribute="t"!==d.className;G.style=/top/.test(c.getAttribute("style"));G.hrefNormalized="/a"===c.getAttribute("href");
G.checkOn=!!a.value;G.optSelected=g.selected;G.enctype=!!J.createElement("form").enctype;b.disabled=!0;G.optDisabled=!g.disabled;a=J.createElement("input");a.setAttribute("value","");G.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");G.radioValue="t"===a.value})();var fc=/\r/g,gc=/[\x20\t\r\n\f]+/g;t.fn.extend({val:function(a){var b,g,d=this[0];if(arguments.length){var c=t.isFunction(a);return this.each(function(g){1===this.nodeType&&(g=c?a.call(this,g,t(this).val()):
a,null==g?g="":"number"===typeof g?g+="":t.isArray(g)&&(g=t.map(g,function(a){return null==a?"":a+""})),b=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=g))})}if(d){if((b=t.valHooks[d.type]||t.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&void 0!==(g=b.get(d,"value")))return g;g=d.value;return"string"===typeof g?g.replace(fc,""):null==g?"":g}}});t.extend({valHooks:{option:{get:function(a){var b=t.find.attr(a,"value");return null!=
b?b:t.trim(t.text(a)).replace(gc," ")}},select:{get:function(a){for(var b,g=a.options,d=a.selectedIndex,c=(a="select-one"===a.type||0>d)?null:[],v=a?d+1:g.length,m=0>d?v:a?d:0;m<v;m++)if(b=g[m],!(!b.selected&&m!==d||(G.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&t.nodeName(b.parentNode,"optgroup"))){b=t(b).val();if(a)return b;c.push(b)}return c},set:function(a,b){for(var g,d=a.options,c=t.makeArray(b),v=d.length;v--;)if(b=d[v],-1<t.inArray(t.valHooks.option.get(b),
c))try{b.selected=g=!0}catch(yc){b.scrollHeight}else b.selected=!1;g||(a.selectedIndex=-1);return d}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(a,b){if(t.isArray(b))return a.checked=-1<t.inArray(t(a).val(),b)}};G.checkOn||(t.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var oa=t.expr.attrHandle,cb=/^(?:checked|selected)$/i,va=G.getSetAttribute,Oa=G.input;t.fn.extend({attr:function(a,b){return ra(this,t.attr,a,b,1<arguments.length)},
removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})}});t.extend({attr:function(a,b,g){var d,c=a.nodeType;if(3!==c&&8!==c&&2!==c){if("undefined"===typeof a.getAttribute)return t.prop(a,b,g);if(1!==c||!t.isXMLDoc(a)){b=b.toLowerCase();var v=t.attrHooks[b]||(t.expr.match.bool.test(b)?hc:Ha)}if(void 0!==g){if(null===g){t.removeAttr(a,b);return}if(v&&"set"in v&&void 0!==(d=v.set(a,g,b)))return d;a.setAttribute(b,g+"");return g}if(v&&"get"in v&&null!==(d=v.get(a,b)))return d;d=t.find.attr(a,
b);return null==d?void 0:d}},attrHooks:{type:{set:function(a,b){if(!G.radioValue&&"radio"===b&&t.nodeName(a,"input")){var g=a.value;a.setAttribute("type",b);g&&(a.value=g);return b}}}},removeAttr:function(a,b){var g=0,d=b&&b.match(ia);if(d&&1===a.nodeType)for(;b=d[g++];){var c=t.propFix[b]||b;t.expr.match.bool.test(b)?Oa&&va||!cb.test(b)?a[c]=!1:a[t.camelCase("default-"+b)]=a[c]=!1:t.attr(a,b,"");a.removeAttribute(va?b:c)}}});var hc={set:function(a,b,g){!1===b?t.removeAttr(a,g):Oa&&va||!cb.test(g)?
a.setAttribute(!va&&t.propFix[g]||g,g):a[t.camelCase("default-"+g)]=a[g]=!0;return g}};t.each(t.expr.match.bool.source.match(/\w+/g),function(a,b){var g=oa[b]||t.find.attr;Oa&&va||!cb.test(b)?oa[b]=function(a,b,d){if(!d){var c=oa[b];oa[b]=v;var v=null!=g(a,b,d)?b.toLowerCase():null;oa[b]=c}return v}:oa[b]=function(a,b,g){if(!g)return a[t.camelCase("default-"+b)]?b.toLowerCase():null}});Oa&&va||(t.attrHooks.value={set:function(a,b,g){if(t.nodeName(a,"input"))a.defaultValue=b;else return Ha&&Ha.set(a,
b,g)}});if(!va){var Ha={set:function(a,b,g){var d=a.getAttributeNode(g);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(g));d.value=b+="";if("value"===g||b===a.getAttribute(g))return b}};oa.id=oa.name=oa.coords=function(a,b,g){var d;if(!g)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null};t.valHooks.button={get:function(a,b){if((a=a.getAttributeNode(b))&&a.specified)return a.value},set:Ha.set};t.attrHooks.contenteditable={set:function(a,b,g){Ha.set(a,""===b?!1:b,g)}};t.each(["width",
"height"],function(a,b){t.attrHooks[b]={set:function(a,g){if(""===g)return a.setAttribute(b,"auto"),g}}})}G.style||(t.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var ic=/^(?:input|select|textarea|button|object)$/i,jc=/^(?:a|area)$/i;t.fn.extend({prop:function(a,b){return ra(this,t.prop,a,b,1<arguments.length)},removeProp:function(a){a=t.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(L){}})}});
t.extend({prop:function(a,b,g){var d,c=a.nodeType;if(3!==c&&8!==c&&2!==c){if(1!==c||!t.isXMLDoc(a)){b=t.propFix[b]||b;var v=t.propHooks[b]}return void 0!==g?v&&"set"in v&&void 0!==(d=v.set(a,g,b))?d:a[b]=g:v&&"get"in v&&null!==(d=v.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=t.find.attr(a,"tabindex");return b?parseInt(b,10):ic.test(a.nodeName)||jc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});G.hrefNormalized||t.each(["href","src"],function(a,b){t.propHooks[b]=
{get:function(a){return a.getAttribute(b,4)}}});G.optSelected||(t.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){t.propFix[this.toLowerCase()]=this});G.enctype||(t.propFix.enctype="encoding");var db=
/[\t\r\n\f]/g;t.fn.extend({addClass:function(a){var b,g,d,c,v,m=0;if(t.isFunction(a))return this.each(function(b){t(this).addClass(a.call(this,b,W(this)))});if("string"===typeof a&&a)for(b=a.match(ia)||[];g=this[m++];){var f=W(g);if(d=1===g.nodeType&&(" "+f+" ").replace(db," ")){for(v=0;c=b[v++];)0>d.indexOf(" "+c+" ")&&(d+=c+" ");d=t.trim(d);f!==d&&t.attr(g,"class",d)}}return this},removeClass:function(a){var b,g,d,c,v,m=0;if(t.isFunction(a))return this.each(function(b){t(this).removeClass(a.call(this,
b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(ia)||[];g=this[m++];){var f=W(g);if(d=1===g.nodeType&&(" "+f+" ").replace(db," ")){for(v=0;c=b[v++];)for(;-1<d.indexOf(" "+c+" ");)d=d.replace(" "+c+" "," ");d=t.trim(d);f!==d&&t.attr(g,"class",d)}}return this},toggleClass:function(a,b){var g=typeof a;return"boolean"===typeof b&&"string"===g?b?this.addClass(a):this.removeClass(a):t.isFunction(a)?this.each(function(g){t(this).toggleClass(a.call(this,
g,W(this),b),b)}):this.each(function(){var b,d;if("string"===g){var c=0;var v=t(this);for(d=a.match(ia)||[];b=d[c++];)v.hasClass(b)?v.removeClass(b):v.addClass(b)}else if(void 0===a||"boolean"===g)(b=W(this))&&t._data(this,"__className__",b),t.attr(this,"class",b||!1===a?"":t._data(this,"__className__")||"")})},hasClass:function(a){var b,g=0;for(a=" "+a+" ";b=this[g++];)if(1===b.nodeType&&-1<(" "+W(b)+" ").replace(db," ").indexOf(a))return!0;return!1}});t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){t.fn[b]=function(a,g){return 0<arguments.length?this.on(b,null,a,g):this.trigger(b)}});t.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var kc=h.location,eb=t.now(),fb=/\?/,lc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;t.parseJSON=function(a){if(h.JSON&&h.JSON.parse)return h.JSON.parse(a+"");var b,g=null,d=t.trim(a+"");return d&&!t.trim(d.replace(lc,function(a,d,c,v){b&&
d&&(g=0);if(0===g)return a;b=c||d;g+=!v-!c;return""}))?Function("return "+d)():t.error("Invalid JSON: "+a)};t.parseXML=function(a){if(!a||"string"!==typeof a)return null;try{if(h.DOMParser){var b=new h.DOMParser;var g=b.parseFromString(a,"text/xml")}else g=new h.ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(a)}catch(Ra){g=void 0}g&&g.documentElement&&!g.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+a);return g};var mc=/#.*$/,zb=/([?&])_=[^&]*/,nc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
oc=/^(?:GET|HEAD)$/,pc=/^\/\//,Ab=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bb={},Wa={},Cb="*/".concat("*"),gb=kc.href,Aa=Ab.exec(gb.toLowerCase())||[];t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Aa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ja(ja(a,t.ajaxSettings),b):ja(t.ajaxSettings,a)},ajaxPrefilter:la(Bb),ajaxTransport:la(Wa),ajax:function(a,b){function g(a,b,g,d){var u=b;if(2!==k){k=2;v&&h.clearTimeout(v);
f=void 0;c=d||"";I.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(g){var C=q;for(var p=I,E,B,F,w,O=C.contents,r=C.dataTypes;"*"===r[0];)r.shift(),void 0===B&&(B=C.mimeType||p.getResponseHeader("Content-Type"));if(B)for(w in O)if(O[w]&&O[w].test(B)){r.unshift(w);break}if(r[0]in g)F=r[0];else{for(w in g){if(!r[0]||C.converters[w+" "+r[0]]){F=w;break}E||(E=w)}F=F||E}F?(F!==r[0]&&r.unshift(F),C=g[F]):C=void 0}a:{g=q;E=C;B=I;F=d;var y;p={};O=g.dataTypes.slice();if(O[1])for(D in g.converters)p[D.toLowerCase()]=
g.converters[D];for(w=O.shift();w;){g.responseFields[w]&&(B[g.responseFields[w]]=E);!z&&F&&g.dataFilter&&(E=g.dataFilter(E,g.dataType));var z=w;if(w=O.shift())if("*"===w)w=z;else if("*"!==z&&z!==w){var D=p[z+" "+w]||p["* "+w];if(!D)for(y in p)if(C=y.split(" "),C[1]===w&&(D=p[z+" "+C[0]]||p["* "+C[0]])){!0===D?D=p[y]:!0!==p[y]&&(w=C[0],O.unshift(C[1]));break}if(!0!==D)if(D&&g["throws"])E=D(E);else try{E=D(E)}catch(Qb){C={state:"parsererror",error:D?Qb:"No conversion from "+z+" to "+w};break a}}}C=
{state:"success",data:E}}if(d)if(q.ifModified&&((u=I.getResponseHeader("Last-Modified"))&&(t.lastModified[n]=u),(u=I.getResponseHeader("etag"))&&(t.etag[n]=u)),204===a||"HEAD"===q.type)u="nocontent";else if(304===a)u="notmodified";else{u=C.state;var W=C.data;var S=C.error;d=!S}else if(S=u,a||!u)u="error",0>a&&(a=0);I.status=a;I.statusText=(b||u)+"";d?A.resolveWith(x,[W,u,I]):A.rejectWith(x,[I,u,S]);I.statusCode(e);e=void 0;m&&l.trigger(d?"ajaxSuccess":"ajaxError",[I,q,d?W:S]);K.fireWith(x,[I,u]);
m&&(l.trigger("ajaxComplete",[I,q]),--t.active||t.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var d,c,v,m,f,u,q=t.ajaxSetup({},b),x=q.context||q,l=q.context&&(x.nodeType||x.jquery)?t(x):t.event,A=t.Deferred(),K=t.Callbacks("once memory"),e=q.statusCode||{},C={},p={},k=0,E="canceled",I={readyState:0,getResponseHeader:function(a){var b;if(2===k){if(!u)for(u={};b=nc.exec(c);)u[b[1].toLowerCase()]=b[2];b=u[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===
k?c:null},setRequestHeader:function(a,b){var g=a.toLowerCase();k||(a=p[g]=p[g]||a,C[a]=b);return this},overrideMimeType:function(a){k||(q.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>k)for(b in a)e[b]=[e[b],a[b]];else I.always(a[I.status]);return this},abort:function(a){a=a||E;f&&f.abort(a);g(0,a);return this}};A.promise(I).complete=K.add;I.success=I.done;I.error=I.fail;q.url=((a||q.url||gb)+"").replace(mc,"").replace(pc,Aa[1]+"//");q.type=b.method||b.type||q.method||q.type;q.dataTypes=
t.trim(q.dataType||"*").toLowerCase().match(ia)||[""];null==q.crossDomain&&(a=Ab.exec(q.url.toLowerCase()),q.crossDomain=!(!a||a[1]===Aa[1]&&a[2]===Aa[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Aa[3]||("http:"===Aa[1]?"80":"443"))));q.data&&q.processData&&"string"!==typeof q.data&&(q.data=t.param(q.data,q.traditional));pa(Bb,q,b,I);if(2===k)return I;(m=t.event&&q.global)&&0===t.active++&&t.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!oc.test(q.type);var n=q.url;q.hasContent||
(q.data&&(n=q.url+=(fb.test(n)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=zb.test(n)?n.replace(zb,"$1_="+eb++):n+(fb.test(n)?"&":"?")+"_="+eb++));q.ifModified&&(t.lastModified[n]&&I.setRequestHeader("If-Modified-Since",t.lastModified[n]),t.etag[n]&&I.setRequestHeader("If-None-Match",t.etag[n]));(q.data&&q.hasContent&&!1!==q.contentType||b.contentType)&&I.setRequestHeader("Content-Type",q.contentType);I.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+
("*"!==q.dataTypes[0]?", "+Cb+"; q=0.01":""):q.accepts["*"]);for(d in q.headers)I.setRequestHeader(d,q.headers[d]);if(q.beforeSend&&(!1===q.beforeSend.call(x,I,q)||2===k))return I.abort();E="abort";for(d in{success:1,error:1,complete:1})I[d](q[d]);if(f=pa(Wa,q,b,I)){I.readyState=1;m&&l.trigger("ajaxSend",[I,q]);if(2===k)return I;q.async&&0<q.timeout&&(v=h.setTimeout(function(){I.abort("timeout")},q.timeout));try{k=1,f.send(C,g)}catch(ob){if(2>k)g(-1,ob);else throw ob;}}else g(-1,"No Transport");return I},
getJSON:function(a,b,g){return t.get(a,b,g,"json")},getScript:function(a,b){return t.get(a,void 0,b,"script")}});t.each(["get","post"],function(a,b){t[b]=function(a,g,d,c){t.isFunction(g)&&(c=c||d,d=g,g=void 0);return t.ajax(t.extend({url:a,type:b,dataType:c,data:g,success:d},t.isPlainObject(a)&&a))}});t._evalUrl=function(a){return t.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};t.fn.extend({wrapAll:function(a){if(t.isFunction(a))return this.each(function(b){t(this).wrapAll(a.call(this,
b))});if(this[0]){var b=t(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(b){t(this).wrapInner(a.call(this,b))}):this.each(function(){var b=t(this),g=b.contents();g.length?g.wrapAll(a):b.append(a)})},wrap:function(a){var b=t.isFunction(a);return this.each(function(g){t(this).wrapAll(b?
a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}});t.expr.filters.hidden=function(a){return G.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:Xa(a)};t.expr.filters.visible=function(a){return!t.expr.filters.hidden(a)};var qc=/%20/g,Pb=/\[\]$/,Db=/\r?\n/g,rc=/^(?:submit|button|image|reset|file)$/i,sc=/^(?:input|select|textarea|keygen)/i;t.param=function(a,b){var g,
d=[],c=function(a,b){b=t.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=t.ajaxSettings&&t.ajaxSettings.traditional);if(t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){c(this.name,this.value)});else for(g in a)Ea(g,a[g],b,c);return d.join("&").replace(qc,"+")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=t.prop(this,"elements");return a?
t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&sc.test(this.nodeName)&&!rc.test(a)&&(this.checked||!Ta.test(a))}).map(function(a,b){a=t(this).val();return null==a?null:t.isArray(a)?t.map(a,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:a.replace(Db,"\r\n")}}).get()}});t.ajaxSettings.xhr=void 0!==h.ActiveXObject?function(){return this.isLocal?ua():8<J.documentMode?Fa():/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Fa()||ua()}:Fa;var tc=0,Pa={},Qa=t.ajaxSettings.xhr();h.attachEvent&&h.attachEvent("onunload",function(){for(var a in Pa)Pa[a](void 0,!0)});G.cors=!!Qa&&"withCredentials"in Qa;(Qa=G.ajax=!!Qa)&&t.ajaxTransport(function(a){if(!a.crossDomain||G.cors){var b;return{send:function(g,d){var c,v=a.xhr(),m=++tc;v.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(c in a.xhrFields)v[c]=a.xhrFields[c];a.mimeType&&v.overrideMimeType&&v.overrideMimeType(a.mimeType);a.crossDomain||g["X-Requested-With"]||
(g["X-Requested-With"]="XMLHttpRequest");for(c in g)void 0!==g[c]&&v.setRequestHeader(c,g[c]+"");v.send(a.hasContent&&a.data||null);b=function(g,c){if(b&&(c||4===v.readyState))if(delete Pa[m],b=void 0,v.onreadystatechange=t.noop,c)4!==v.readyState&&v.abort();else{var f={};var u=v.status;"string"===typeof v.responseText&&(f.text=v.responseText);try{var q=v.statusText}catch(Ua){q=""}u||!a.isLocal||a.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&d(u,q,f,v.getAllResponseHeaders())};a.async?4===v.readyState?
h.setTimeout(b):v.onreadystatechange=Pa[m]=b:b()},abort:function(){b&&b(void 0,!0)}}}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){t.globalEval(a);return a}}});t.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});t.ajaxTransport("script",function(a){if(a.crossDomain){var b,g=J.head||
t("head")[0]||J.documentElement;return{send:function(d,c){b=J.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,g){if(g||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,g||c(200,"success")};g.insertBefore(b,g.firstChild)},abort:function(){if(b)b.onload(void 0,!0)}}}});var Eb=[],hb=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Eb.pop()||t.expando+"_"+eb++;this[a]=!0;return a}});t.ajaxPrefilter("json jsonp",function(a,b,g){var d,c=!1!==a.jsonp&&(hb.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&hb.test(a.data)&&"data");if(c||"jsonp"===a.dataTypes[0]){var v=a.jsonpCallback=t.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;c?a[c]=a[c].replace(hb,"$1"+v):!1!==a.jsonp&&(a.url+=(fb.test(a.url)?"&":"?")+a.jsonp+"="+
v);a.converters["script json"]=function(){d||t.error(v+" was not called");return d[0]};a.dataTypes[0]="json";var m=h[v];h[v]=function(){d=arguments};g.always(function(){void 0===m?t(h).removeProp(v):h[v]=m;a[v]&&(a.jsonpCallback=b.jsonpCallback,Eb.push(v));d&&t.isFunction(m)&&m(d[0]);d=m=void 0});return"script"}});t.parseHTML=function(a,g,d){if(!a||"string"!==typeof a)return null;"boolean"===typeof g&&(d=g,g=!1);g=g||J;var c=rb.exec(a);d=!d&&[];if(c)return[g.createElement(c[1])];c=b([a],g,d);d&&d.length&&
t(d).remove();return t.merge([],c.childNodes)};var Fb=t.fn.load;t.fn.load=function(a,b,g){if("string"!==typeof a&&Fb)return Fb.apply(this,arguments);var d,c,v=this,m=a.indexOf(" ");if(-1<m){var f=t.trim(a.slice(m,a.length));a=a.slice(0,m)}t.isFunction(b)?(g=b,b=void 0):b&&"object"===typeof b&&(d="POST");0<v.length&&t.ajax({url:a,type:d||"GET",dataType:"html",data:b}).done(function(a){c=arguments;v.html(f?t("<div>").append(t.parseHTML(a)).find(f):a)}).always(g&&function(a,b){v.each(function(){g.apply(this,
c||[a.responseText,b,a])})});return this};t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){t.fn[b]=function(a){return this.on(b,a)}});t.expr.filters.animated=function(a){return t.grep(t.timers,function(b){return a===b.elem}).length};t.offset={setOffset:function(a,b,g){var d=t.css(a,"position"),c=t(a),v={};"static"===d&&(a.style.position="relative");var m=c.offset();var f=t.css(a,"top");var u=t.css(a,"left");("absolute"===d||"fixed"===d)&&-1<t.inArray("auto",
[f,u])?(u=c.position(),f=u.top,u=u.left):(f=parseFloat(f)||0,u=parseFloat(u)||0);t.isFunction(b)&&(b=b.call(a,g,t.extend({},m)));null!=b.top&&(v.top=b.top-m.top+f);null!=b.left&&(v.left=b.left-m.left+u);"using"in b?b.using.call(a,v):c.css(v)}};t.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){t.offset.setOffset(this,a,b)});var b,g={top:0,left:0},d=(b=this[0])&&b.ownerDocument;if(d){var c=d.documentElement;if(!t.contains(c,b))return g;"undefined"!==typeof b.getBoundingClientRect&&
(g=b.getBoundingClientRect());b=Ka(d);return{top:g.top+(b.pageYOffset||c.scrollTop)-(c.clientTop||0),left:g.left+(b.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}},position:function(){if(this[0]){var a={top:0,left:0},b=this[0];if("fixed"===t.css(b,"position"))var g=b.getBoundingClientRect();else{var d=this.offsetParent();g=this.offset();t.nodeName(d[0],"html")||(a=d.offset());a.top+=t.css(d[0],"borderTopWidth",!0);a.left+=t.css(d[0],"borderLeftWidth",!0)}return{top:g.top-a.top-t.css(b,"marginTop",
!0),left:g.left-a.left-t.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!t.nodeName(a,"html")&&"static"===t.css(a,"position");)a=a.offsetParent;return a||xb})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var g=/Y/.test(b);t.fn[a]=function(d){return ra(this,function(a,d,c){var v=Ka(a);if(void 0===c)return v?b in v?v[b]:v.document.documentElement[d]:a[d];v?v.scrollTo(g?t(v).scrollLeft():c,g?c:t(v).scrollTop()):
a[d]=c},a,d,arguments.length,null)}});t.each(["top","left"],function(a,b){t.cssHooks[b]=ba(G.pixelPosition,function(a,g){if(g)return g=ta(a,b),Ja.test(g)?t(a).position()[b]+"px":g})});t.each({Height:"height",Width:"width"},function(a,b){t.each({padding:"inner"+a,content:b,"":"outer"+a},function(g,d){t.fn[d]=function(d,c){var v=arguments.length&&(g||"boolean"!==typeof d),m=g||(!0===d||!0===c?"margin":"border");return ra(this,function(b,g,d){return t.isWindow(b)?b.document.documentElement["client"+
a]:9===b.nodeType?(g=b.documentElement,Math.max(b.body["scroll"+a],g["scroll"+a],b.body["offset"+a],g["offset"+a],g["client"+a])):void 0===d?t.css(b,g,m):t.style(b,g,d,m)},b,v?d:void 0,v,null)}})});t.fn.extend({bind:function(a,b,g){return this.on(a,null,b,g)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,g,d){return this.on(b,a,g,d)},undelegate:function(a,b,g){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",g)}});t.fn.size=function(){return this.length};t.fn.andSelf=
t.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return t});var uc=h.jQuery,vc=h.$;t.noConflict=function(a){h.$===t&&(h.$=vc);a&&h.jQuery===t&&(h.jQuery=uc);return t};n||(h.jQuery=h.$=t);return t});
(function(h){var n={},r={},k={},e={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],
otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},y=[function(a){var b=a.treeObj,g=A.event;b.bind(g.NODECREATED,function(b,g,d){C.apply(a.callback.onNodeCreated,
[b,g,d])});b.bind(g.CLICK,function(b,g,d,c,v){C.apply(a.callback.onClick,[g,d,c,v])});b.bind(g.EXPAND,function(b,g,d){C.apply(a.callback.onExpand,[b,g,d])});b.bind(g.COLLAPSE,function(b,g,d){C.apply(a.callback.onCollapse,[b,g,d])});b.bind(g.ASYNC_SUCCESS,function(b,g,d,c){C.apply(a.callback.onAsyncSuccess,[b,g,d,c])});b.bind(g.ASYNC_ERROR,function(b,g,d,c,v,m){C.apply(a.callback.onAsyncError,[b,g,d,c,v,m])});b.bind(g.REMOVE,function(b,g,d){C.apply(a.callback.onRemove,[b,g,d])});b.bind(g.SELECTED,
function(b,g,d){C.apply(a.callback.onSelected,[g,d])});b.bind(g.UNSELECTED,function(b,g,d){C.apply(a.callback.onUnSelected,[g,d])})}],w=[function(a){var b=A.event;a.treeObj.unbind(b.NODECREATED).unbind(b.CLICK).unbind(b.EXPAND).unbind(b.COLLAPSE).unbind(b.ASYNC_SUCCESS).unbind(b.ASYNC_ERROR).unbind(b.REMOVE).unbind(b.SELECTED).unbind(b.UNSELECTED)}],z=[function(b){var g=a.getCache(b);g||(g={},a.setCache(b,g));g.nodes=[];g.doms=[]}],D=[function(b,d,c,m,f,u,x){if(c){x=a.getRoot(b);var g=b.data.key.children;
c.level=d;c.tId=b.treeId+"_"+ ++x.zId;c.parentTId=m?m.tId:null;c.open="string"==typeof c.open?C.eqs(c.open,"true"):!!c.open;c[g]&&0<c[g].length?(c.isParent=!0,c.zAsync=!0):(c.isParent="string"==typeof c.isParent?C.eqs(c.isParent,"true"):!!c.isParent,c.open=c.isParent&&!b.async.enable?c.open:!1,c.zAsync=!c.isParent);c.isFirstNode=f;c.isLastNode=u;c.getParentNode=function(){return a.getNodeCache(b,c.parentTId)};c.getPreNode=function(){return a.getPreNode(b,c)};c.getNextNode=function(){return a.getNextNode(b,
c)};c.getIndex=function(){return a.getNodeIndex(b,c)};c.getPath=function(){return a.getNodePath(b,c)};c.isAjaxing=!1;a.fixPIdKeyValue(b,c)}}],B=[function(b){var g=b.target,d=a.getSetting(b.data.treeId),c="",f=null,u="",x="",l=null,e=null,p;if(C.eqs(b.type,"mousedown"))x="mousedown";else if(C.eqs(b.type,"mouseup"))x="mouseup";else if(C.eqs(b.type,"contextmenu"))x="contextmenu";else if(C.eqs(b.type,"click"))if(C.eqs(g.tagName,"span")&&null!==g.getAttribute("treeNode"+A.id.SWITCH))c=C.getNodeMainDom(g).id,
u="switchNode";else{if(p=C.getMDom(d,g,[{tagName:"a",attrName:"treeNode"+A.id.A}]))c=C.getNodeMainDom(p).id,u="clickNode"}else C.eqs(b.type,"dblclick")&&(x="dblclick",p=C.getMDom(d,g,[{tagName:"a",attrName:"treeNode"+A.id.A}]))&&(c=C.getNodeMainDom(p).id,u="switchNode");0<x.length&&0==c.length&&(p=C.getMDom(d,g,[{tagName:"a",attrName:"treeNode"+A.id.A}]))&&(c=C.getNodeMainDom(p).id);if(0<c.length)switch(f=a.getNodeCache(d,c),u){case "switchNode":f.isParent?C.eqs(b.type,"click")||C.eqs(b.type,"dblclick")&&
C.apply(d.view.dblClickExpand,[d.treeId,f],d.view.dblClickExpand)?l=m.onSwitchNode:u="":u="";break;case "clickNode":l=m.onClickNode}switch(x){case "mousedown":e=m.onZTreeMousedown;break;case "mouseup":e=m.onZTreeMouseup;break;case "dblclick":e=m.onZTreeDblclick;break;case "contextmenu":e=m.onZTreeContextmenu}return{stop:!1,node:f,nodeEventType:u,nodeEventCallback:l,treeEventType:x,treeEventCallback:e}}],p=[function(b){var g=a.getRoot(b);g||(g={},a.setRoot(b,g));g[b.data.key.children]=[];g.expandTriggerFlag=
!1;g.curSelectedList=[];g.noSelection=!0;g.createdNodes=[];g.zId=0;g._ver=(new Date).getTime()}],F=[],E=[],l=[],f=[],c=[],a={addNodeCache:function(b,d){a.getCache(b).nodes[a.getNodeCacheId(d.tId)]=d},getNodeCacheId:function(a){return a.substring(a.lastIndexOf("_")+1)},addAfterA:function(a){E.push(a)},addBeforeA:function(a){F.push(a)},addInnerAfterA:function(a){f.push(a)},addInnerBeforeA:function(a){l.push(a)},addInitBind:function(a){y.push(a)},addInitUnBind:function(a){w.push(a)},addInitCache:function(a){z.push(a)},
addInitNode:function(a){D.push(a)},addInitProxy:function(a,b){b?B.splice(0,0,a):B.push(a)},addInitRoot:function(a){p.push(a)},addNodesData:function(a,b,d,c){var g=a.data.key.children;b[g]?d>=b[g].length&&(d=-1):(b[g]=[],d=-1);0<b[g].length&&0===d?(b[g][0].isFirstNode=!1,x.setNodeLineIcos(a,b[g][0])):0<b[g].length&&0>d&&(b[g][b[g].length-1].isLastNode=!1,x.setNodeLineIcos(a,b[g][b[g].length-1]));b.isParent=!0;0>d?b[g]=b[g].concat(c):(a=[d,0].concat(c),b[g].splice.apply(b[g],a))},addSelectedNode:function(b,
d){var g=a.getRoot(b);a.isSelectedNode(b,d)||g.curSelectedList.push(d)},addCreatedNode:function(b,d){(b.callback.onNodeCreated||b.view.addDiyDom)&&a.getRoot(b).createdNodes.push(d)},addZTreeTools:function(a){c.push(a)},exSetting:function(a){h.extend(!0,e,a)},fixPIdKeyValue:function(a,b){a.data.simpleData.enable&&(b[a.data.simpleData.pIdKey]=b.parentTId?b.getParentNode()[a.data.simpleData.idKey]:a.data.simpleData.rootPId)},getAfterA:function(a,b,d){for(var g=0,c=E.length;g<c;g++)E[g].apply(this,arguments)},
getBeforeA:function(a,b,d){for(var g=0,c=F.length;g<c;g++)F[g].apply(this,arguments)},getInnerAfterA:function(a,b,d){for(var g=0,c=f.length;g<c;g++)f[g].apply(this,arguments)},getInnerBeforeA:function(a,b,d){for(var g=0,c=l.length;g<c;g++)l[g].apply(this,arguments)},getCache:function(a){return k[a.treeId]},getNodeIndex:function(b,d){if(!d)return null;var g=b.data.key.children;b=d.parentTId?d.getParentNode():a.getRoot(b);for(var c=0,v=b[g].length-1;c<=v;c++)if(b[g][c]===d)return c;return-1},getNextNode:function(b,
d){if(!d)return null;var g=b.data.key.children;b=d.parentTId?d.getParentNode():a.getRoot(b);for(var c=0,v=b[g].length-1;c<=v;c++)if(b[g][c]===d)return c==v?null:b[g][c+1];return null},getNodeByParam:function(b,d,c,m){if(!d||!c)return null;for(var g=b.data.key.children,v=0,f=d.length;v<f;v++){if(d[v][c]==m)return d[v];var u=a.getNodeByParam(b,d[v][g],c,m);if(u)return u}return null},getNodeCache:function(b,d){return d?(b=k[b.treeId].nodes[a.getNodeCacheId(d)])?b:null:null},getNodeName:function(a,b){return""+
b[a.data.key.name]},getNodePath:function(a,b){if(!b)return null;(a=b.parentTId?b.getParentNode().getPath():[])&&a.push(b);return a},getNodeTitle:function(a,b){return""+b[""===a.data.key.title?a.data.key.name:a.data.key.title]},getNodes:function(b){return a.getRoot(b)[b.data.key.children]},getNodesByParam:function(b,d,c,m){if(!d||!c)return[];for(var g=b.data.key.children,v=[],f=0,u=d.length;f<u;f++)d[f][c]==m&&v.push(d[f]),v=v.concat(a.getNodesByParam(b,d[f][g],c,m));return v},getNodesByParamFuzzy:function(b,
d,c,m){if(!d||!c)return[];var g=b.data.key.children,v=[];m=m.toLowerCase();for(var f=0,u=d.length;f<u;f++)"string"==typeof d[f][c]&&-1<d[f][c].toLowerCase().indexOf(m)&&v.push(d[f]),v=v.concat(a.getNodesByParamFuzzy(b,d[f][g],c,m));return v},getNodesByFilter:function(b,d,c,m,f){if(!d)return m?null:[];for(var g=b.data.key.children,v=m?null:[],u=0,x=d.length;u<x;u++){if(C.apply(c,[d[u],f],!1)){if(m)return d[u];v.push(d[u])}var l=a.getNodesByFilter(b,d[u][g],c,m,f);if(m&&l)return l;v=m?l:v.concat(l)}return v},
getPreNode:function(b,d){if(!d)return null;var g=b.data.key.children;b=d.parentTId?d.getParentNode():a.getRoot(b);for(var c=0,v=b[g].length;c<v;c++)if(b[g][c]===d)return 0==c?null:b[g][c-1];return null},getRoot:function(a){return a?r[a.treeId]:null},getRoots:function(){return r},getSetting:function(a){return n[a]},getSettings:function(){return n},getZTreeTools:function(a){return(a=this.getRoot(this.getSetting(a)))?a.treeTools:null},initCache:function(a){for(var b=0,g=z.length;b<g;b++)z[b].apply(this,
arguments)},initNode:function(a,b,d,c,m,f){for(var g=0,v=D.length;g<v;g++)D[g].apply(this,arguments)},initRoot:function(a){for(var b=0,g=p.length;b<g;b++)p[b].apply(this,arguments)},isSelectedNode:function(b,d){b=a.getRoot(b);for(var g=0,c=b.curSelectedList.length;g<c;g++)if(d===b.curSelectedList[g])return!0;return!1},removeNodeCache:function(b,d){var g=b.data.key.children;if(d[g])for(var c=0,v=d[g].length;c<v;c++)a.removeNodeCache(b,d[g][c]);a.getCache(b).nodes[a.getNodeCacheId(d.tId)]=null},removeSelectedNode:function(b,
d){for(var g=a.getRoot(b),c=0,v=g.curSelectedList.length;c<v;c++)d!==g.curSelectedList[c]&&a.getNodeCache(b,g.curSelectedList[c].tId)||(g.curSelectedList.splice(c,1),b.treeObj.trigger(A.event.UNSELECTED,[b.treeId,d]),c--,v--)},setCache:function(a,b){k[a.treeId]=b},setRoot:function(a,b){r[a.treeId]=b},setZTreeTools:function(a,b){for(var g=0,d=c.length;g<d;g++)c[g].apply(this,arguments)},transformToArrayFormat:function(b,d){if(!d)return[];var g=b.data.key.children,c=[];if(C.isArray(d))for(var v=0,m=
d.length;v<m;v++)c.push(d[v]),d[v][g]&&(c=c.concat(a.transformToArrayFormat(b,d[v][g])));else c.push(d),d[g]&&(c=c.concat(a.transformToArrayFormat(b,d[g])));return c},transformTozTreeFormat:function(a,b){var g,d=a.data.simpleData.idKey,c=a.data.simpleData.pIdKey,v=a.data.key.children;if(!d||""==d||!b)return[];if(C.isArray(b)){var m=[],f={};a=0;for(g=b.length;a<g;a++)f[b[a][d]]=b[a];a=0;for(g=b.length;a<g;a++)f[b[a][c]]&&b[a][d]!=b[a][c]?(f[b[a][c]][v]||(f[b[a][c]][v]=[]),f[b[a][c]][v].push(b[a])):
m.push(b[a]);return m}return[b]}},b={bindEvent:function(a){for(var b=0,g=y.length;b<g;b++)y[b].apply(this,arguments)},unbindEvent:function(a){for(var b=0,g=w.length;b<g;b++)w[b].apply(this,arguments)},bindTree:function(a){var g={treeId:a.treeId},d=a.treeObj;a.view.txtSelectedEnable||d.bind("selectstart",m.onSelectStart).css({"-moz-user-select":"-moz-none"});d.bind("click",g,b.proxy);d.bind("dblclick",g,b.proxy);d.bind("mouseover",g,b.proxy);d.bind("mouseout",g,b.proxy);d.bind("mousedown",g,b.proxy);
d.bind("mouseup",g,b.proxy);d.bind("contextmenu",g,b.proxy)},unbindTree:function(a){a.treeObj.unbind("selectstart",m.onSelectStart).unbind("click",b.proxy).unbind("dblclick",b.proxy).unbind("mouseover",b.proxy).unbind("mouseout",b.proxy).unbind("mousedown",b.proxy).unbind("mouseup",b.proxy).unbind("contextmenu",b.proxy)},doProxy:function(a){for(var b=[],g=0,d=B.length;g<d;g++){var c=B[g].apply(this,arguments);b.push(c);if(c.stop)break}return b},proxy:function(g){var d=a.getSetting(g.data.treeId);
if(!C.uCanDo(d,g))return!0;d=b.doProxy(g);for(var c=!0,m=0,f=d.length;m<f;m++){var u=d[m];u.nodeEventCallback&&(c=u.nodeEventCallback.apply(u,[g,u.node])&&c);u.treeEventCallback&&(c=u.treeEventCallback.apply(u,[g,u.node])&&c)}return c}},m={onSwitchNode:function(b,d){b=a.getSetting(b.data.treeId);if(d.open){if(0==C.apply(b.callback.beforeCollapse,[b.treeId,d],!0))return!0}else if(0==C.apply(b.callback.beforeExpand,[b.treeId,d],!0))return!0;a.getRoot(b).expandTriggerFlag=!0;x.switchNode(b,d);return!0},
onClickNode:function(b,d){var g=a.getSetting(b.data.treeId),c=g.view.autoCancelSelected&&(b.ctrlKey||b.metaKey)&&a.isSelectedNode(g,d)?0:g.view.autoCancelSelected&&(b.ctrlKey||b.metaKey)&&g.view.selectedMulti?2:1;if(0==C.apply(g.callback.beforeClick,[g.treeId,d,c],!0))return!0;0===c?x.cancelPreSelectedNode(g,d):x.selectNode(g,d,2===c);g.treeObj.trigger(A.event.CLICK,[b,g.treeId,d,c]);return!0},onZTreeMousedown:function(b,d){var g=a.getSetting(b.data.treeId);C.apply(g.callback.beforeMouseDown,[g.treeId,
d],!0)&&C.apply(g.callback.onMouseDown,[b,g.treeId,d]);return!0},onZTreeMouseup:function(b,d){var g=a.getSetting(b.data.treeId);C.apply(g.callback.beforeMouseUp,[g.treeId,d],!0)&&C.apply(g.callback.onMouseUp,[b,g.treeId,d]);return!0},onZTreeDblclick:function(b,d){var g=a.getSetting(b.data.treeId);C.apply(g.callback.beforeDblClick,[g.treeId,d],!0)&&C.apply(g.callback.onDblClick,[b,g.treeId,d]);return!0},onZTreeContextmenu:function(b,d){var g=a.getSetting(b.data.treeId);C.apply(g.callback.beforeRightClick,
[g.treeId,d],!0)&&C.apply(g.callback.onRightClick,[b,g.treeId,d]);return"function"!=typeof g.callback.onRightClick},onSelectStart:function(a){a=a.originalEvent.srcElement.nodeName.toLowerCase();return"input"===a||"textarea"===a}},C={apply:function(a,b,c){return"function"==typeof a?a.apply(d,b?b:[]):c},canAsync:function(a,b){var g=a.data.key.children;return a.async.enable&&b&&b.isParent&&!(b.zAsync||b[g]&&0<b[g].length)},clone:function(a){if(null===a)return null;var b=C.isArray(a)?[]:{},g;for(g in a)b[g]=
a[g]instanceof Date?new Date(a[g].getTime()):"object"===typeof a[g]?C.clone(a[g]):a[g];return b},eqs:function(a,b){return a.toLowerCase()===b.toLowerCase()},isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},isElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName},$:function(a,b,d){b&&"string"!=typeof b&&(d=b,b="");return"string"==typeof a?h(a,d?d.treeObj.get(0).ownerDocument:
null):h("#"+a.tId+b,d?d.treeObj:null)},getMDom:function(a,b,d){if(!b)return null;for(;b&&b.id!==a.treeId;){for(var g=0,c=d.length;b.tagName&&g<c;g++)if(C.eqs(b.tagName,d[g].tagName)&&null!==b.getAttribute(d[g].attrName))return b;b=b.parentNode}return null},getNodeMainDom:function(a){return h(a).parent("li").get(0)||h(a).parentsUntil("li").parent().get(0)},isChildOrSelf:function(a,b){return 0<h(a).closest("#"+b).length},uCanDo:function(a,b){return!0}},x={addNodes:function(b,d,c,m,f){if(!b.data.keep.leaf||
!d||d.isParent)if(C.isArray(m)||(m=[m]),b.data.simpleData.enable&&(m=a.transformTozTreeFormat(b,m)),d){var g=u(d,A.id.SWITCH,b),v=u(d,A.id.ICON,b),l=u(d,A.id.UL,b);d.open||(x.replaceSwitchClass(d,g,A.folder.CLOSE),x.replaceIcoClass(d,v,A.folder.CLOSE),d.open=!1,l.css({display:"none"}));a.addNodesData(b,d,c,m);x.createNodes(b,d.level+1,m,d,c);f||x.expandCollapseParentNode(b,d,!0)}else a.addNodesData(b,a.getRoot(b),c,m),x.createNodes(b,0,m,null,c)},appendNodes:function(b,d,c,m,f,u,l){if(!c)return[];
var g=[],v=b.data.key.children,A=(m?m:a.getRoot(b))[v];if(!A||f>=A.length-c.length)f=-1;for(var e=0,C=c.length;e<C;e++){var p=c[e];if(u){var k=(0===f||A.length==c.length)&&0==e;var h=0>f&&e==c.length-1;a.initNode(b,d,p,m,k,h,l);a.addNodeCache(b,p)}k=[];p[v]&&0<p[v].length&&(k=x.appendNodes(b,d+1,p[v],p,-1,u,l&&p.open));l&&(x.makeDOMNodeMainBefore(g,b,p),x.makeDOMNodeLine(g,b,p),a.getBeforeA(b,p,g),x.makeDOMNodeNameBefore(g,b,p),a.getInnerBeforeA(b,p,g),x.makeDOMNodeIcon(g,b,p),a.getInnerAfterA(b,
p,g),x.makeDOMNodeNameAfter(g,b,p),a.getAfterA(b,p,g),p.isParent&&p.open&&x.makeUlHtml(b,p,g,k.join("")),x.makeDOMNodeMainAfter(g,b,p),a.addCreatedNode(b,p))}return g},appendParentULDom:function(a,b){var g=[],d=u(b,a);!d.get(0)&&b.parentTId&&(x.appendParentULDom(a,b.getParentNode()),d=u(b,a));var c=u(b,A.id.UL,a);c.get(0)&&c.remove();c=x.appendNodes(a,b.level+1,b[a.data.key.children],b,-1,!1,!0);x.makeUlHtml(a,b,g,c.join(""));d.append(g.join(""))},asyncNode:function(b,d,c,m){var g;if(d&&!d.isParent)return C.apply(m),
!1;if(d&&d.isAjaxing)return!1;if(0==C.apply(b.callback.beforeAsync,[b.treeId,d],!0))return C.apply(m),!1;d&&(d.isAjaxing=!0,u(d,A.id.ICON,b).attr({style:"","class":A.className.BUTTON+" "+A.className.ICO_LOADING}));var f={};var v=0;for(g=b.async.autoParam.length;d&&v<g;v++){var l=b.async.autoParam[v].split("="),e=l;1<l.length&&(e=l[1],l=l[0]);f[e]=d[l]}if(C.isArray(b.async.otherParam))for(v=0,g=b.async.otherParam.length;v<g;v+=2)f[b.async.otherParam[v]]=b.async.otherParam[v+1];else for(var p in b.async.otherParam)f[p]=
b.async.otherParam[p];var k=a.getRoot(b)._ver;h.ajax({contentType:b.async.contentType,cache:!1,type:b.async.type,url:C.apply(b.async.url,[b.treeId,d],b.async.url),data:-1<b.async.contentType.indexOf("application/json")?JSON.stringify(f):f,dataType:b.async.dataType,success:function(g){if(k==a.getRoot(b)._ver){var f=[];try{f=g&&0!=g.length?"string"==typeof g?eval("("+g+")"):g:[]}catch(X){f=g}d&&(d.isAjaxing=null,d.zAsync=!0);x.setNodeLineIcos(b,d);f&&""!==f?(f=C.apply(b.async.dataFilter,[b.treeId,d,
f],f),x.addNodes(b,d,-1,f?C.clone(f):[],!!c)):x.addNodes(b,d,-1,[],!!c);b.treeObj.trigger(A.event.ASYNC_SUCCESS,[b.treeId,d,g]);C.apply(m)}},error:function(g,c,m){k==a.getRoot(b)._ver&&(d&&(d.isAjaxing=null),x.setNodeLineIcos(b,d),b.treeObj.trigger(A.event.ASYNC_ERROR,[b.treeId,d,g,c,m]))}});return!0},cancelPreSelectedNode:function(b,d,c){var g=a.getRoot(b).curSelectedList,m;for(m=g.length-1;0<=m;m--){var f=g[m];if(d===f||!(d||c&&c===f))if(u(f,A.id.A,b).removeClass(A.node.CURSELECTED),d){a.removeSelectedNode(b,
d);break}else g.splice(m,1),b.treeObj.trigger(A.event.UNSELECTED,[b.treeId,f])}},createNodeCallback:function(b){if(b.callback.onNodeCreated||b.view.addDiyDom)for(var d=a.getRoot(b);0<d.createdNodes.length;){var g=d.createdNodes.shift();C.apply(b.view.addDiyDom,[b.treeId,g]);b.callback.onNodeCreated&&b.treeObj.trigger(A.event.NODECREATED,[b.treeId,g])}},createNodes:function(b,d,c,m,f){if(c&&0!=c.length){var g=a.getRoot(b),v=b.data.key.children;v=!m||m.open||!!u(m[v][0],b).get(0);g.createdNodes=[];
d=x.appendNodes(b,d,c,m,f,!0,v);var l,e;m?(m=u(m,A.id.UL,b),m.get(0)&&(l=m)):l=b.treeObj;l&&(0<=f&&(e=l.children()[f]),0<=f&&e?h(e).before(d.join("")):l.append(d.join("")));x.createNodeCallback(b)}},destroy:function(d){d&&(a.initCache(d),a.initRoot(d),b.unbindTree(d),b.unbindEvent(d),d.treeObj.empty(),delete n[d.treeId])},expandCollapseNode:function(b,d,c,m,f){var g=a.getRoot(b),v=b.data.key.children;if(d){if(g.expandTriggerFlag){var l=f;f=function(){l&&l();d.open?b.treeObj.trigger(A.event.EXPAND,
[b.treeId,d]):b.treeObj.trigger(A.event.COLLAPSE,[b.treeId,d])};g.expandTriggerFlag=!1}!d.open&&d.isParent&&(!u(d,A.id.UL,b).get(0)||d[v]&&0<d[v].length&&!u(d[v][0],b).get(0))&&(x.appendParentULDom(b,d),x.createNodeCallback(b));if(d.open==c)C.apply(f,[]);else{c=u(d,A.id.UL,b);g=u(d,A.id.SWITCH,b);var e=u(d,A.id.ICON,b);d.isParent?(d.open=!d.open,d.iconOpen&&d.iconClose&&e.attr("style",x.makeNodeIcoStyle(b,d)),d.open?(x.replaceSwitchClass(d,g,A.folder.OPEN),x.replaceIcoClass(d,e,A.folder.OPEN),0==
m||""==b.view.expandSpeed?(c.show(),C.apply(f,[])):d[v]&&0<d[v].length?c.slideDown(b.view.expandSpeed,f):(c.show(),C.apply(f,[]))):(x.replaceSwitchClass(d,g,A.folder.CLOSE),x.replaceIcoClass(d,e,A.folder.CLOSE),0!=m&&""!=b.view.expandSpeed&&d[v]&&0<d[v].length?c.slideUp(b.view.expandSpeed,f):(c.hide(),C.apply(f,[])))):C.apply(f,[])}}else C.apply(f,[])},expandCollapseParentNode:function(a,b,d,c,m){b&&(b.parentTId?(x.expandCollapseNode(a,b,d,c),b.parentTId&&x.expandCollapseParentNode(a,b.getParentNode(),
d,c,m)):x.expandCollapseNode(a,b,d,c,m))},expandCollapseSonNode:function(b,d,c,m,f){var g=a.getRoot(b),u=b.data.key.children;g=d?d[u]:g[u];u=d?!1:m;var v=a.getRoot(b).expandTriggerFlag;a.getRoot(b).expandTriggerFlag=!1;if(g)for(var l=0,A=g.length;l<A;l++)g[l]&&x.expandCollapseSonNode(b,g[l],c,u);a.getRoot(b).expandTriggerFlag=v;x.expandCollapseNode(b,d,c,m,f)},isSelectedNode:function(b,d){if(!d)return!1;b=a.getRoot(b).curSelectedList;var g;for(g=b.length-1;0<=g;g--)if(d===b[g])return!0;return!1},
makeDOMNodeIcon:function(b,d,c){var g=a.getNodeName(d,c);g=d.view.nameIsHTML?g:g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");b.push("<span id='",c.tId,A.id.ICON,"' title='' treeNode",A.id.ICON," class='",x.makeNodeIcoClass(d,c),"' style='",x.makeNodeIcoStyle(d,c),"'></span><span id='",c.tId,A.id.SPAN,"' class='",A.className.NAME,"'>",g,"</span>")},makeDOMNodeLine:function(a,b,d){a.push("<span id='",d.tId,A.id.SWITCH,"' title='' class='",x.makeNodeLineClass(b,d),"' treeNode",A.id.SWITCH,
"></span>")},makeDOMNodeMainAfter:function(a,b,d){a.push("</li>")},makeDOMNodeMainBefore:function(a,b,d){a.push("<li id='",d.tId,"' class='",A.className.LEVEL,d.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(a,b,d){a.push("</a>")},makeDOMNodeNameBefore:function(b,d,c){var g=a.getNodeTitle(d,c),m=x.makeNodeUrl(d,c),f=x.makeNodeFontCss(d,c),u=[],v;for(v in f)u.push(v,":",f[v],";");b.push("<a id='",c.tId,A.id.A,"' class='",A.className.LEVEL,c.level,"' treeNode",A.id.A,
' onclick="',c.click||"",'" ',null!=m&&0<m.length?"href='"+m+"'":""," target='",x.makeNodeTarget(c),"' style='",u.join(""),"'");C.apply(d.view.showTitle,[d.treeId,c],d.view.showTitle)&&g&&b.push("title='",g.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'");b.push(">")},makeNodeFontCss:function(a,b){return(a=C.apply(a.view.fontCss,[a.treeId,b],a.view.fontCss))&&"function"!=typeof a?a:{}},makeNodeIcoClass:function(a,b){a=["ico"];b.isAjaxing||(a[0]=(b.iconSkin?b.iconSkin+"_":"")+a[0],
b.isParent?a.push(b.open?A.folder.OPEN:A.folder.CLOSE):a.push(A.folder.DOCU));return A.className.BUTTON+" "+a.join("_")},makeNodeIcoStyle:function(a,b){var d=[];if(!b.isAjaxing){var g=b.isParent&&b.iconOpen&&b.iconClose?b.open?b.iconOpen:b.iconClose:b[a.data.key.icon];g&&d.push("background:url(",g,") 0 0 no-repeat;");0!=a.view.showIcon&&C.apply(a.view.showIcon,[a.treeId,b],!0)||d.push("width:0px;height:0px;")}return d.join("")},makeNodeLineClass:function(a,b){var d=[];a.view.showLine?0==b.level&&
b.isFirstNode&&b.isLastNode?d.push(A.line.ROOT):0==b.level&&b.isFirstNode?d.push(A.line.ROOTS):b.isLastNode?d.push(A.line.BOTTOM):d.push(A.line.CENTER):d.push(A.line.NOLINE);b.isParent?d.push(b.open?A.folder.OPEN:A.folder.CLOSE):d.push(A.folder.DOCU);return x.makeNodeLineClassEx(b)+d.join("_")},makeNodeLineClassEx:function(a){return A.className.BUTTON+" "+A.className.LEVEL+a.level+" "+A.className.SWITCH+" "},makeNodeTarget:function(a){return a.target||"_blank"},makeNodeUrl:function(a,b){a=a.data.key.url;
return b[a]?b[a]:null},makeUlHtml:function(a,b,d,c){d.push("<ul id='",b.tId,A.id.UL,"' class='",A.className.LEVEL,b.level," ",x.makeUlLineClass(a,b),"' style='display:",b.open?"block":"none","'>");d.push(c);d.push("</ul>")},makeUlLineClass:function(a,b){return a.view.showLine&&!b.isLastNode?A.line.LINE:""},removeChildNodes:function(b,d){if(d){var g=b.data.key.children,c=d[g];if(c){for(var m=0,f=c.length;m<f;m++)a.removeNodeCache(b,c[m]);a.removeSelectedNode(b);delete d[g];b.data.keep.parent?u(d,A.id.UL,
b).empty():(d.isParent=!1,d.open=!1,g=u(d,A.id.SWITCH,b),c=u(d,A.id.ICON,b),x.replaceSwitchClass(d,g,A.folder.DOCU),x.replaceIcoClass(d,c,A.folder.DOCU),u(d,A.id.UL,b).remove())}}},scrollIntoView:function(a){a&&(Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(a){function b(b,d,g,c){return!1===a||g<=b+c&&b<=d+c?Math.min(g,Math.max(d,b)):(d+g)/2}function d(a,b,g,c){return{left:a,top:b,width:g,height:c,right:a+g,bottom:b+c,translate:function(m,f){return d(m+
a,f+b,g,c)},relativeFromTo:function(f,u){var v=a,x=b;f=f.offsetParent;u=u.offsetParent;if(f===u)return m;for(;f;f=f.offsetParent)v+=f.offsetLeft+f.clientLeft,x+=f.offsetTop+f.clientTop;for(;u;u=u.offsetParent)v-=u.offsetLeft+u.clientLeft,x-=u.offsetTop+u.clientTop;return d(v,x,g,c)}}}for(var g,c=this,m=d(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);C.isElement(g=c.parentNode);){var f=g.offsetLeft+g.clientLeft,u=g.offsetTop+g.clientTop;m=m.relativeFromTo(c,g).translate(-f,-u);
g.scrollLeft=b(g.scrollLeft,m.right-g.clientWidth,m.left,g.clientWidth);g.scrollTop=b(g.scrollTop,m.bottom-g.clientHeight,m.top,g.clientHeight);m=m.translate(f-g.scrollLeft,u-g.scrollTop);c=g}}),a.scrollIntoViewIfNeeded())},setFirstNode:function(a,b){a=a.data.key.children;0<b[a].length&&(b[a][0].isFirstNode=!0)},setLastNode:function(a,b){a=a.data.key.children;var d=b[a].length;0<d&&(b[a][d-1].isLastNode=!0)},removeNode:function(b,d){var g=a.getRoot(b),c=b.data.key.children,m=d.parentTId?d.getParentNode():
g;d.isFirstNode=!1;d.isLastNode=!1;d.getPreNode=function(){return null};d.getNextNode=function(){return null};if(a.getNodeCache(b,d.tId)){u(d,b).remove();a.removeNodeCache(b,d);a.removeSelectedNode(b,d);for(var f=0,v=m[c].length;f<v;f++)if(m[c][f].tId==d.tId){m[c].splice(f,1);break}x.setFirstNode(b,m);x.setLastNode(b,m);d=m[c].length;if(b.data.keep.parent||0!=d)b.view.showLine&&0<d&&(v=m[c][d-1],d=u(v,A.id.UL,b),f=u(v,A.id.SWITCH,b),l=u(v,A.id.ICON,b),m==g?1==m[c].length?x.replaceSwitchClass(v,f,
A.line.ROOT):(b=u(m[c][0],A.id.SWITCH,b),x.replaceSwitchClass(m[c][0],b,A.line.ROOTS),x.replaceSwitchClass(v,f,A.line.BOTTOM)):x.replaceSwitchClass(v,f,A.line.BOTTOM),d.removeClass(A.line.LINE));else{m.isParent=!1;m.open=!1;d=u(m,A.id.UL,b);f=u(m,A.id.SWITCH,b);var l=u(m,A.id.ICON,b);x.replaceSwitchClass(m,f,A.folder.DOCU);x.replaceIcoClass(m,l,A.folder.DOCU);d.css("display","none")}}},replaceIcoClass:function(a,b,d){if(b&&!a.isAjaxing&&(a=b.attr("class"),void 0!=a)){a=a.split("_");switch(d){case A.folder.OPEN:case A.folder.CLOSE:case A.folder.DOCU:a[a.length-
1]=d}b.attr("class",a.join("_"))}},replaceSwitchClass:function(a,b,d){if(b){var g=b.attr("class");if(void 0!=g){g=g.split("_");switch(d){case A.line.ROOT:case A.line.ROOTS:case A.line.CENTER:case A.line.BOTTOM:case A.line.NOLINE:g[0]=x.makeNodeLineClassEx(a)+d;break;case A.folder.OPEN:case A.folder.CLOSE:case A.folder.DOCU:g[1]=d}b.attr("class",g.join("_"));d!==A.folder.DOCU?b.removeAttr("disabled"):b.attr("disabled","disabled")}}},selectNode:function(b,d,c){c||x.cancelPreSelectedNode(b,null,d);u(d,
A.id.A,b).addClass(A.node.CURSELECTED);a.addSelectedNode(b,d);b.treeObj.trigger(A.event.SELECTED,[b.treeId,d])},setNodeFontCss:function(a,b){var d=u(b,A.id.A,a);(a=x.makeNodeFontCss(a,b))&&d.css(a)},setNodeLineIcos:function(a,b){if(b){var d=u(b,A.id.SWITCH,a),c=u(b,A.id.UL,a),g=u(b,A.id.ICON,a),m=x.makeUlLineClass(a,b);0==m.length?c.removeClass(A.line.LINE):c.addClass(m);d.attr("class",x.makeNodeLineClass(a,b));b.isParent?d.removeAttr("disabled"):d.attr("disabled","disabled");g.removeAttr("style");
g.attr("style",x.makeNodeIcoStyle(a,b));g.attr("class",x.makeNodeIcoClass(a,b))}},setNodeName:function(b,d){var c=a.getNodeTitle(b,d),g=u(d,A.id.SPAN,b);g.empty();b.view.nameIsHTML?g.html(a.getNodeName(b,d)):g.text(a.getNodeName(b,d));C.apply(b.view.showTitle,[b.treeId,d],b.view.showTitle)&&u(d,A.id.A,b).attr("title",c?c:"")},setNodeTarget:function(a,b){u(b,A.id.A,a).attr("target",x.makeNodeTarget(b))},setNodeUrl:function(a,b){var d=u(b,A.id.A,a);a=x.makeNodeUrl(a,b);null==a||0==a.length?d.removeAttr("href"):
d.attr("href",a)},switchNode:function(a,b){b.open||!C.canAsync(a,b)?x.expandCollapseNode(a,b,!b.open):a.async.enable?x.asyncNode(a,b)||x.expandCollapseNode(a,b,!b.open):b&&x.expandCollapseNode(a,b,!b.open)}};h.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",
REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:C,view:x,event:b,data:a},getZTreeObj:function(b){return(b=a.getZTreeTools(b))?b:null},destroy:function(b){if(b&&0<b.length)x.destroy(a.getSetting(b));else for(var d in n)x.destroy(n[d])},
init:function(d,c,m){var g=C.clone(e);h.extend(!0,g,c);g.treeId=d.attr("id");g.treeObj=d;g.treeObj.empty();n[g.treeId]=g;"undefined"===typeof document.body.style.maxHeight&&(g.view.expandSpeed="");a.initRoot(g);d=a.getRoot(g);c=g.data.key.children;m=m?C.clone(C.isArray(m)?m:[m]):[];d[c]=g.data.simpleData.enable?a.transformTozTreeFormat(g,m):m;a.initCache(g);b.unbindTree(g);b.bindTree(g);b.unbindEvent(g);b.bindEvent(g);m={setting:g,addNodes:function(a,b,d,c){function m(){x.addNodes(g,a,b,u,1==c)}a||
(a=null);if(a&&!a.isParent&&g.data.keep.leaf)return null;var f=parseInt(b,10);isNaN(f)?(c=!!d,d=b,b=-1):b=f;if(!d)return null;var u=C.clone(C.isArray(d)?d:[d]);C.canAsync(g,a)?x.asyncNode(g,a,c,m):m();return u},cancelSelectedNode:function(a){x.cancelPreSelectedNode(g,a)},destroy:function(){x.destroy(g)},expandAll:function(a){a=!!a;x.expandCollapseSonNode(g,null,a,!0);return a},expandNode:function(b,d,c,m,f){function v(){var a=u(b,g).get(0);a&&!1!==m&&x.scrollIntoView(a)}if(!b||!b.isParent)return null;
!0!==d&&!1!==d&&(d=!b.open);if((f=!!f)&&d&&0==C.apply(g.callback.beforeExpand,[g.treeId,b],!0)||f&&!d&&0==C.apply(g.callback.beforeCollapse,[g.treeId,b],!0))return null;d&&b.parentTId&&x.expandCollapseParentNode(g,b.getParentNode(),d,!1);if(d===b.open&&!c)return null;a.getRoot(g).expandTriggerFlag=f;!C.canAsync(g,b)&&c?x.expandCollapseSonNode(g,b,d,!0,v):(b.open=!d,x.switchNode(this.setting,b),v());return d},getNodes:function(){return a.getNodes(g)},getNodeByParam:function(b,d,c){return b?a.getNodeByParam(g,
c?c[g.data.key.children]:a.getNodes(g),b,d):null},getNodeByTId:function(b){return a.getNodeCache(g,b)},getNodesByParam:function(b,d,c){return b?a.getNodesByParam(g,c?c[g.data.key.children]:a.getNodes(g),b,d):null},getNodesByParamFuzzy:function(b,d,c){return b?a.getNodesByParamFuzzy(g,c?c[g.data.key.children]:a.getNodes(g),b,d):null},getNodesByFilter:function(b,d,c,m){d=!!d;return b&&"function"==typeof b?a.getNodesByFilter(g,c?c[g.data.key.children]:a.getNodes(g),b,d,m):d?null:[]},getNodeIndex:function(b){if(!b)return null;
for(var d=g.data.key.children,c=b.parentTId?b.getParentNode():a.getRoot(g),m=0,f=c[d].length;m<f;m++)if(c[d][m]==b)return m;return-1},getSelectedNodes:function(){for(var b=[],d=a.getRoot(g).curSelectedList,c=0,m=d.length;c<m;c++)b.push(d[c]);return b},isSelectedNode:function(b){return a.isSelectedNode(g,b)},reAsyncChildNodes:function(b,d,c){if(this.setting.async.enable){var m=!b;m&&(b=a.getRoot(g));if("refresh"==d){d=this.setting.data.key.children;for(var f=0,v=b[d]?b[d].length:0;f<v;f++)a.removeNodeCache(g,
b[d][f]);a.removeSelectedNode(g);b[d]=[];m?this.setting.treeObj.empty():u(b,A.id.UL,g).empty()}x.asyncNode(this.setting,m?null:b,!!c)}},refresh:function(){this.setting.treeObj.empty();var b=a.getRoot(g),d=b[g.data.key.children];a.initRoot(g);b[g.data.key.children]=d;a.initCache(g);x.createNodes(g,0,b[g.data.key.children],null,-1)},removeChildNodes:function(a){if(!a)return null;var b=a[g.data.key.children];x.removeChildNodes(g,a);return b?b:null},removeNode:function(a,b){a&&(b=!!b,b&&0==C.apply(g.callback.beforeRemove,
[g.treeId,a],!0)||(x.removeNode(g,a),b&&this.setting.treeObj.trigger(A.event.REMOVE,[g.treeId,a])))},selectNode:function(a,b,d){function c(){if(!d){var b=u(a,g).get(0);x.scrollIntoView(b)}}if(a&&C.uCanDo(g)){b=g.view.selectedMulti&&b;if(a.parentTId)x.expandCollapseParentNode(g,a.getParentNode(),!0,!1,c);else if(!d)try{u(a,g).focus().blur()}catch(N){}x.selectNode(g,a,b)}},transformTozTreeNodes:function(b){return a.transformTozTreeFormat(g,b)},transformToArray:function(b){return a.transformToArrayFormat(g,
b)},updateNode:function(a,b){a&&u(a,g).get(0)&&C.uCanDo(g)&&(x.setNodeName(g,a),x.setNodeTarget(g,a),x.setNodeUrl(g,a),x.setNodeLineIcos(g,a),x.setNodeFontCss(g,a))}};d.treeTools=m;a.setZTreeTools(g,m);d[c]&&0<d[c].length?x.createNodes(g,0,d[c],null,-1):g.async.enable&&g.async.url&&""!==g.async.url&&x.asyncNode(g);return m}};var d=h.fn.zTree,u=C.$,A=d.consts})(jQuery);
(function(h){var n={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},r={check:{enable:!1,autoCheckTrigger:!1,chkStyle:n.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:n.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},k=function(f,c){if(!0===
c.chkDisabled)return!1;var a=B.getSetting(f.data.treeId),b=a.data.key.checked;if(0==w.apply(a.callback.beforeCheck,[a.treeId,c],!0))return!0;c[b]=!c[b];D.checkNodeRelation(a,c);b=p(c,z.id.CHECK,a);D.setChkClass(a,b,c);D.repairParentChkClassWithSelf(a,c);a.treeObj.trigger(z.event.CHECK,[f,a.treeId,c]);return!0},e=function(f,c){if(!0===c.chkDisabled)return!1;f=B.getSetting(f.data.treeId);var a=p(c,z.id.CHECK,f);c.check_Focus=!0;D.setChkClass(f,a,c);return!0},y=function(f,c){if(!0===c.chkDisabled)return!1;
f=B.getSetting(f.data.treeId);var a=p(c,z.id.CHECK,f);c.check_Focus=!1;D.setChkClass(f,a,c);return!0};h.extend(!0,h.fn.zTree.consts,n);h.extend(!0,h.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(f,c){var a,b,m=f.data.key.children,l=f.data.key.checked;var x=z.radio;if(f.check.chkStyle==x.STYLE){var d=B.getRadioCheckedList(f);if(c[l])if(f.check.radioType==x.TYPE_ALL){for(a=d.length-1;0<=a;a--)x=d[a],x[l]&&x!=c&&(x[l]=!1,d.splice(a,1),D.setChkClass(f,p(x,z.id.CHECK,f),x),x.parentTId!=c.parentTId&&
D.repairParentChkClassWithSelf(f,x));d.push(c)}else for(d=c.parentTId?c.getParentNode():B.getRoot(f),a=0,b=d[m].length;a<b;a++)x=d[m][a],x[l]&&x!=c&&(x[l]=!1,D.setChkClass(f,p(x,z.id.CHECK,f),x));else if(f.check.radioType==x.TYPE_ALL)for(a=0,b=d.length;a<b;a++)if(c==d[a]){d.splice(a,1);break}}else c[l]&&(!c[m]||0==c[m].length||-1<f.check.chkboxType.Y.indexOf("s"))&&D.setSonNodeCheckBox(f,c,!0),c[l]||c[m]&&0!=c[m].length&&!(-1<f.check.chkboxType.N.indexOf("s"))||D.setSonNodeCheckBox(f,c,!1),c[l]&&
-1<f.check.chkboxType.Y.indexOf("p")&&D.setParentNodeCheckBox(f,c,!0),!c[l]&&-1<f.check.chkboxType.N.indexOf("p")&&D.setParentNodeCheckBox(f,c,!1)},makeChkClass:function(f,c){var a=f.data.key.checked,b=z.checkbox,m=z.radio;f=f.check.chkStyle+"_"+(c[a]?b.TRUE:b.FALSE)+"_"+(!0===c.chkDisabled?b.DISABLED:c.halfCheck?b.PART:f.check.chkStyle==m.STYLE?1>c.check_Child_State?b.FULL:b.PART:c[a]?2===c.check_Child_State||-1===c.check_Child_State?b.FULL:b.PART:1>c.check_Child_State?b.FULL:b.PART);f=c.check_Focus&&
!0!==c.chkDisabled?f+"_"+b.FOCUS:f;return z.className.BUTTON+" "+b.DEFAULT+" "+f},repairAllChk:function(f,c){if(f.check.enable&&f.check.chkStyle===z.checkbox.STYLE)for(var a=f.data.key.checked,b=f.data.key.children,m=B.getRoot(f),l=0,x=m[b].length;l<x;l++){var d=m[b][l];!0!==d.nocheck&&!0!==d.chkDisabled&&(d[a]=c);D.setSonNodeCheckBox(f,d,c)}},repairChkClass:function(f,c){if(c&&(B.makeChkFlag(f,c),!0!==c.nocheck)){var a=p(c,z.id.CHECK,f);D.setChkClass(f,a,c)}},repairParentChkClass:function(f,c){c&&
c.parentTId&&(c=c.getParentNode(),D.repairChkClass(f,c),D.repairParentChkClass(f,c))},repairParentChkClassWithSelf:function(f,c){if(c){var a=f.data.key.children;c[a]&&0<c[a].length?D.repairParentChkClass(f,c[a][0]):D.repairParentChkClass(f,c)}},repairSonChkDisabled:function(f,c,a,b){if(c){var m=f.data.key.children;c.chkDisabled!=a&&(c.chkDisabled=a);D.repairChkClass(f,c);if(c[m]&&b)for(var l=0,x=c[m].length;l<x;l++)D.repairSonChkDisabled(f,c[m][l],a,b)}},repairParentChkDisabled:function(f,c,a,b){c&&
(c.chkDisabled!=a&&b&&(c.chkDisabled=a),D.repairChkClass(f,c),D.repairParentChkDisabled(f,c.getParentNode(),a,b))},setChkClass:function(f,c,a){c&&(!0===a.nocheck?c.hide():c.show(),c.attr("class",D.makeChkClass(f,a)))},setParentNodeCheckBox:function(f,c,a,b){var m=f.data.key.children,l=f.data.key.checked,x=p(c,z.id.CHECK,f);b||(b=c);B.makeChkFlag(f,c);!0!==c.nocheck&&!0!==c.chkDisabled&&(c[l]=a,D.setChkClass(f,x,c),f.check.autoCheckTrigger&&c!=b&&f.treeObj.trigger(z.event.CHECK,[null,f.treeId,c]));
if(c.parentTId){x=!0;if(!a){m=c.getParentNode()[m];for(var d=0,u=m.length;d<u;d++)if(!0!==m[d].nocheck&&!0!==m[d].chkDisabled&&m[d][l]||(!0===m[d].nocheck||!0===m[d].chkDisabled)&&0<m[d].check_Child_State){x=!1;break}}x&&D.setParentNodeCheckBox(f,c.getParentNode(),a,b)}},setSonNodeCheckBox:function(f,c,a,b){if(c){var m=f.data.key.children,l=f.data.key.checked,x=p(c,z.id.CHECK,f);b||(b=c);var d=!1;if(c[m])for(var u=0,A=c[m].length;u<A;u++){var g=c[m][u];D.setSonNodeCheckBox(f,g,a,b);!0===g.chkDisabled&&
(d=!0)}c!=B.getRoot(f)&&!0!==c.chkDisabled&&(d&&!0!==c.nocheck&&B.makeChkFlag(f,c),!0!==c.nocheck&&!0!==c.chkDisabled?(c[l]=a,d||(c.check_Child_State=c[m]&&0<c[m].length?a?2:0:-1)):c.check_Child_State=-1,D.setChkClass(f,x,c),f.check.autoCheckTrigger&&c!=b&&!0!==c.nocheck&&!0!==c.chkDisabled&&f.treeObj.trigger(z.event.CHECK,[null,f.treeId,c]))}}},event:{},data:{getRadioCheckedList:function(f){for(var c=B.getRoot(f).radioCheckedList,a=0,b=c.length;a<b;a++)B.getNodeCache(f,c[a].tId)||(c.splice(a,1),
a--,b--);return c},getCheckStatus:function(f,c){if(!f.check.enable||c.nocheck||c.chkDisabled)return null;var a=f.data.key.checked;return{checked:c[a],half:c.halfCheck?c.halfCheck:f.check.chkStyle==z.radio.STYLE?2===c.check_Child_State:c[a]?-1<c.check_Child_State&&2>c.check_Child_State:0<c.check_Child_State}},getTreeCheckedNodes:function(f,c,a,b){if(!c)return[];var m=f.data.key.children,l=f.data.key.checked,x=a&&f.check.chkStyle==z.radio.STYLE&&f.check.radioType==z.radio.TYPE_ALL;b=b?b:[];for(var d=
0,u=c.length;d<u&&(!0===c[d].nocheck||!0===c[d].chkDisabled||c[d][l]!=a||(b.push(c[d]),!x))&&!(B.getTreeCheckedNodes(f,c[d][m],a,b),x&&0<b.length);d++);return b},getTreeChangeCheckedNodes:function(f,c,a){if(!c)return[];var b=f.data.key.children,m=f.data.key.checked;a=a?a:[];for(var l=0,x=c.length;l<x;l++)!0!==c[l].nocheck&&!0!==c[l].chkDisabled&&c[l][m]!=c[l].checkedOld&&a.push(c[l]),B.getTreeChangeCheckedNodes(f,c[l][b],a);return a},makeChkFlag:function(f,c){if(c){var a=f.data.key.children,b=f.data.key.checked,
m=-1;if(c[a])for(var l=0,x=c[a].length;l<x;l++){var d=c[a][l];if(f.check.chkStyle==z.radio.STYLE)if(d=!0===d.nocheck||!0===d.chkDisabled?d.check_Child_State:!0===d.halfCheck?2:d[b]?2:0<d.check_Child_State?2:0,2==d){m=2;break}else 0==d&&(m=0);else if(f.check.chkStyle==z.checkbox.STYLE)if(d=!0===d.nocheck||!0===d.chkDisabled?d.check_Child_State:!0===d.halfCheck?1:d[b]?-1===d.check_Child_State||2===d.check_Child_State?2:1:0<d.check_Child_State?1:0,1===d){m=1;break}else if(2===d&&-1<m&&0<l&&d!==m){m=
1;break}else if(2===m&&-1<d&&2>d){m=1;break}else-1<d&&(m=d)}c.check_Child_State=m}}}});h=h.fn.zTree;var w=h._z.tools,z=h.consts,D=h._z.view,B=h._z.data,p=w.$;B.exSetting(r);B.addInitBind(function(f){f.treeObj.bind(z.event.CHECK,function(c,a,b,m){c.srcEvent=a;w.apply(f.callback.onCheck,[c,b,m])})});B.addInitUnBind(function(f){f.treeObj.unbind(z.event.CHECK)});B.addInitCache(function(f){});B.addInitNode(function(f,c,a,b,m,l,x){a&&(c=f.data.key.checked,"string"==typeof a[c]&&(a[c]=w.eqs(a[c],"true")),
a[c]=!!a[c],a.checkedOld=a[c],"string"==typeof a.nocheck&&(a.nocheck=w.eqs(a.nocheck,"true")),a.nocheck=!!a.nocheck||f.check.nocheckInherit&&b&&!!b.nocheck,"string"==typeof a.chkDisabled&&(a.chkDisabled=w.eqs(a.chkDisabled,"true")),a.chkDisabled=!!a.chkDisabled||f.check.chkDisabledInherit&&b&&!!b.chkDisabled,"string"==typeof a.halfCheck&&(a.halfCheck=w.eqs(a.halfCheck,"true")),a.halfCheck=!!a.halfCheck,a.check_Child_State=-1,a.check_Focus=!1,a.getCheckStatus=function(){return B.getCheckStatus(f,a)},
f.check.chkStyle==z.radio.STYLE&&f.check.radioType==z.radio.TYPE_ALL&&a[c]&&B.getRoot(f).radioCheckedList.push(a))});B.addInitProxy(function(f){var c=f.target,a=B.getSetting(f.data.treeId),b="",m=null,l="",x=null;w.eqs(f.type,"mouseover")?a.check.enable&&w.eqs(c.tagName,"span")&&null!==c.getAttribute("treeNode"+z.id.CHECK)&&(b=w.getNodeMainDom(c).id,l="mouseoverCheck"):w.eqs(f.type,"mouseout")?a.check.enable&&w.eqs(c.tagName,"span")&&null!==c.getAttribute("treeNode"+z.id.CHECK)&&(b=w.getNodeMainDom(c).id,
l="mouseoutCheck"):w.eqs(f.type,"click")&&a.check.enable&&w.eqs(c.tagName,"span")&&null!==c.getAttribute("treeNode"+z.id.CHECK)&&(b=w.getNodeMainDom(c).id,l="checkNode");if(0<b.length)switch(m=B.getNodeCache(a,b),l){case "checkNode":x=k;break;case "mouseoverCheck":x=e;break;case "mouseoutCheck":x=y}return{stop:"checkNode"===l,node:m,nodeEventType:l,nodeEventCallback:x,treeEventType:"",treeEventCallback:null}},!0);B.addInitRoot(function(f){B.getRoot(f).radioCheckedList=[]});B.addBeforeA(function(f,
c,a){f.check.enable&&(B.makeChkFlag(f,c),a.push("<span ID='",c.tId,z.id.CHECK,"' class='",D.makeChkClass(f,c),"' treeNode",z.id.CHECK,!0===c.nocheck?" style='display:none;'":"","></span>"))});B.addZTreeTools(function(f,c){c.checkNode=function(a,c,f,l){var b=this.setting.data.key.checked;!0!==a.chkDisabled&&(!0!==c&&!1!==c&&(c=!a[b]),l=!!l,a[b]===c&&!f||l&&0==w.apply(this.setting.callback.beforeCheck,[this.setting.treeId,a],!0)||!w.uCanDo(this.setting)||!this.setting.check.enable||!0===a.nocheck||
(a[b]=c,c=p(a,z.id.CHECK,this.setting),(f||this.setting.check.chkStyle===z.radio.STYLE)&&D.checkNodeRelation(this.setting,a),D.setChkClass(this.setting,c,a),D.repairParentChkClassWithSelf(this.setting,a),l&&this.setting.treeObj.trigger(z.event.CHECK,[null,this.setting.treeId,a])))};c.checkAllNodes=function(a){D.repairAllChk(this.setting,!!a)};c.getCheckedNodes=function(a){var b=this.setting.data.key.children;a=!1!==a;return B.getTreeCheckedNodes(this.setting,B.getRoot(this.setting)[b],a)};c.getChangeCheckedNodes=
function(){var a=this.setting.data.key.children;return B.getTreeChangeCheckedNodes(this.setting,B.getRoot(this.setting)[a])};c.setChkDisabled=function(a,c,f,l){c=!!c;f=!!f;D.repairSonChkDisabled(this.setting,a,c,!!l);D.repairParentChkDisabled(this.setting,a.getParentNode(),c,f)};var a=c.updateNode;c.updateNode=function(b,m){a&&a.apply(c,arguments);if(b&&this.setting.check.enable&&p(b,this.setting).get(0)&&w.uCanDo(this.setting)){var f=p(b,z.id.CHECK,this.setting);1!=m&&this.setting.check.chkStyle!==
z.radio.STYLE||D.checkNodeRelation(this.setting,b);D.setChkClass(this.setting,f,b);D.repairParentChkClassWithSelf(this.setting,b)}}});var F=D.createNodes;D.createNodes=function(f,c,a,b,m){F&&F.apply(D,arguments);a&&D.repairParentChkClassWithSelf(f,b)};var E=D.removeNode;D.removeNode=function(f,c){var a=c.getParentNode();E&&E.apply(D,arguments);c&&a&&(D.repairChkClass(f,a),D.repairParentChkClass(f,a))};var l=D.appendNodes;D.appendNodes=function(f,c,a,b,m,e,x){var d="";l&&(d=l.apply(D,arguments));b&&
B.makeChkFlag(f,b);return d}})(jQuery);
(function(h){var n={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},r={onHoverOverNode:function(c,a){var b=z.getSetting(c.data.treeId),m=z.getRoot(b);if(m.curHoverNode!=a)r.onHoverOutNode(c);m.curHoverNode=a;w.addHoverDom(b,a)},onHoverOutNode:function(c,
a){c=z.getSetting(c.data.treeId);a=z.getRoot(c);a.curHoverNode&&!z.isSelectedNode(c,a.curHoverNode)&&(w.removeTreeDom(c,a.curHoverNode),a.curHoverNode=null)},onMousedownNode:function(c,a){function b(a){if(0==u.dragFlag&&Math.abs(W-a.clientX)<d.edit.drag.minMoveSize&&Math.abs(la-a.clientY)<d.edit.drag.minMoveSize)return!0;var b;var c=d.data.key.children;B.css("cursor","pointer");if(0==u.dragFlag){if(0==e.apply(d.callback.beforeDrag,[d.treeId,p],!0))return m(a),!0;var g=0;for(b=p.length;g<b;g++){0==
g&&(u.dragNodeShowBefore=[]);var f=p[g];f.isParent&&f.open?(w.expandCollapseNode(d,f,!f.open),u.dragNodeShowBefore[f.tId]=!0):u.dragNodeShowBefore[f.tId]=!1}u.dragFlag=1;A.showHoverDom=!1;e.showIfameMask(d,!0);f=!0;var l=-1;if(1<p.length){var v=p[0].parentTId?p[0].getParentNode()[c]:z.getNodes(d);c=[];g=0;for(b=v.length;g<b;g++)if(void 0!==u.dragNodeShowBefore[v[g].tId]&&(f&&-1<l&&l+1!==g&&(f=!1),c.push(v[g]),l=g),p.length===c.length){p=c;break}}f&&(T=p[0].getPreNode(),X=p[p.length-1].getNextNode());
F=D("<ul class='zTreeDragUL'></ul>",d);g=0;for(b=p.length;g<b;g++)f=p[g],f.editNameFlag=!1,w.selectNode(d,f,0<g),w.removeTreeDom(d,f),g>d.edit.drag.maxShowNodeNum-1||(l=D("<li id='"+f.tId+"_tmp'></li>",d),l.append(D(f,y.id.A,d).clone()),l.css("padding","0"),l.children("#"+f.tId+y.id.A).removeClass(y.node.CURSELECTED),F.append(l),g==d.edit.drag.maxShowNodeNum-1&&(l=D("<li id='"+f.tId+"_moretmp'><a>  ...  </a></li>",d),F.append(l)));F.attr("id",p[0].tId+y.id.UL+"_tmp");F.addClass(d.treeObj.attr("class"));
F.appendTo(B);r=D("<span class='tmpzTreeMove_arrow'></span>",d);r.attr("id","zTreeMove_arrow_tmp");r.appendTo(B);d.treeObj.trigger(y.event.DRAG,[a,d.treeId,p])}if(1==u.dragFlag){N&&r.attr("id")==a.target.id&&M&&a.clientX+E.scrollLeft()+2>h("#"+M+y.id.A,N).offset().left?(f=h("#"+M+y.id.A,N),a.target=0<f.length?f.get(0):a.target):N&&(N.removeClass(y.node.TMPTARGET_TREE),M&&h("#"+M+y.id.A,N).removeClass(y.node.TMPTARGET_NODE+"_"+y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE+"_"+n.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE+
"_"+n.move.TYPE_INNER));M=N=null;R=!1;H=d;f=z.getSettings();for(var x in f)f[x].treeId&&f[x].edit.enable&&f[x].treeId!=d.treeId&&(a.target.id==f[x].treeId||0<h(a.target).parents("#"+f[x].treeId).length)&&(R=!0,H=f[x]);x=E.scrollTop();l=E.scrollLeft();c=H.treeObj.offset();g=H.treeObj.get(0).scrollHeight;f=H.treeObj.get(0).scrollWidth;b=a.clientY+x-c.top;var C=H.treeObj.height()+c.top-a.clientY-x,k=a.clientX+l-c.left,K=H.treeObj.width()+c.left-a.clientX-l;c=b<d.edit.drag.borderMax&&b>d.edit.drag.borderMin;
v=C<d.edit.drag.borderMax&&C>d.edit.drag.borderMin;var I=k<d.edit.drag.borderMax&&k>d.edit.drag.borderMin,O=K<d.edit.drag.borderMax&&K>d.edit.drag.borderMin;C=b>d.edit.drag.borderMin&&C>d.edit.drag.borderMin&&k>d.edit.drag.borderMin&&K>d.edit.drag.borderMin;k=c&&0>=H.treeObj.scrollTop();K=v&&H.treeObj.scrollTop()+H.treeObj.height()+10>=g;var ja=I&&0>=H.treeObj.scrollLeft(),S=O&&H.treeObj.scrollLeft()+H.treeObj.width()+10>=f;if(a.target&&e.isChildOrSelf(a.target,H.treeId)){for(var G=a.target;G&&G.tagName&&
!e.eqs(G.tagName,"li")&&G.id!=H.treeId;)G=G.parentNode;var t=!0;g=0;for(b=p.length;g<b;g++)if(f=p[g],G.id===f.tId){t=!1;break}else if(0<D(f,d).find("#"+G.id).length){t=!1;break}t&&a.target&&e.isChildOrSelf(a.target,G.id+y.id.A)&&(N=h(G),M=G.id)}f=p[0];C&&e.isChildOrSelf(a.target,H.treeId)&&(!N&&(a.target.id==H.treeId||k||K||ja||S)&&(R||!R&&f.parentTId)&&(N=H.treeObj),c?H.treeObj.scrollTop(H.treeObj.scrollTop()-10):v&&H.treeObj.scrollTop(H.treeObj.scrollTop()+10),I?H.treeObj.scrollLeft(H.treeObj.scrollLeft()-
10):O&&H.treeObj.scrollLeft(H.treeObj.scrollLeft()+10),N&&N!=H.treeObj&&N.offset().left<H.treeObj.offset().left&&H.treeObj.scrollLeft(H.treeObj.scrollLeft()+N.offset().left-H.treeObj.offset().left));F.css({top:a.clientY+x+3+"px",left:a.clientX+l+3+"px"});b=g=0;if(N&&N.attr("id")!=H.treeId){l=function(){N=null;M="";P=y.move.TYPE_INNER;r.css({display:"none"});window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)};var Q=null==M?null:z.getNodeCache(H,M);v=(a.ctrlKey||
a.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy;c=!(!T||M!==T.tId);O=!(!X||M!==X.tId);I=f.parentTId&&f.parentTId==M;f=(v||!O)&&e.apply(H.edit.drag.prev,[H.treeId,p,Q],!!H.edit.drag.prev);c=(v||!c)&&e.apply(H.edit.drag.next,[H.treeId,p,Q],!!H.edit.drag.next);v=(v||!I)&&!(H.data.keep.leaf&&!Q.isParent)&&e.apply(H.edit.drag.inner,[H.treeId,p,Q],!!H.edit.drag.inner);if(f||c||v){if(I=h("#"+M+y.id.A,N),O=Q.isLastNode?null:h("#"+Q.getNextNode().tId+y.id.A,N.next()),
C=I.offset().top,k=I.offset().left,K=f?v?.25:c?.5:1:-1,ja=c?v?.75:f?.5:0:-1,x=(a.clientY+x-C)/I.height(),(1==K||x<=K&&-.2<=x)&&f?(g=1-r.width(),b=C-r.height()/2,P=y.move.TYPE_PREV):(0==ja||x>=ja&&1.2>=x)&&c?(g=1-r.width(),b=null==O||Q.isParent&&Q.open?C+I.height()-r.height()/2:O.offset().top-r.height()/2,P=y.move.TYPE_NEXT):v?(g=5-r.width(),b=C,P=y.move.TYPE_INNER):l(),N){r.css({display:"block",top:b+"px",left:k+g+"px"});I.addClass(y.node.TMPTARGET_NODE+"_"+P);if(aa!=M||Z!=P)pa=(new Date).getTime();
Q&&Q.isParent&&P==y.move.TYPE_INNER&&(x=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==Q.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===Q.tId&&(x=!1),x&&(window.zTreeMoveTimer=setTimeout(function(){P==y.move.TYPE_INNER&&Q&&Q.isParent&&!Q.open&&(new Date).getTime()-pa>H.edit.drag.autoOpenTime&&e.apply(H.callback.beforeDragOpen,[H.treeId,Q],!0)&&(w.switchNode(H,Q),H.edit.drag.autoExpandTrigger&&H.treeObj.trigger(y.event.EXPAND,
[H.treeId,Q]))},H.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=Q.tId))}}else l()}else P=y.move.TYPE_INNER,N&&e.apply(H.edit.drag.inner,[H.treeId,p,null],!!H.edit.drag.inner)?N.addClass(y.node.TMPTARGET_TREE):N=null,r.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);aa=M;Z=P;d.treeObj.trigger(y.event.DRAGMOVE,[a,d.treeId,p])}return!1}function m(a){window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=
null);Z=aa=null;E.unbind("mousemove",b);E.unbind("mouseup",m);E.unbind("selectstart",f);B.css("cursor","auto");N&&(N.removeClass(y.node.TMPTARGET_TREE),M&&h("#"+M+y.id.A,N).removeClass(y.node.TMPTARGET_NODE+"_"+y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE+"_"+n.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE+"_"+n.move.TYPE_INNER));e.showIfameMask(d,!1);A.showHoverDom=!0;if(0!=u.dragFlag){u.dragFlag=0;var g;var c=0;for(g=p.length;c<g;c++){var l=p[c];l.isParent&&u.dragNodeShowBefore[l.tId]&&
!l.open&&(w.expandCollapseNode(d,l,!l.open),delete u.dragNodeShowBefore[l.tId])}F&&F.remove();r&&r.remove();var v=(a.ctrlKey||a.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy;!v&&N&&M&&p[0].parentTId&&M==p[0].parentTId&&P==y.move.TYPE_INNER&&(N=null);if(N){c=function(){if(R){if(!v)for(var b=0,g=p.length;b<g;b++)w.removeNode(d,p[b]);P==y.move.TYPE_INNER?w.addNodes(H,x,-1,C):w.addNodes(H,x.getParentNode(),P==y.move.TYPE_PREV?x.getIndex():x.getIndex()+1,C)}else if(v&&
P==y.move.TYPE_INNER)w.addNodes(H,x,-1,C);else if(v)w.addNodes(H,x.getParentNode(),P==y.move.TYPE_PREV?x.getIndex():x.getIndex()+1,C);else if(P!=y.move.TYPE_NEXT)for(b=0,g=C.length;b<g;b++)w.moveNode(H,x,C[b],P,!1);else for(b=-1,g=C.length-1;b<g;g--)w.moveNode(H,x,C[g],P,!1);w.selectNodes(H,C);b=D(C[0],d).get(0);w.scrollIntoView(b);d.treeObj.trigger(y.event.DROP,[a,H.treeId,C,x,P,v])};var x=null==M?null:z.getNodeCache(H,M);if(0==e.apply(d.callback.beforeDrop,[H.treeId,p,x,P,v],!0))w.selectNodes(Y,
p);else{var C=v?e.clone(p):p;P==y.move.TYPE_INNER&&e.canAsync(H,x)?w.asyncNode(H,x,!1,c):c()}}else w.selectNodes(Y,p),d.treeObj.trigger(y.event.DROP,[a,d.treeId,p,null,null,null])}}function f(){return!1}var l,d=z.getSetting(c.data.treeId),u=z.getRoot(d),A=z.getRoots();if(2==c.button||!d.edit.enable||!d.edit.drag.isCopy&&!d.edit.drag.isMove)return!0;var g=c.target,v=z.getRoot(d).curSelectedList,p=[];if(z.isSelectedNode(d,a)){var k=0;for(l=v.length;k<l;k++){if(v[k].editNameFlag&&e.eqs(g.tagName,"input")&&
null!==g.getAttribute("treeNode"+y.id.INPUT))return!0;p.push(v[k]);if(p[0].parentTId!==v[k].parentTId){p=[a];break}}}else p=[a];w.editNodeBlur=!0;w.cancelCurEditNode(d);var E=h(d.treeObj.get(0).ownerDocument),B=h(d.treeObj.get(0).ownerDocument.body),F,r,N,R=!1,H=d,Y=d,T,X,aa=null,Z=null,M=null,P=y.move.TYPE_INNER,W=c.clientX,la=c.clientY,pa=(new Date).getTime();e.uCanDo(d)&&E.bind("mousemove",b);E.bind("mouseup",m);E.bind("selectstart",f);c.preventDefault&&c.preventDefault();return!0}};h.extend(!0,
h.fn.zTree.consts,n);h.extend(!0,h.fn.zTree._z,{tools:{getAbs:function(c){c=c.getBoundingClientRect();return[c.left+(document.body.scrollLeft+document.documentElement.scrollLeft),c.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(c){c.get(0)&&(c.focus(),e.setCursorPosition(c.get(0),c.val().length))},inputSelect:function(c){c.get(0)&&(c.focus(),c.select())},setCursorPosition:function(c,a){c.setSelectionRange?(c.focus(),c.setSelectionRange(a,a)):c.createTextRange&&
(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())},showIfameMask:function(c,a){for(var b=z.getRoot(c);0<b.dragMaskList.length;)b.dragMaskList[0].remove(),b.dragMaskList.shift();if(a){a=D("iframe",c);for(var f=0,l=a.length;f<l;f++){var x=a.get(f),d=e.getAbs(x);x=D("<div id='zTreeMask_"+f+"' class='zTreeMask' style='top:"+d[1]+"px; left:"+d[0]+"px; width:"+x.offsetWidth+"px; height:"+x.offsetHeight+"px;'></div>",c);x.appendTo(D("body",c));b.dragMaskList.push(x)}}}},
view:{addEditBtn:function(c,a){if(!(a.editNameFlag||0<D(a,y.id.EDIT,c).length)&&e.apply(c.edit.showRenameBtn,[c.treeId,a],c.edit.showRenameBtn)){var b=D(a,y.id.A,c),f="<span class='"+y.className.BUTTON+" edit' id='"+a.tId+y.id.EDIT+"' title='"+e.apply(c.edit.renameTitle,[c.treeId,a],c.edit.renameTitle)+"' treeNode"+y.id.EDIT+" style='display:none;'></span>";b.append(f);D(a,y.id.EDIT,c).bind("click",function(){if(!e.uCanDo(c)||0==e.apply(c.callback.beforeEditName,[c.treeId,a],!0))return!1;w.editNode(c,
a);return!1}).show()}},addRemoveBtn:function(c,a){if(!(a.editNameFlag||0<D(a,y.id.REMOVE,c).length)&&e.apply(c.edit.showRemoveBtn,[c.treeId,a],c.edit.showRemoveBtn)){var b=D(a,y.id.A,c),f="<span class='"+y.className.BUTTON+" remove' id='"+a.tId+y.id.REMOVE+"' title='"+e.apply(c.edit.removeTitle,[c.treeId,a],c.edit.removeTitle)+"' treeNode"+y.id.REMOVE+" style='display:none;'></span>";b.append(f);D(a,y.id.REMOVE,c).bind("click",function(){if(!e.uCanDo(c)||0==e.apply(c.callback.beforeRemove,[c.treeId,
a],!0))return!1;w.removeNode(c,a);c.treeObj.trigger(y.event.REMOVE,[c.treeId,a]);return!1}).bind("mousedown",function(a){return!0}).show()}},addHoverDom:function(c,a){z.getRoots().showHoverDom&&(a.isHover=!0,c.edit.enable&&(w.addEditBtn(c,a),w.addRemoveBtn(c,a)),e.apply(c.view.addHoverDom,[c.treeId,a]))},cancelCurEditNode:function(c,a,b){var f=z.getRoot(c),l=c.data.key.name,x=f.curEditNode;if(x){var d=f.curEditInput;a=a?a:b?x[l]:d.val();if(!1===e.apply(c.callback.beforeRename,[c.treeId,x,a,b],!0))return!1;
x[l]=a;D(x,y.id.A,c).removeClass(y.node.CURSELECTED_EDIT);d.unbind();w.setNodeName(c,x);x.editNameFlag=!1;f.curEditNode=null;f.curEditInput=null;w.selectNode(c,x,!1);c.treeObj.trigger(y.event.RENAME,[c.treeId,x,b])}return f.noSelection=!0},editNode:function(c,a){var b=z.getRoot(c);w.editNodeBlur=!1;if(z.isSelectedNode(c,a)&&b.curEditNode==a&&a.editNameFlag)setTimeout(function(){e.inputFocus(b.curEditInput)},0);else{var f=c.data.key.name;a.editNameFlag=!0;w.removeTreeDom(c,a);w.cancelCurEditNode(c);
w.selectNode(c,a,!1);D(a,y.id.SPAN,c).html("<input type=text class='rename' id='"+a.tId+y.id.INPUT+"' treeNode"+y.id.INPUT+" >");var l=D(a,y.id.INPUT,c);l.attr("value",a[f]);c.edit.editNameSelectAll?e.inputSelect(l):e.inputFocus(l);l.bind("blur",function(a){w.editNodeBlur||w.cancelCurEditNode(c)}).bind("keydown",function(a){"13"==a.keyCode?(w.editNodeBlur=!0,w.cancelCurEditNode(c)):"27"==a.keyCode&&w.cancelCurEditNode(c,null,!0)}).bind("click",function(a){return!1}).bind("dblclick",function(a){return!1});
D(a,y.id.A,c).addClass(y.node.CURSELECTED_EDIT);b.curEditInput=l;b.noSelection=!1;b.curEditNode=a}},moveNode:function(c,a,b,f,l,x){var d=z.getRoot(c),m=c.data.key.children;if(a!=b&&(!c.data.keep.leaf||!a||a.isParent||f!=y.move.TYPE_INNER)){var A=b.parentTId?b.getParentNode():d,g=null===a||a==d;g&&null===a&&(a=d);g&&(f=y.move.TYPE_INNER);d=a.parentTId?a.getParentNode():d;f!=y.move.TYPE_PREV&&f!=y.move.TYPE_NEXT&&(f=y.move.TYPE_INNER);f==y.move.TYPE_INNER&&(g?b.parentTId=null:(a.isParent||(a.isParent=
!0,a.open=!!a.open,w.setNodeLineIcos(c,a)),b.parentTId=a.tId));if(g)var v=g=c.treeObj;else x||f!=y.move.TYPE_INNER?x||w.expandCollapseNode(c,a.getParentNode(),!0,!1):w.expandCollapseNode(c,a,!0,!1),g=D(a,c),v=D(a,y.id.UL,c),g.get(0)&&!v.get(0)&&(v=[],w.makeUlHtml(c,a,v,""),g.append(v.join(""))),v=D(a,y.id.UL,c);var p=D(b,c);p.get(0)?g.get(0)||p.remove():p=w.appendNodes(c,b.level,[b],null,-1,!1,!0).join("");v.get(0)&&f==y.move.TYPE_INNER?v.append(p):g.get(0)&&f==y.move.TYPE_PREV?g.before(p):g.get(0)&&
f==y.move.TYPE_NEXT&&g.after(p);var e=-1,C=0,k=null;g=null;var h=b.level;if(b.isFirstNode)e=0,1<A[m].length&&(k=A[m][1],k.isFirstNode=!0);else if(b.isLastNode)e=A[m].length-1,k=A[m][e-1],k.isLastNode=!0;else for(v=0,p=A[m].length;v<p;v++)if(A[m][v].tId==b.tId){e=v;break}0<=e&&A[m].splice(e,1);if(f!=y.move.TYPE_INNER)for(v=0,p=d[m].length;v<p;v++)d[m][v].tId==a.tId&&(C=v);f==y.move.TYPE_INNER?(a[m]||(a[m]=[]),0<a[m].length&&(g=a[m][a[m].length-1],g.isLastNode=!1),a[m].splice(a[m].length,0,b),b.isLastNode=
!0,b.isFirstNode=1==a[m].length):a.isFirstNode&&f==y.move.TYPE_PREV?(d[m].splice(C,0,b),g=a,g.isFirstNode=!1,b.parentTId=a.parentTId,b.isFirstNode=!0,b.isLastNode=!1):a.isLastNode&&f==y.move.TYPE_NEXT?(d[m].splice(C+1,0,b),g=a,g.isLastNode=!1,b.parentTId=a.parentTId,b.isFirstNode=!1,b.isLastNode=!0):(f==y.move.TYPE_PREV?d[m].splice(C,0,b):d[m].splice(C+1,0,b),b.parentTId=a.parentTId,b.isFirstNode=!1,b.isLastNode=!1);z.fixPIdKeyValue(c,b);z.setSonNodeLevel(c,b.getParentNode(),b);w.setNodeLineIcos(c,
b);w.repairNodeLevelClass(c,b,h);!c.data.keep.parent&&1>A[m].length?(A.isParent=!1,A.open=!1,a=D(A,y.id.UL,c),f=D(A,y.id.SWITCH,c),m=D(A,y.id.ICON,c),w.replaceSwitchClass(A,f,y.folder.DOCU),w.replaceIcoClass(A,m,y.folder.DOCU),a.css("display","none")):k&&w.setNodeLineIcos(c,k);g&&w.setNodeLineIcos(c,g);c.check&&c.check.enable&&w.repairChkClass&&(w.repairChkClass(c,A),w.repairParentChkClassWithSelf(c,A),A!=b.parent&&w.repairParentChkClassWithSelf(c,b));x||w.expandCollapseParentNode(c,b.getParentNode(),
!0,l)}},removeEditBtn:function(c,a){D(a,y.id.EDIT,c).unbind().remove()},removeRemoveBtn:function(c,a){D(a,y.id.REMOVE,c).unbind().remove()},removeTreeDom:function(c,a){a.isHover=!1;w.removeEditBtn(c,a);w.removeRemoveBtn(c,a);e.apply(c.view.removeHoverDom,[c.treeId,a])},repairNodeLevelClass:function(c,a,b){if(b!==a.level){var f=D(a,c),l=D(a,y.id.A,c);c=D(a,y.id.UL,c);b=y.className.LEVEL+b;a=y.className.LEVEL+a.level;f.removeClass(b);f.addClass(a);l.removeClass(b);l.addClass(a);c.removeClass(b);c.addClass(a)}},
selectNodes:function(c,a){for(var b=0,f=a.length;b<f;b++)w.selectNode(c,a[b],0<b)}},event:{},data:{setSonNodeLevel:function(c,a,b){if(b){var f=c.data.key.children;b.level=a?a.level+1:0;if(b[f]){a=0;for(var l=b[f].length;a<l;a++)b[f][a]&&z.setSonNodeLevel(c,b,b[f][a])}}}}});var k=h.fn.zTree,e=k._z.tools,y=k.consts,w=k._z.view,z=k._z.data,D=e.$;z.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,
isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}});z.addInitBind(function(c){var a=c.treeObj,b=y.event;a.bind(b.RENAME,function(a,b,f,d){e.apply(c.callback.onRename,[a,b,f,d])});a.bind(b.DRAG,function(a,b,f,d){e.apply(c.callback.onDrag,[b,f,
d])});a.bind(b.DRAGMOVE,function(a,b,f,d){e.apply(c.callback.onDragMove,[b,f,d])});a.bind(b.DROP,function(a,b,f,d,u,l,g){e.apply(c.callback.onDrop,[b,f,d,u,l,g])})});z.addInitUnBind(function(c){c=c.treeObj;var a=y.event;c.unbind(a.RENAME);c.unbind(a.DRAG);c.unbind(a.DRAGMOVE);c.unbind(a.DROP)});z.addInitCache(function(c){});z.addInitNode(function(c,a,b,f,l,x,d){b&&(b.isHover=!1,b.editNameFlag=!1)});z.addInitProxy(function(c){var a=c.target,b=z.getSetting(c.data.treeId),f=c.relatedTarget,l="",x=null,
d="",u=null;if(e.eqs(c.type,"mouseover")){if(c=e.getMDom(b,a,[{tagName:"a",attrName:"treeNode"+y.id.A}]))l=e.getNodeMainDom(c).id,d="hoverOverNode"}else e.eqs(c.type,"mouseout")?(c=e.getMDom(b,f,[{tagName:"a",attrName:"treeNode"+y.id.A}]),c||(l="remove",d="hoverOutNode")):e.eqs(c.type,"mousedown")&&(c=e.getMDom(b,a,[{tagName:"a",attrName:"treeNode"+y.id.A}]))&&(l=e.getNodeMainDom(c).id,d="mousedownNode");if(0<l.length)switch(x=z.getNodeCache(b,l),d){case "mousedownNode":u=r.onMousedownNode;break;
case "hoverOverNode":u=r.onHoverOverNode;break;case "hoverOutNode":u=r.onHoverOutNode}return{stop:!1,node:x,nodeEventType:d,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}});z.addInitRoot(function(c){c=z.getRoot(c);var a=z.getRoots();c.curEditNode=null;c.curEditInput=null;c.curHoverNode=null;c.dragFlag=0;c.dragNodeShowBefore=[];c.dragMaskList=[];a.showHoverDom=!0});z.addZTreeTools(function(c,a){a.cancelEditName=function(a){z.getRoot(this.setting).curEditNode&&w.cancelCurEditNode(this.setting,
a?a:null,!0)};a.copyNode=function(a,c,f,l){if(!c||a&&!a.isParent&&this.setting.data.keep.leaf&&f===y.move.TYPE_INNER)return null;var b=this,m=e.clone(c);a||(a=null,f=y.move.TYPE_INNER);f==y.move.TYPE_INNER?(c=function(){w.addNodes(b.setting,a,-1,[m],l)},e.canAsync(this.setting,a)?w.asyncNode(this.setting,a,l,c):c()):(w.addNodes(this.setting,a.parentNode,-1,[m],l),w.moveNode(this.setting,a,m,f,!1,l));return m};a.editName=function(a){a&&a.tId&&a===z.getNodeCache(this.setting,a.tId)&&(a.parentTId&&w.expandCollapseParentNode(this.setting,
a.getParentNode(),!0),w.editNode(this.setting,a))};a.moveNode=function(a,c,f,l){function b(){w.moveNode(m.setting,a,c,f,!1,l)}if(!c)return c;if(a&&!a.isParent&&this.setting.data.keep.leaf&&f===y.move.TYPE_INNER||a&&(c.parentTId==a.tId&&f==y.move.TYPE_INNER||0<D(c,this.setting).find("#"+a.tId).length))return null;a||(a=null);var m=this;e.canAsync(this.setting,a)&&f===y.move.TYPE_INNER?w.asyncNode(this.setting,a,l,b):b();return c};a.setEditable=function(a){this.setting.edit.enable=a;return this.refresh()}});
var B=w.cancelPreSelectedNode;w.cancelPreSelectedNode=function(c,a){for(var b=z.getRoot(c).curSelectedList,f=0,l=b.length;f<l;f++)if(!a||a===b[f])if(w.removeTreeDom(c,b[f]),a)break;B&&B.apply(w,arguments)};var p=w.createNodes;w.createNodes=function(c,a,b,f,l){p&&p.apply(w,arguments);b&&w.repairParentChkClassWithSelf&&w.repairParentChkClassWithSelf(c,f)};var F=w.makeNodeUrl;w.makeNodeUrl=function(c,a){return c.edit.enable?null:F.apply(w,arguments)};var E=w.removeNode;w.removeNode=function(c,a){var b=
z.getRoot(c);b.curEditNode===a&&(b.curEditNode=null);E&&E.apply(w,arguments)};var l=w.selectNode;w.selectNode=function(c,a,b){var f=z.getRoot(c);if(z.isSelectedNode(c,a)&&f.curEditNode==a&&a.editNameFlag)return!1;l&&l.apply(w,arguments);w.addHoverDom(c,a);return!0};var f=e.uCanDo;e.uCanDo=function(c,a){var b=z.getRoot(c);if(a&&(e.eqs(a.type,"mouseover")||e.eqs(a.type,"mouseout")||e.eqs(a.type,"mousedown")||e.eqs(a.type,"mouseup")))return!0;b.curEditNode&&(w.editNodeBlur=!1,b.curEditInput.focus());
return!b.curEditNode&&(f?f.apply(w,arguments):!0)}})(jQuery);"use strict";$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};
(function(){var h=this,n=this,r=n?n.document:null,k=/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/,e=/^-ms-/,y=/[\-_]([\da-z])/gi,w=/([A-Z])/g,z=/\./,D=/[-|+]?[\D]/gi,B=/\D/gi,p=/([0-9])([0-9][0-9][0-9][,.])/,F=/&/g,E=/=/,l=/[ ]+/g,f={},c=void 0,a=void 0;f.guid=1;f.getGuid=function(){return f.guid++};f.info=c=function(){var b=arguments,f=function(a,b,c,g,f,m){if(!n||!n.navigator)return{};a=navigator.userAgent.toLowerCase();b=-1!=a.search(/mobile/g);c;g;f;m;if(-1!=a.search(/iphone/g))return{name:"iphone",
version:0,mobile:!0};if(-1!=a.search(/ipad/g))return{name:"ipad",version:0,mobile:!0};if(-1!=a.search(/android/g))return g=/(android)[ \/]([\w.]+)/.exec(a)||[],m=g[2]||"0",{name:"android",version:m,mobile:b};g=/(opr)[ \/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];f=g[1]||"";m=g[2]||"0";"msie"==f&&(f="ie");return{name:f,version:m,mobile:b}}(),l=!("undefined"===
typeof window||"undefined"===typeof navigator||!n.document),x=n&&/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";return{errorMsg:{},version:"${VERSION}",baseUrl:"",onerror:function(){console.error(a.toArray(b).join(":"))},eventKeys:{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},weekNames:[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],browser:f,
isBrowser:l,supportTouch:n?"ontouchstart"in n||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints:!1,supportFileApi:n?n.FileReader&&n.File&&n.FileList&&n.Blob:!1,wheelEnm:x,urlUtil:function(b,c){b={href:n.location.href,param:n.location.search,referrer:r.referrer,pathname:n.location.pathname,hostname:n.location.hostname,port:n.location.port};c=b.href.split(/[\?#]/);b.param=b.param.replace("?","");b.url=c[0];-1<b.href.search("#")&&(b.hashdata=a.last(c));b.baseUrl=a.left(b.href,"?").replace(b.pathname,
"");return b},getError:function(a,b,f){return c.errorMsg&&c.errorMsg[a]?{className:a,errorCode:b,methodName:f,msg:c.errorMsg[a][b]}:{className:a,errorCode:b,methodName:f}}}}();f.util=a=function(){function b(a,b){if(g(a))return[];var d=void 0,c=0,f=a.length;if(void 0===f||"function"===typeof a)for(d in a){if("undefined"!=typeof a[d]&&!1===b.call(a[d],d,a[d]))break}else for(;c<f&&("undefined"==typeof a[c]||!1!==b.call(a[c],c,a[c++])););return a}function m(a){var d="";if(f.util.isArray(a)){var c=0,g=
a.length;for(d+="[";c<g;c++)0<c&&(d+=","),d+=m(a[c]);d+="]"}else if(f.util.isObject(a)){d+="{";var u=[];b(a,function(a,b){u.push('"'+a+'": '+m(b))});d+=u.join(", ");d+="}"}else d=f.util.isString(a)?'"'+a+'"':f.util.isNumber(a)?a:f.util.isUndefined(a)?"undefined":f.util.isFunction(a)?'"{Function}"':a;return d}function C(a){return"[object Object]"==M.call(a)}function x(a){return"[object Array]"==M.call(a)}function d(a){return"function"===typeof a}function u(a){return"[object String]"==M.call(a)}function A(a){return"[object Number]"==
M.call(a)}function g(a){return"undefined"===typeof a||null===a||""===a}function v(a,b){return"undefined"===typeof a||"undefined"===typeof b?"":u(b)?-1<a.indexOf(b)?a.substr(0,a.indexOf(b)):"":A(b)?a.substr(0,b):""}function K(a,b){if("undefined"===typeof a||"undefined"===typeof b)return"";a=""+a;return u(b)?-1<a.lastIndexOf(b)?a.substr(a.lastIndexOf(b)+1):"":A(b)?a.substr(a.length-b):""}function I(a){return a.replace(e,"ms-").replace(y,function(a,b){return b.toUpperCase()})}function O(a){return I(a).replace(w,
function(a,b){return"-"+b.toLowerCase()})}function S(a,d){a=(""+a).split(z);var c=0>Number(a[0].replace(/,/g,""))||"-0"==a[0];var g=0;a[0]=a[0].replace(D,"");a[1]?(a[1]=a[1].replace(B,""),g=Number(a[0]+"."+a[1])||0):g=Number(a[0])||0;var f=c?-g:g;b(d,function(a,b){"round"==a&&(f=A(b)?0>b?+(Math.round(f+"e-"+Math.abs(b))+"e+"+Math.abs(b)):+(Math.round(f+"e+"+b)+"e-"+b):Math.round(f));"floor"==a&&(f=Math.floor(f));"ceil"==a?f=Math.ceil(f):"money"==a?f=function(a){a=""+a;if(isNaN(a)||""==a)return"";
a=a.split(".");a[0]+=".";do a[0]=a[0].replace(p,"$1,$2");while(p.test(a[0]));return 1<a.length?a.join(""):a[0].split(".")[0]}(f):"abs"==a?f=Math.abs(Number(f)):"byte"==a&&(f=function(a){a=Number(f);var b="KB";a/=1024;1<a/1024&&(b="MB",a/=1024);1<a/1024&&(b="GB",a/=1024);return S(a,{round:1})+b}(f))});return f}function ba(a,b,d,c,g,f){0>b&&(b=0);"undefined"===typeof c&&(c=12);"undefined"===typeof g&&(g=0);a=new Date(Date.UTC(a,b,d||1,c,g,f||0));0==b&&1==d&&0>a.getUTCHours()+a.getTimezoneOffset()/60?
a.setUTCHours(0):a.setUTCHours(a.getUTCHours()+a.getTimezoneOffset()/60);return a}function Q(a,b){var d=void 0,g=void 0,f=void 0,m=void 0,l=void 0,v=l=m=void 0;d=f=void 0;d=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i;g=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if(u(a))if(0==a.length)a=new Date;else if(15<a.length)if(g.test(a)||d.test(a))a=new Date(a);else{m=a.split(/ /g);l;v;f=m[0].split(/\D/g);d=f[0];g=parseFloat(f[1]);f=parseFloat(f[2]);v=m[1]||
"09:00";l=v.substring(0,5).split(":");m=parseFloat(l[0]);l=parseFloat(l[1]);if("AM"===K(v,2)||"PM"===K(v,2))m+=12;a=ba(d,g-1,f,m,l)}else if(14==a.length)d=a.replace(/\D/g,""),a=ba(d.substr(0,4),d.substr(4,2)-1,S(d.substr(6,2)),S(d.substr(8,2)),S(d.substr(10,2)),S(d.substr(12,2)));else if(7<a.length)d=a.replace(/\D/g,""),a=ba(d.substr(0,4),d.substr(4,2)-1,S(d.substr(6,2)));else if(4<a.length)d=a.replace(/\D/g,""),a=ba(d.substr(0,4),d.substr(4,2)-1,1);else{if(2<a.length)return d=a.replace(/\D/g,""),
ba(d.substr(0,4),d.substr(4,2)-1,1);a=new Date}if("undefined"===typeof b||"undefined"===typeof a)return a;"add"in b&&(a=function(a,b){if("undefined"!==typeof b.d)a.setTime(a.getTime()+864E5*b.d);else if("undefined"!==typeof b.m){var d=a.getFullYear();var c=a.getMonth();a=a.getDate();d+=parseInt(b.m/12);c+=b.m%12;b=N(d,c);b<a&&(a=b);a=new Date(d,c,a,12)}else"undefined"!==typeof b.y?a.setTime(a.getTime()+31536E6*b.y):"undefined"!==typeof b.h&&a.setTime(a.getTime()+36E5*b.h);return a}(new Date(a),b.add));
"set"in b&&(a=function(a,b){var d=void 0,c=void 0,g=void 0,f={firstDayOfMonth:function(a){d=a.getFullYear();c=a.getMonth();g=1;return new Date(d,c,g,12)},lastDayOfMonth:function(a){d=a.getFullYear();c=a.getMonth();g=N(d,c);return new Date(d,c,g,12)}};return b in f?f[b](a):a}(new Date(a),b.set));return"return"in b?function(){var d=b["return"];var g=a.getUTCFullYear();var f=R(a.getMonth()+1,2);var m=R(a.getDate(),2);var u=R(a.getHours(),2);var l=R(a.getMinutes(),2);var v=R(a.getSeconds(),2);var x=a.getDay();
/[^y]*(yyyy)[^y]*/gi.exec(d);var p=RegExp.$1;/[^m]*(MM)[^m]*/g.exec(d);var A=RegExp.$1;/[^d]*(dd)[^d]*/gi.exec(d);var e=RegExp.$1;/[^h]*(hh)[^h]*/gi.exec(d);var t=RegExp.$1;/[^m]*(mm)[^i]*/g.exec(d);var k=RegExp.$1;/[^s]*(ss)[^s]*/gi.exec(d);var C=RegExp.$1;/[^d]*(dw)[^w]*/gi.exec(d);var h=RegExp.$1;"yyyy"===p&&(d=d.replace(p,K(g,p.length)));"MM"===A&&(1==A.length&&(f=a.getMonth()+1),d=d.replace(A,f));"dd"===e&&(1==e.length&&(m=a.getDate()),d=d.replace(e,m));"hh"===t&&(d=d.replace(t,u));"mm"===k&&
(d=d.replace(k,l));"ss"===C&&(d=d.replace(C,v));"dw"==h&&(d=d.replace(h,c.weekNames[x].label));return d}():a}function N(a,b){return 3==b||5==b||8==b||10==b?30:1==b?0==a%4&&0!=a%100||0==a%400?29:28:31}function R(a,b,d,c){a=a.toString(c||10);return H(d||"0",b-a.length)+a}function H(a,b){return 1>b?"":Array(b+1).join(a)}function Y(a,b,d){function c(b){var d=l,c=v;l=v=void 0;k=b;return p=a.apply(c,d)}function g(a){var d=a-e;a-=k;return void 0===e||d>=b||0>d||E&&a>=x}function f(){var a=Date.now();if(g(a))return m(a);
var d=a-k;a=b-(a-e);A=setTimeout(f,E?Math.min(a,x-d):a)}function m(a){A=void 0;if(n&&l)return c(a);l=v=void 0;return p}function u(){for(var a=Date.now(),d=g(a),m=arguments.length,u=Array(m),x=0;x<m;x++)u[x]=arguments[x];l=u;v=this;e=a;if(d){if(void 0===A)return k=a=e,A=setTimeout(f,b),h?c(a):p;if(E)return A=setTimeout(f,b),c(e)}void 0===A&&(A=setTimeout(f,b));return p}var l=void 0,v=void 0,x=void 0,p=void 0,A=void 0,e=void 0,k=0,h=!1,E=!1,n=!0;if("function"!=typeof a)throw new TypeError("Expected a function");
b=+b||0;C(d)&&(h=!!d.leading,x=(E="maxWait"in d)?Math.max(+d.maxWait||0,b):x,n="trailing"in d?!!d.trailing:n);u.cancel=function(){void 0!==A&&clearTimeout(A);k=0;l=e=v=A=void 0};u.flush=function(){return void 0===A?p:m(Date.now())};return u}function T(b){if("object"==("undefined"===typeof b?"undefined":_typeof(b))){if(a.isArray(b)){var d=b.length;var c=Array(d);for(var g=0;g<d;g++)c[g]=T(b[g]);return c}return jQuery.extend({},b)}return b}function X(a){return"[object String]"!=M.call(a)?a:a?a.replace(/[<>&"]/gm,
function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case '"':return"&quot;";default:return a}}):""}function aa(a){return"[object String]"!=M.call(a)?a:a?a.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm,function(a){switch(a){case "&lt;":return"<";case "&gt;":return">";case "&amp;":return"&";case "&quot;":return'"';default:return a}}):""}function Z(a){function b(a){1>=a&&(a=100*a+"%");return a}function d(a){return f.util.number(Math.min(255,Math.max(a,0)),{round:2})}
function c(a,b){var d=a;"string"==typeof d&&-1!=d.indexOf(".")&&1===parseFloat(d)&&(a="100%");d="string"===typeof a&&-1!=a.indexOf("%");a=Math.min(b,Math.max(0,parseFloat(a)));d&&(a=parseInt(a*b,10)/100);return 1E-6>Math.abs(a-b)?1:a%b/parseFloat(b)}function g(a,b,d){a=c(a,255);b=c(b,255);d=c(d,255);var g=Math.max(a,b,d),f=Math.min(a,b,d),m=(g+f)/2;if(g==f)var u=f=0;else{var l=g-f;f=.5<m?l/(2-g-f):l/(g+f);switch(g){case a:u=(b-d)/l+(b<d?6:0);break;case b:u=(d-a)/l+2;break;case d:u=(a-b)/l+4}u/=6}return{h:u,
s:f,l:m}}function m(a,b,d){function g(a,b,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(b-a)*d:.5>d?b:d<2/3?a+(b-a)*(2/3-d)*6:a}var f=void 0,m=void 0,u=void 0;a=c(a,360);b=c(b,100);d=c(d,100);0===b?f=m=u=d:(b=.5>d?d*(1+b):d+b-d*b,d=2*d-b,f=g(d,b,a+1/3),m=g(d,b,a),u=g(d,b,a-1/3));return{r:255*f,g:255*m,b:255*u}}var u=/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,l=/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
v=/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,x=/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,p=/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,A=/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
e=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,k=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,C=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,h=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,E=function(a){var b;return(b=u.exec(a))?{r:b[1],g:b[2],b:b[3]}:(b=l.exec(a))?{r:b[1],g:b[2],b:b[3],a:b[4]}:(b=v.exec(a))?{h:b[1],s:b[2],l:b[3]}:(b=x.exec(a))?{h:b[1],s:b[2],l:b[3],a:b[4]}:(b=p.exec(a))?{h:b[1],s:b[2],v:b[3]}:(b=A.exec(a))?{h:b[1],
s:b[2],v:b[3],a:b[4]}:(b=h.exec(a))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16),a:parseInt(b[4]/255,16),format:"hex8"}:(b=k.exec(a))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16),format:"hex"}:(b=C.exec(a))?{r:parseInt(b[1]+""+b[1],16),g:parseInt(b[2]+""+b[2],16),b:parseInt(b[3]+""+b[3],16),a:parseInt(b[4]+""+b[4],16),format:"hex8"}:(b=e.exec(a))?{r:parseInt(b[1]+""+b[1],16),g:parseInt(b[2]+""+b[2],16),b:parseInt(b[3]+""+b[3],16),format:"hex"}:!1};return new function(a){this._originalValue=
a;a=E(a);this.r=a.r;this.g=a.g;this.b=a.b;this.a=a.a||1;this._format=a.format;this._hex=R(Math.round(this.r).toString(16),2)+R(Math.round(this.g).toString(16),2)+R(Math.round(this.b).toString(16),2);this.getHexValue=function(){return this._hex};this.lighten=function(a){a=0===a?0:a||10;var c=g(this.r,this.g,this.b);c.l+=a/100;c.l=Math.min(1,Math.max(0,c.l));c.h*=360;a=m(c.h,b(c.s),b(c.l));return Z("rgba("+d(a.r)+", "+d(a.g)+", "+d(a.b)+", "+this.a+")")};this.darken=function(a){a=0===a?0:a||10;var c=
g(this.r,this.g,this.b);c.l-=a/100;c.l=Math.min(1,Math.max(0,c.l));c.h*=360;a=m(c.h,b(c.s),b(c.l));return Z("rgba("+d(a.r)+", "+d(a.g)+", "+d(a.b)+", "+this.a+")")};this.getBrightness=function(){return(299*this.r+587*this.g+114*this.b)/1E3};this.isDark=function(){return 128>this.getBrightness()};this.isLight=function(){return!this.isDark()};this.getHsl=function(){var a=g(this.r,this.g,this.b);a.l=Math.min(1,Math.max(0,a.l));a.h*=360;return{h:a.h,s:a.s,l:a.l}}}(a)}var M=Object.prototype.toString,P=
function(){var a={textRange:{selectAll:function(a,b,d){},arr:function(a,b,d){b.moveStart("character",d[0]);b.collapse();b.moveEnd("character",d[1])},start:function(a,b,d){b.moveStart("character",0);b.collapse()},end:function(a,b,d){b.moveStart("character",b.text.length);b.collapse()}},range:{selectAll:function(a,b,d){b.selectNodeContents(a)},arr:function(a,b,d){C(d[0])?(b.setStart(d[0].node,d[0].offset),b.setEnd(d[1].node,d[1].offset)):(b.setStart(a.firstChild,d[0]),b.setEnd(a.firstChild,d[1]))},
start:function(a,b,d){b.selectNodeContents(a);b.collapse(!0)},end:function(a,b,d){b.selectNodeContents(a);b.collapse(!1)}}};return function(b,d){b instanceof jQuery&&(b=b.get(0));if(b){if(r.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b);var g="textRange"}else if(window.getSelection){var f=window.getSelection();c=document.createRange();g="range"}if("undefined"==typeof d)a[g].selectAll.call(this,b,c,d);else if(x(d))a[g].arr.call(this,b,c,d);else for(var m in a[g])if(d==
m){a[g][m].call(this,b,c,d);break}r.body.createTextRange?(c.select(),b.focus()):window.getSelection&&(b.focus(),f.removeAllRanges(),f.addRange(c))}}}();return{alert:function(a){n.alert(m(a));return a},each:b,map:function(a,b){if(g(a))return[];var d=void 0,c=0,f=a.length,m=[],u;if(C(a))for(d in a){if("undefined"!=typeof a[d])if(!1===(u=b.call(a[d],d,a[d])))break;else m.push(u)}else for(;c<f;)if("undefined"!=typeof a[c])if(!1===(u=b.call(a[c],c,a[c++])))break;else m.push(u);return m},search:function(a,
b){if(g(a))return-1;if(C(a))for(var c in a){if("undefined"!=typeof a[c]&&d(b)&&b.call(a[c],c,a[c])||a[c]==b)return c}else{c=0;for(var f=a.length;c<f;c++)if("undefined"!=typeof a[c]&&d(b)&&b.call(a[c],c,a[c])||a[c]==b)return c}return-1},reduce:function(a,b){var d;if(x(a)){var c=0;var g=a.length;for(d=a[c];c<g-1&&("undefined"==typeof a[c]||!1!==(d=b.call(h,d,a[++c]))););return d}if(C(a)){for(c in a)if("undefined"!=typeof a[c]&&!1===(d=b.call(h,d,a[c])))break;return d}console.error("argument error : ax5.util.reduce - use Array or Object");
return null},reduceRight:function(a,b){for(var d=a.length-1,c=a[d];0<d&&("undefined"==typeof a[d]||!1!==(c=b.call(h,c,a[--d]))););return c},filter:function(a,b){if(g(a))return[];var d,c=0,f=a.length,m=[];if(C(a))for(d in a)"undefined"!=typeof a[d]&&b.call(a[d],d,a[d])&&m.push(a[d]);else for(;c<f;)"undefined"!=typeof a[c]&&(b.call(a[c],c,a[c])&&m.push(a[c]),c++);return m},sum:function(a,b,c){var g=void 0,f,m;d(b)&&"undefined"===typeof c&&(c=b,b=0);"undefined"===typeof b&&(b=0);if(x(a))for(g=0,f=a.length;g<
f;g++){if("undefined"!==typeof a[g])if(!1===(m=c.call(a[g],a[g])))break;else"undefined"!==typeof m&&(b+=m)}else if(C(a))for(g in a){if("undefined"!=typeof a[g])if(!1===(m=c.call(a[g],a[g])))break;else"undefined"!==typeof m&&(b+=m)}else console.error("argument error : ax5.util.sum - use Array or Object");return b},avg:function(a,b,c){var g=void 0,f,m;d(b)&&"undefined"===typeof c&&(c=b,b=0);"undefined"===typeof b&&(b=0);if(x(a)){g=0;for(f=a.length;g<f;g++)if("undefined"!==typeof a[g])if(!1===(m=c.call(a[g],
a[g])))break;else"undefined"!==typeof m&&(b+=m);return b/f}if(C(a)){f=0;for(g in a)if("undefined"!=typeof a[g]){if(!1===(m=c.call(a[g],a[g])))break;else"undefined"!==typeof m&&(b+=m);++f}return b/f}console.error("argument error : ax5.util.sum - use Array or Object");return b},toJson:m,parseJson:function(a,b){if(b||k.test(a))try{return(new Function("","return "+a))()}catch(pa){return{error:500,msg:"syntax error"}}else return{error:500,msg:"syntax error"}},first:function(a){if(C(a)){var b=Object.keys(a),
d={};d[b[0]]=a[b[0]];return d}if(x(a))return a[0];console.error("ax5.util.object.first","argument type error")},last:function(a){if(C(a)){var b=Object.keys(a),d={};d[b[b.length-1]]=a[b[b.length-1]];return d}if(x(a))return a[a.length-1];console.error("ax5.util.object.last","argument type error")},deepCopy:T,left:v,right:K,getType:function(a){var b;null!=a&&a==a.window?b="window":a&&1==a.nodeType?b="element":a&&11==a.nodeType?b="fragment":null===a?b="null":"undefined"===typeof a?b="undefined":"[object Object]"==
M.call(a)?b="object":"[object Array]"==M.call(a)?b="array":"[object String]"==M.call(a)?b="string":"[object Number]"==M.call(a)?b="number":"[object NodeList]"==M.call(a)?b="nodelist":"function"===typeof a&&(b="function");return b},isWindow:function(a){return null!=a&&a==a.window},isElement:function(a){return!(!a||1!=a.nodeType&&11!=a.nodeType)},isObject:C,isArray:x,isFunction:d,isString:u,isNumber:A,isNodelist:function(a){return!!("[object NodeList]"==M.call(a)||"undefined"!==typeof a&&a&&a[0]&&1==
a[0].nodeType)},isUndefined:function(a){return"undefined"===typeof a},isNothing:g,setCookie:function(a,b,d,c){if("number"===typeof d){var g=new Date;g.setDate(g.getDate()+d)}c=c||{};return r.cookie=[escape(a),"=",escape(b),g?"; expires="+g.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")},getCookie:function(a){a+="=";for(var b=r.cookie.split(";"),d=0,c=b.length;d<c;d++){for(var g=b[d];" "==g.charAt(0);)g=g.substring(1);if(-1!=g.indexOf(a))return unescape(g.substring(a.length,
g.length))}return""},camelCase:I,snakeCase:O,number:S,toArray:function(a){return"undefined"!=typeof a.length?Array.prototype.slice.call(a):[]},merge:function(a,b){var d=b.length,c=a.length,g=0;if("number"===typeof d)for(;g<d;g++)a[c++]=b[g];else for(;void 0!==b[g];)a[c++]=b[g++];a.length=c;return a},param:function(a,d){if(u(a)&&"undefined"!==typeof d&&"param"==d)return a;if(u(a)&&"undefined"!==typeof d&&"object"==d||u(a)&&"undefined"===typeof d){var c={};b(a.split(F),function(){var a=this.split(E);
c[a[0]]?(u(c[a[0]])&&(c[a[0]]=[c[a[0]]]),c[a[0]].push(a[1])):c[a[0]]=a[1]});return c}c=[];b(a,function(a,b){c.push(a+"="+escape(b))});return c.join("&")},error:function(){f.info.onerror.apply(this,arguments)},date:Q,dday:function(a,b){function d(a){return 864E5*Math.floor(a.getTime()/864E5)}a=Q(a);var c=new Date;if("undefined"===typeof b)var g=S((d(a)-d(c))/864E5,{floor:!0});else g=S((d(a)-d(c))/864E5,{floor:!0}),b.today&&(c=Q(b.today),g=S((d(a)-d(c))/864E5,{floor:!0})),b.thisYear&&(g=new Date(c.getFullYear(),
a.getMonth(),a.getDate()),g=S((d(g)-d(c))/864E5,{floor:!0}),0>g&&(g=new Date(c.getFullYear()+1,a.getMonth(),a.getDate()),g=S((d(g)-d(c))/864E5,{floor:!0}))),b.age&&(g=new Date(c.getFullYear(),a.getMonth(),a.getDate()),g=g.getFullYear()-a.getFullYear());return g},daysOfMonth:N,weeksOfMonth:function(a){a=Q(a);return{year:a.getFullYear(),month:a.getMonth()+1,count:parseInt(a.getDate()/7+1)}},setDigit:R,times:H,findParentNode:function(a,b){if(a)for(;function(){var c=!0;if("undefined"===typeof b)a=a.parentNode?
a.parentNode:!1;else if(d(b))c=b(a);else if(C(b))for(var g in b)if("tagname"===g){if(a.tagName.toLocaleLowerCase()!=b[g]){c=!1;break}}else if("clazz"===g||"class_name"===g)if("className"in a){c=a.className.split(l);for(var f=!1,m=0;m<c.length;m++)if(c[m]==b[g]){f=!0;break}c=f}else{c=!1;break}else if(a.getAttribute){if(a.getAttribute(g)!=b[g]){c=!1;break}}else{c=!1;break}return!c}();)if(a.parentNode&&a.parentNode.parentNode)a=a.parentNode;else{a=!1;break}return a},cssNumber:function(a){a=(""+a).match(/\D?(\d+)([a-zA-Z%]*)/i);
return a[1]+(a[2]||"px")},css:function(a){if(C(a)){var b="";for(var d in a)b+=d+":"+a[d]+";";return b}if(u(a))return b={},a.split(/[ ]*;[ ]*/g).forEach(function(a){""!==(a=a.trim())&&(a=a.split(/[ ]*:[ ]*/g),b[a[0]]=a[1])}),b},isDate:function(a){return a instanceof Date&&!isNaN(a.valueOf())},isDateFormat:function(a){var b=!1;if(a)if(a instanceof Date&&!isNaN(a.valueOf()))b=!0;else{if(7<a.length&&Q(a)instanceof Date)return!0;a=a.replace(/\D/g,"");if(7<a.length){var d=a.substr(4,2),c=a.substr(6,2);
a=Q(a);a.getMonth()==d-1&&a.getDate()==c&&(b=!0)}}return b},stopEvent:function(a){a||(a=window.event);a.cancelBubble=!0;a.returnValue=!1;a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();return!1},selectRange:P,debounce:Y,throttle:function(a,b,d){var c=!0,g=!0;if("function"!=typeof a)throw new TypeError("Expected a function");C(d)&&(c="leading"in d?!!d.leading:c,g="trailing"in d?!!d.trailing:g);return Y(a,b,{leading:c,maxWait:b,trailing:g})},escapeHtml:X,unescapeHtml:aa,
string:function(a){return new function(a){this.value=a;this.toString=function(){return this.value};this.format=function(){for(var a=[],b=0,d=arguments.length;b<d;b++)a=a.concat(arguments[b]);return this.value.replace(/{(\d+)}/g,function(b,d){return"undefined"!=typeof a[d]?a[d]:b})};this.escape=function(){return X(this.value)};this.unescape=function(){return aa(this.value)};this.encode=function(){return encodeURIComponent(this.value)};this.decode=function(){return decodeURIComponent(this.value)};this.left=
function(a){return v(this.value,a)};this.right=function(a){return K(this.value,a)};this.camelCase=function(){return I(this.value)};this.snakeCase=function(){return O(this.value)}}(a)},color:Z}}();"object"===("undefined"===typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=f:h.ax5=f}).call("undefined"!==typeof window?window:void 0);ax5.def={};ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"};
ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"};ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."};ax5.info.errorMsg.ax5calendar={401:"Can not find target element"};ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"};ax5.info.errorMsg.ax5menu={501:"Can not find menu item"};
ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"};ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"};
(function(){var h=this,n=/^\s*|\s*$/g;Object.keys||(Object.keys=function(){var h=Object.prototype.hasOwnProperty,k=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),n=e.length;return function(w){if("object"!==("undefined"===typeof w?"undefined":_typeof(w))&&("function"!==typeof w||null===w))throw new TypeError("type err");var r=[],y;for(y in w)h.call(w,y)&&r.push(y);if(k)for(y=0;y<n;y++)h.call(w,
e[y])&&r.push(e[y]);return r}}());Array.prototype.forEach||(Array.prototype.forEach=function(h,k){if(void 0===this||null===this)throw TypeError();var e=Object(this),n=e.length>>>0;if("function"!==typeof h)throw TypeError();var w;for(w=0;w<n;w++)w in e&&h.call(k,e[w],w,e)});Function.prototype.bind||(Function.prototype.bind=function(h){function k(){}if("function"!==typeof this)throw TypeError("function");var e=[].slice,n=e.call(arguments,1),w=this,r=function(){return w.apply(this instanceof k?this:
h,n.concat(e.call(arguments)))};k.prototype=w.prototype;r.prototype=new k;return r});(function(){if(!document.querySelectorAll&&!document.querySelector&&document.createStyleSheet){var h=document.createStyleSheet(),k=function(e,k){var n=document.all,r=n.length,y=[];h.addRule(e,"foo:bar");for(e=0;e<r&&!("bar"===n[e].currentStyle.foo&&(y.push(n[e]),y.length>k));e+=1);h.removeRule(0);return y};document.querySelectorAll=function(e){return k(e,Infinity)};document.querySelector=function(e){return k(e,1)[0]||
null}}})();String.prototype.trim||function(){String.prototype.trim=function(){return this.replace(n,"")}}();window.JSON||(window.JSON={parse:function(h){return(new Function("","return "+h))()},stringify:function(){var h=/["]/g,k;return k=function(e){var n;switch("undefined"===typeof e?"undefined":_typeof(e)){case "string":return'"'+e.replace(h,'\\"')+'"';case "number":case "boolean":return e.toString();case "undefined":return"undefined";case "function":return'""';case "object":if(!e)return"null";
var w="";if(e.splice){var r=0;for(n=e.length;r<n;r++)w+=","+k(e[r]);return"["+w.substr(1)+"]"}for(r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&"function"!=typeof e[r]&&(w+=',"'+r+'":'+k(e[r]));return"{"+w.substr(1)+"}"}}}()});(function(){if(!document.documentMode||9<=document.documentMode)return!1;var h=Array.prototype.splice;Array.prototype.splice=function(){var k=Array.prototype.slice.call(arguments);"undefined"===typeof k[1]&&(k[1]=this.length-k[0]);return h.apply(this,k)}})();(function(){var h=
Array.prototype.slice;try{h.call(document.documentElement)}catch(k){Array.prototype.slice=function(e,k){k="undefined"!==typeof k?k:this.length;if("[object Array]"===Object.prototype.toString.call(this))return h.call(this,e,k);var n=[];var r=this.length;e=e||0;e=0<=e?e:Math.max(0,r+e);var y="number"==typeof k?Math.min(k,r):r;0>k&&(y=r+k);r=y-e;if(0<r)if(n=Array(r),this.charAt)for(k=0;k<r;k++)n[k]=this.charAt(e+k);else for(k=0;k<r;k++)n[k]=this[e+k];return n}}})();(function(h){for(var k,e={},n=function(){},
w=["memory"],r="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");k=w.pop();)h[k]=h[k]||e;for(;k=r.pop();)h[k]=h[k]||n})(window.console||{});window.webkitMatchMedia||window.mozMatchMedia||window.oMatchMedia||window.msMatchMedia||window.matchMedia||(h=document.getElementsByTagName("html")[0],h.className+=" no-matchmedia");window.matchMedia||
(window.matchMedia=function(){var h=window.styleMedia||window.media;if(!h){var k=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null;k.type="text/css";k.id="matchmediajs-test";e.parentNode.insertBefore(k,e);n="getComputedStyle"in window&&window.getComputedStyle(k,null)||k.currentStyle;h={matchMedium:function(e){e="@media "+e+"{ #matchmediajs-test { width: 1px; } }";k.styleSheet?k.styleSheet.cssText=e:k.textContent=e;return"1px"===n.width}}}return function(e){return{matches:h.matchMedium(e||
"all"),media:e||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var h=window.matchMedia,k=h("only all").matches,e=!1,n=0,w=[],z=function(e){clearTimeout(n);n=setTimeout(function(){for(var e=0,p=w.length;e<p;e++){var k=w[e].mql,E=w[e].listeners||[],l=h(k.media).matches;if(l!==k.matches){k.matches=l;l=0;for(var f=E.length;l<f;l++)E[l].call(window,k)}}},30)};window.matchMedia=function(n){var B=h(n),p=[],F=0;B.addListener=function(h){k&&(e||(e=!0,window.addEventListener("resize",
z,!0)),0===F&&(F=w.push({mql:B,listeners:p})),p.push(h))};B.removeListener=function(e){for(var l=0,f=p.length;l<f;l++)p[l]===e&&p.splice(l,1)};return B}})();document.getElementsByTagName("html");document.getElementsByTagName("body")}).call(window);
ax5.ui=function(){return{root:function(){this.config={};this.name="root";this.setConfig=function(h,n){jQuery.extend(!0,this.config,h);"undefined"!=typeof n&&!0!==n||this.init();return this};this.init=function(){console.log(this.config)};this.bindWindowResize=function(h){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__);this.bindWindowResize__=setTimeout(function(){h.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)};this.stopEvent=
function(h){h.preventDefault&&h.preventDefault();h.stopPropagation&&h.stopPropagation();h.cancelBubble=!0;return!1};this.toString=function(){return this.name+"@"+this.version};this.main=function(){}.apply(this,arguments)},addClass:function(h,n){if(!h||!h.className)throw"invalid call";var r=h.classStore?h.classStore:ax5.ui;if(!r)throw"invalid classStore";ax5.def[h.className]={version:ax5.info.version};var k=function(e,k){switch(k.length){case 0:return new e;case 1:return new e(k[0]);case 2:return new e(k[0],
k[1]);case 3:return new e(k[0],k[1],k[2])}};(function(e){var k=h.superClass?h.superClass:ax5.ui.root;if(!ax5.util.isFunction(k))throw"invalid superClass";k.call(this);e.prototype=new k}).call(this,n);r[h.className]=function y(){if(!(this&&this instanceof y))throw"invalid call";var w=k(n,arguments),r=h.version||"";w.name=h.className;w.version=r;w.instanceId=ax5.getGuid();return w}}}}();
(function(h,n){n(h.mustache={})})(window.ax5,function(h){function n(a){return"function"===typeof a}function r(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function k(a,b){return null!=a&&"object"===("undefined"===typeof a?"undefined":_typeof(a))&&b in a}function e(d,f){function u(b){"string"===typeof b&&(b=b.split(a,2));if(!F(b)||2!==b.length)throw Error("Invalid tags: "+b);k=new RegExp(r(b[0])+"\\s*");n=new RegExp("\\s*"+r(b[1]));B=new RegExp("\\s*"+r("}"+b[1]))}if(!d)return[];var g=
[],v=[],x=[],e=!1,p=!1,k,n,B;u(f||h.tags);d=new z(d);for(var D,R,H;!d.eos();){f=d.pos;if(R=d.scanUntil(k)){H=0;for(var Y=R.length;H<Y;++H)if(D=R.charAt(H),E.call(l,D)?p=!0:x.push(v.length),v.push(["text",D,f,f+1]),f+=1,"\n"===D){if(e&&!p)for(;x.length;)delete v[x.pop()];else x=[];p=e=!1}}if(!d.scan(k))break;e=!0;D=d.scan(C)||"name";d.scan(c);"="===D?(R=d.scanUntil(b),d.scan(b),d.scanUntil(n)):"{"===D?(R=d.scanUntil(B),d.scan(m),d.scanUntil(n),D="&"):R=d.scanUntil(n);if(!d.scan(n))throw Error("Unclosed tag at "+
d.pos);H=[D,R,f,d.pos];v.push(H);if("#"===D||"^"===D)g.push(H);else if("/"===D){D=g.pop();if(!D)throw Error('Unopened section "'+R+'" at '+f);if(D[1]!==R)throw Error('Unclosed section "'+D[1]+'" at '+f);}else"name"===D||"{"===D||"&"===D?p=!0:"="===D&&u(R)}if(D=g.pop())throw Error('Unclosed section "'+D[1]+'" at '+d.pos);return w(y(v))}function y(a){for(var b=[],d,c,f=0,m=a.length;f<m;++f)if(d=a[f])"text"===d[0]&&c&&"text"===c[0]?(c[1]+=d[1],c[3]=d[3]):(b.push(d),c=d);return b}function w(a){for(var b=
[],d=b,c=[],f,m=0,l=a.length;m<l;++m)switch(f=a[m],f[0]){case "#":case "^":d.push(f);c.push(f);d=f[4]=[];break;case "/":d=c.pop();d[5]=f[2];d=0<c.length?c[c.length-1][4]:b;break;default:d.push(f)}return b}function z(a){this.tail=this.string=a;this.pos=0}function D(a,b){this.view=a;this.cache={".":this.view,"@each":function(){var a=[],b;for(b in this)a.push({"@key":b,"@value":this[b]});return a}};this.parent=b}function B(){this.cache={}}var p=Object.prototype.toString,F=Array.isArray||function(a){return"[object Array]"===
p.call(a)},E=RegExp.prototype.test,l=/\S/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},c=/\s*/,a=/\s+/,b=/\s*=/,m=/\s*\}/,C=/#|\^|\/|>|\{|&|=|!/;z.prototype.eos=function(){return""===this.tail};z.prototype.scan=function(a){a=this.tail.match(a);if(!a||0!==a.index)return"";a=a[0];this.tail=this.tail.substring(a.length);this.pos+=a.length;return a};z.prototype.scanUntil=function(a){a=this.tail.search(a);switch(a){case -1:var b=this.tail;this.tail="";break;case 0:b="";break;
default:b=this.tail.substring(0,a),this.tail=this.tail.substring(a)}this.pos+=b.length;return b};D.prototype.push=function(a){return new D(a,this)};D.prototype.lookup=function(a){var b=this.cache;if(b.hasOwnProperty(a))var d=b[a];else{for(var c=this,f,m,l=!1;c;){if(0<a.indexOf("."))for(d=c.view,f=a.split("."),m=0;null!=d&&m<f.length;)m===f.length-1&&(l=k(d,f[m])),d=d[f[m++]];else d=c.view[a],l=k(c.view,a);if(l)break;c=c.parent}b[a]=d}n(d)&&(d=d.call(this.view));return d};B.prototype.clearCache=function(){this.cache=
{}};B.prototype.parse=function(a,b){var d=this.cache,c=d[a];null==c&&(c=d[a]=e(a,b));return c};B.prototype.render=function(a,b,c){var d=this.parse(a);b=b instanceof D?b:new D(b);return this.renderTokens(d,b,c,a)};B.prototype.renderTokens=function(a,b,c,g){for(var d="",f,m,u,l=0,x=a.length;l<x;++l)u=void 0,f=a[l],m=f[0],"#"===m?u=this.renderSection(f,b,c,g):"^"===m?u=this.renderInverted(f,b,c,g):">"===m?u=this.renderPartial(f,b,c,g):"&"===m?u=this.unescapedValue(f,b):"name"===m?u=this.escapedValue(f,
b):"text"===m&&(u=this.rawValue(f)),void 0!==u&&(d+=u);return d};B.prototype.renderSection=function(a,b,c,g){function d(a){return f.render(a,b,c)}var f=this,m="",u=b.lookup(a[1]);if(u){if(F(u))for(var l=0,x=u.length;l<x;++l)u[l]&&("object"===_typeof(u[l])&&(u[l]["@i"]=l,u[l]["@first"]=0===l),m+=this.renderTokens(a[4],b.push(u[l]),c,g));else if("object"===("undefined"===typeof u?"undefined":_typeof(u))||"string"===typeof u||"number"===typeof u)m+=this.renderTokens(a[4],b.push(u),c,g);else if(n(u)){if("string"!==
typeof g)throw Error("Cannot use higher-order sections without the original template");u=u.call(b.view,g.slice(a[3],a[5]),d);null!=u&&(m+=u)}else m+=this.renderTokens(a[4],b,c,g);return m}};B.prototype.renderInverted=function(a,b,c,g){var d=b.lookup(a[1]);if(!d||F(d)&&0===d.length)return this.renderTokens(a[4],b,c,g)};B.prototype.renderPartial=function(a,b,c){if(c&&(a=n(c)?c(a[1]):c[a[1]],null!=a))return this.renderTokens(this.parse(a),b,c,a)};B.prototype.unescapedValue=function(a,b){a=b.lookup(a[1]);
if(null!=a)return a};B.prototype.escapedValue=function(a,b){a=b.lookup(a[1]);if(null!=a)return h.escape(a)};B.prototype.rawValue=function(a){return a[1]};h.name="mustache.js";h.version="2.1.3";h.tags=["{{","}}"];var x=new B;h.clearCache=function(){return x.clearCache()};h.parse=function(a,b){return x.parse(a,b)};h.render=function(a,b,c){if("string"!==typeof a)throw b=TypeError,a=F(a)?"array":"undefined"===typeof a?"undefined":_typeof(a),new b('Invalid template! Template should be a "string" but "'+
a+'" was given as the first argument for mustache#render(template, view, partials)');return x.render(a,b,c)};h.to_html=function(a,b,c,g){a=h.render(a,b,c);if(n(g))g(a);else return a};h.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return f[a]})};h.Scanner=z;h.Context=D;h.Writer=B});"use strict";
(function(){var h=ax5.ui,n=ax5.util,r=void 0;h.addClass({className:"dialog"},function(){return function(){var k=this,e=void 0;this.instanceId=ax5.getGuid();this.config={id:"ax5-dialog-"+this.instanceId,clickEventName:"click",theme:"default",width:300,title:"",msg:"",lang:{ok:"ok",cancel:"cancel"},animateTime:150,autoCloseTime:0};this.autoCloseTimer=this.activeDialog=null;e=this.config;var y=function(e,p){e&&e.onStateChanged?e.onStateChanged.call(p,p):this.onStateChanged&&this.onStateChanged.call(p,
p);return!0},w=function(k,p){k={dialogId:k,title:p.title||e.title||"",msg:(p.msg||e.msg||"").replace(/\n/g,"<br/>"),input:p.input,btns:p.btns,_crlf:function(){return this.replace(/\n/g,"<br/>")},additionalContent:function(e){return n.isFunction(e)?e.call(p):e}(p.additionalContent)};try{return r.tmpl.get.call(this,"dialogDisplay",k)}finally{k=null}},z=function(h,p){var n={},E=void 0;h.id=h.id||e.id;E={width:h.width};jQuery(document.body).append(w.call(this,h.id,h));this.activeDialog=jQuery("#"+h.id);
this.activeDialog.css({width:E.width});h.height=E.height=this.activeDialog.height();"undefined"===typeof h.position||"center"===h.position?(n.top=jQuery(window).height()/2-E.height/2,n.left=jQuery(window).width()/2-E.width/2):(n.left=h.position.left||0,n.top=h.position.top||0);e.zIndex&&(n["z-index"]=e.zIndex);this.activeDialog.css(n);"prompt"===h.dialogType?this.activeDialog.find("[data-dialog-prompt]").get(0).focus():this.activeDialog.find("[data-dialog-btn]").get(0).focus();this.activeDialog.find("[data-dialog-btn]").on(e.clickEventName,
function(l){D.call(this,l||window.event,h,p)}.bind(this));jQuery(window).bind("keydown.ax5dialog",function(l){var f=l||window.event;l=null;f.keyCode==ax5.info.eventKeys.ESC&&this.close();if("prompt"===h.dialogType&&f.keyCode==ax5.info.eventKeys.RETURN){f={self:this,key:void 0,value:h.btns[void 0],dialogId:h.id,btnTarget:void 0};for(var c in h.input)if(f[c]=this.activeDialog.find("[data-dialog-prompt="+c+"]").val(),""==f[c]||null==f[c]){l=c;break}l||(p&&p.call(f,void 0),this.close({doNotCallback:!0}))}}.bind(this));
jQuery(window).bind("resize.ax5dialog",function(l){if(this.activeDialog){l=k.dialogConfig;var f={width:l.width,height:l.height};"undefined"===typeof l.position||"center"===l.position?(f.top=window.innerHeight/2-f.height/2,f.left=window.innerWidth/2-f.width/2):(f.left=l.position.left||0,f.top=l.position.top||0);0>f.left&&(f.left=0);0>f.top&&(f.top=0);this.activeDialog.css(f)}}.bind(this));y.call(this,h,{self:this,state:"open"});h.autoCloseTime&&(this.autoCloseTimer=setTimeout(function(){k.close()},
h.autoCloseTime));E=n=null},D=function(e,p,k,h,l){h=void 0;var f=null;e.srcElement&&(e.target=e.srcElement);if(h=n.findParentNode(e.target,function(a){if(a.getAttribute("data-dialog-btn"))return!0})){l=h.getAttribute("data-dialog-btn");h={self:this,key:l,value:p.btns[l],dialogId:p.id,btnTarget:h};if("prompt"===p.dialogType)for(var c in p.input)if(h[c]=this.activeDialog.find("[data-dialog-prompt="+c+"]").val(),""==h[c]||null==h[c]){f=c;break}if(p.btns[l].onClick)p.btns[l].onClick.call(h,l);else if("alert"===
p.dialogType)k&&k.call(h,l),this.close({doNotCallback:!0});else if("confirm"===p.dialogType)k&&k.call(h,l),this.close({doNotCallback:!0});else if("prompt"===p.dialogType){if("ok"===l&&f)return this.activeDialog.find('[data-dialog-prompt="'+f+'"]').get(0).focus(),!1;k&&k.call(h,l);this.close({doNotCallback:!0})}}l=h=k=p=h=null};this.init=function(){this.onStateChanged=e.onStateChanged};this.alert=function(h,p,F){n.isString(h)&&(h={title:e.title,msg:h});if(this.activeDialog)return F?console.log(ax5.info.getError("ax5dialog",
"501","alert")):setTimeout(function(){this.alert(h,p,1)}.bind(this),Number(e.animateTime)+100),this;k.dialogConfig={};jQuery.extend(!0,k.dialogConfig,e,h);h=k.dialogConfig;h.dialogType="alert";h.theme=h.theme||e.theme||"";h.callback=p;"undefined"===typeof h.btns&&(h.btns={ok:{label:e.lang.ok,theme:h.theme}});z.call(this,h,p);return this};this.confirm=function(h,p,F){n.isString(h)&&(h={title:e.title,msg:h});if(this.activeDialog)return F?console.log(ax5.info.getError("ax5dialog","501","confirm")):setTimeout(function(){this.confirm(h,
p,1)}.bind(this),Number(e.animateTime)+100),this;k.dialogConfig={};jQuery.extend(!0,k.dialogConfig,e,h);h=k.dialogConfig;h.dialogType="confirm";h.theme=h.theme||e.theme||"";h.callback=p;"undefined"===typeof h.btns&&(h.btns={ok:{label:e.lang.ok,theme:h.theme},cancel:{label:e.lang.cancel}});z.call(this,h,p);return this};this.prompt=function(h,p,F){n.isString(h)&&(h={title:e.title,msg:h});if(this.activeDialog)return F?console.log(ax5.info.getError("ax5dialog","501","prompt")):setTimeout(function(){this.prompt(h,
p,1)}.bind(this),Number(e.animateTime)+100),this;k.dialogConfig={};jQuery.extend(!0,k.dialogConfig,e,h);h=k.dialogConfig;h.dialogType="prompt";h.theme=h.theme||e.theme||"";h.callback=p;"undefined"===typeof h.input&&(h.input={value:{label:""}});"undefined"===typeof h.btns&&(h.btns={ok:{label:e.lang.ok,theme:h.theme},cancel:{label:e.lang.cancel}});z.call(this,h,p);return this};this.close=function(h){var p=void 0,n=void 0;this.activeDialog&&(this.autoCloseTimer&&clearTimeout(this.autoCloseTimer),p=k.dialogConfig,
this.activeDialog.addClass("destroy"),jQuery(window).unbind("keydown.ax5dialog"),jQuery(window).unbind("resize.ax5dialog"),setTimeout(function(){this.activeDialog&&(this.activeDialog.remove(),this.activeDialog=null);n={self:this,state:"close",dialogId:p.id};!p.callback||h&&h.doNotCallback||p.callback.call(n);p&&p.onStateChanged?p.onStateChanged.call(n,n):this.onStateChanged&&this.onStateChanged.call(n,n);n=p=null}.bind(this),e.animateTime));return this};this.main=function(){h.dialog_instance=h.dialog_instance||
[];h.dialog_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());r=ax5.ui.dialog})();
(function(){var h=ax5.ui.dialog;h.tmpl={dialogDisplay:function(h){return' \n        <div id="{{dialogId}}" data-dialog-els="root" class="ax5-ui-dialog {{theme}}">\n            <div class="ax-dialog-header" data-dialog-els="header">\n                {{{title}}}\n            </div>\n            <div class="ax-dialog-body" data-dialog-els="body">\n                <div class="ax-dialog-msg">{{{msg}}}</div>\n                \n                {{#input}}\n                <div class="ax-dialog-prompt">\n                    {{#@each}}\n                    <div class="form-group">\n                    {{#@value.label}}\n                    <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n                    {{/@value.label}}\n                    <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />\n                    {{#@value.help}}\n                    <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>\n                    {{/@value.help}}\n                    </div>\n                    {{/@each}}\n                </div>\n                {{/input}}\n                \n                <div class="ax-dialog-buttons" data-dialog-els="buttons">\n                    <div class="ax-button-wrap">\n                    {{#btns}}\n                        {{#@each}}\n                        <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>\n                        {{/@each}}\n                    {{/btns}}\n                    </div>\n                </div>\n                \n                {{#additionalContent}}\n                <div data-dialog-els="additional-content">{{{.}}}</div>\n                {{/additionalContent}}\n            </div>\n        </div>  \n        '},get:function(n,
r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.ui,n=ax5.util,r=void 0;h.addClass({className:"mask"},function(){return function(){var k=this,e=void 0;this.instanceId=ax5.getGuid();this.config={theme:"",target:jQuery(document.body).get(0),animateTime:250};this.maskContent="";this.status="off";e=this.config;var y=function(e,h){e&&e.onStateChanged?e.onStateChanged.call(h,h):this.onStateChanged&&this.onStateChanged.call(h,h);return!0},w=function(e){"undefined"===typeof e.templateName&&(e.templateName="defaultMask");return r.tmpl.get.call(this,
e.templateName,e)};this.init=function(){this.onStateChanged=e.onStateChanged;this.onClick=e.onClick;this.config.content&&(this.maskContent=this.config.content)};this.open=function(e){"on"===this.status&&this.close();e&&e.content&&(this.maskContent=e.content);e&&"undefined"===typeof e.templateName&&(e.templateName="defaultMask");k.maskConfig=jQuery.extend(!0,{},this.config,e);e=k.maskConfig;var h=e.target,n=jQuery(h),p="ax-mask-"+ax5.getGuid(),F=void 0,E={},l={};F=e.templateName;F=w({theme:e.theme,
maskId:p,body:this.maskContent,templateName:F});jQuery(document.body).append(F);h&&h!==jQuery(document.body).get(0)&&(E={position:e.position||"absolute",left:n.offset().left,top:n.offset().top,width:n.outerWidth(),height:n.outerHeight()},n.addClass("ax-masking"),jQuery(window).on("resize.ax5mask-"+this.instanceId,function(f){this.align()}.bind(this)));"undefined"!==typeof k.maskConfig.zIndex&&(E["z-index"]=k.maskConfig.zIndex);this.$mask=F=jQuery("#"+p);this.$target=n;this.status="on";F.css(E);if(e.onClick)F.on("click",
function(f){l={self:k,state:"open",type:"click"};k.maskConfig.onClick.call(l,l)});y.call(this,null,{self:this,state:"open"});F=F=l=E=F=p=n=h=e=e=null;return this};this.close=function(e){if(this.$mask){var h=function(){this.status="off";this.$mask.remove();this.$target.removeClass("ax-masking");y.call(this,null,{self:this,state:"close"});jQuery(window).off("resize.ax5mask-"+this.instanceId)};e?setTimeout(function(){h.call(this)}.bind(this),e):h.call(this)}return this};this.fadeOut=function(){this.$mask&&
(this.$mask.addClass("fade-out"),setTimeout(function(){this.status="off";this.$mask.remove();this.$target.removeClass("ax-masking");y.call(this,null,{self:this,state:"close"});jQuery(window).off("resize.ax5mask-"+this.instanceId)}.bind(this),e.animateTime));return this};this.align=function(){if(this.maskConfig&&this.maskConfig.target&&this.maskConfig.target!==jQuery(document.body).get(0))try{var e={position:this.maskConfig.position||"absolute",left:this.$target.offset().left,top:this.$target.offset().top,
width:this.$target.outerWidth(),height:this.$target.outerHeight()};this.$mask.css(e)}catch(D){}return this};this.pullRequest=function(){console.log("test pullRequest01");console.log("test pullRequest02")};this.main=function(){h.mask_instance=h.mask_instance||[];h.mask_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());r=ax5.ui.mask})();
(function(){var h=ax5.ui.mask;h.tmpl={defaultMask:function(h){return'\n            <div class="ax-mask {{theme}}" id="{{maskId}}">\n                <div class="ax-mask-bg"></div>\n                <div class="ax-mask-content">\n                    <div class="ax-mask-body">\n                    {{{body}}}\n                    </div>\n                </div>\n            </div>\n        '},get:function(n,r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.ui,n=ax5.util;h.addClass({className:"toast"},function(){return function(){var k=this,e=0,y=null;this.instanceId=ax5.getGuid();this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3E3,animateTime:250,containerPosition:"bottom-left"};this.toastContainer=null;this.queue=[];var w=this.config;var z=function(e,p){e&&e.onStateChanged?e.onStateChanged.call(p,p):this.onStateChanged&&this.onStateChanged.call(p,
p);return!0},D=function(e,p){e={toastId:e,theme:p.theme,icon:p.icon,msg:(p.msg||"").replace(/\n/g,"<br/>"),btns:p.btns,closeIcon:p.closeIcon};return r.tmpl.get.call(this,"toastDisplay",e)},B=function(h,E){y&&clearTimeout(y);var l={width:h.width};h.id="ax5-toast-"+k.containerId+"-"+ ++e;if(jQuery("#"+h.id).get(0))return this;"bottom"==n.left(w.containerPosition,"-")?this.toastContainer.append(D(h.id,h)):this.toastContainer.prepend(D(h.id,h));var f=jQuery("#"+h.id);f.css({width:l.width});h.toastBox=
f;this.queue.push(h);z.call(this,h,{self:this,state:"open",toastId:h.id});if("push"===h.toastType)setTimeout(function(){this.close(h,E)}.bind(this),w.displayTime),f.find("[data-ax-toast-btn]").on(w.clickEventName,function(c){p.call(this,c||window.event,h,f,E)}.bind(this));else if("confirm"===h.toastType)f.find("[data-ax-toast-btn]").on(w.clickEventName,function(c){p.call(this,c||window.event,h,f,E)}.bind(this));l=null},p=function(e,p,l,f,c,a){if(c=n.findParentNode(e.target,function(a){if(a.getAttribute("data-ax-toast-btn"))return!0}))a=
c.getAttribute("data-ax-toast-btn"),e={key:a,value:p.btns?p.btns[a]:a,toastId:p.id,btn_target:c},p.btns&&p.btns[a].onClick?p.btns[a].onClick.call(e,a):"push"===p.toastType?(f&&f.call(e,a),this.close(p,f)):"confirm"===p.toastType&&(f&&f.call(e,a),this.close(p,f));a=c=f=p=e=null};this.init=function(){this.onStateChanged=w.onStateChanged;k.containerId=ax5.getGuid();var e=[];w.zIndex&&e.push("z-index:"+w.zIndex);jQuery(document.body).append('<div class="ax5-ui-toast-container '+w.containerPosition+'" data-toast-container="'+
k.containerId+'" style="'+e.join(";")+'"></div>');this.toastContainer=jQuery('[data-toast-container="'+k.containerId+'"]')};this.push=function(e,p){k.containerId||this.init();n.isString(e)&&(e={title:w.title,msg:e});e.toastType="push";k.dialogConfig={};jQuery.extend(!0,k.dialogConfig,w,e);e=k.dialogConfig;B.call(this,e,p);return this};this.confirm=function(e,p){k.containerId||this.init();n.isString(e)&&(e={title:w.title,msg:e});e.toastType="confirm";k.dialogConfig={};jQuery.extend(!0,k.dialogConfig,
w,e);e=k.dialogConfig;"undefined"===typeof e.btns&&(e.btns={ok:{label:w.lang.ok,theme:e.theme}});B.call(this,e,p);return this};this.close=function(p,h){"undefined"===typeof p&&(p=n.last(this.queue));var l=p.toastBox;l.addClass("push"==p.toastType?"removed":"destroy");this.queue=n.filter(this.queue,function(){return p.id!=this.id});setTimeout(function(){var f={toastId:p.id};l.remove();h&&h.call(f);f={self:this,state:"close",toastId:p.id};z.call(this,p,f);0===this.queue.length&&(y&&clearTimeout(y),
y=setTimeout(function(){0===this.queue.length&&(e=0)}.bind(this),3E3));l=h=p=f=null}.bind(this),w.animateTime);return this};this.main=function(){h.toast_instance=h.toast_instance||[];h.toast_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());var r=ax5.ui.toast})();
(function(){var h=ax5.ui.toast;h.tmpl={toastDisplay:function(h){return'\n        <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n            {{#icon}}\n            <div class="ax-toast-icon">{{{.}}}</div>\n            {{/icon}}\n            <div class="ax-toast-body">{{{msg}}}</div>\n            {{#btns}}\n            <div class="ax-toast-buttons">\n                <div class="ax-button-wrap">\n                    {{#@each}}\n                    <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                </div>\n            </div>\n            {{/btns}}\n            {{^btns}}\n                <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n            {{/btns}}\n            <div style="clear:both;"></div>\n        </div>'},get:function(n,
r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.ui,n=ax5.util,r=void 0;h.addClass({className:"modal"},function(){return function(){var k=this,e=void 0,y={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},w=function(f){var c=f;"changedTouches"in f&&f.changedTouches&&(c=f.changedTouches[0]);return{clientX:c.clientX,clientY:c.clientY}};this.instanceId=ax5.getGuid();this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",
top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"ontouchstart"in document.documentElement?"touchstart":"click",theme:"default",width:300,height:400,closeToEsc:!0,disableDrag:!1,disableResize:!1,animateTime:250,iframe:!1};this.activeModal=null;this.watingModal=!1;this.$={};e=this.config;var z=function(f,c){var a={resize:function(a){f&&f.onResize?f.onResize.call(a,a):this.onResize&&this.onResize.call(a,a)},move:function(){}};c.state in a&&a[c.state].call(this,c);f&&f.onStateChanged?
f.onStateChanged.call(c,c):this.onStateChanged&&this.onStateChanged.call(c,c);return!0},D=function(f,c){f={modalId:f,theme:c.theme,header:c.header,fullScreen:c.fullScreen?"fullscreen":"",styles:"",iframe:c.iframe,iframeLoadingMsg:c.iframeLoadingMsg,disableResize:c.disableResize};c.zIndex&&(f.styles+="z-index:"+c.zIndex+";");c.absolute&&(f.styles+="position:absolute;");f.iframe&&"string"===typeof f.iframe.param&&(f.iframe.param=ax5.util.param(f.iframe.param));return r.tmpl.get.call(this,"content",
f,{})},B=function(f,c){var a=void 0;jQuery(document.body).append(D.call(this,f.id,f));this.activeModal=jQuery("#"+f.id);this.$={root:this.activeModal,header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')};f.iframe?(this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]'),this.$.iframe=this.activeModal.find('[data-modal-els="iframe"]'),this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]'),this.$["iframe-loading"]=
this.activeModal.find('[data-modal-els="iframe-loading"]')):this.$["body-frame"]=this.activeModal.find('[data-modal-els="body-frame"]');this.align();a={self:this,id:f.id,theme:f.theme,width:f.width,height:f.height,state:"open",$:this.$};f.iframe&&(this.$["iframe-wrap"].css({height:f.height}),this.$.iframe.css({height:f.height}),this.$["iframe-form"].attr({method:f.iframe.method}),this.$["iframe-form"].attr({target:f.id+"-frame"}),this.$["iframe-form"].attr({action:f.iframe.url}),this.$.iframe.on("load",
function(){a.state="load";f.iframeLoadingMsg&&this.$["iframe-loading"].hide();z.call(this,f,a)}.bind(this)),f.iframeLoadingMsg||this.$.iframe.show(),this.$["iframe-form"].submit());c&&c.call(a,a);this.watingModal||z.call(this,f,a);f.closeToEsc&&jQuery(window).bind("keydown.ax-modal",function(a){(a||window.event).keyCode==ax5.info.eventKeys.ESC&&this.close()}.bind(this));jQuery(window).bind("resize.ax-modal",function(a){this.align(null,a||window.event)}.bind(this));this.$.header.off(y.mousedown).off("dragstart").on(y.mousedown,
function(a){var b=n.findParentNode(a.target,function(a){if(a.getAttribute("data-modal-header-btn"))return!0});f.isFullScreen||b||1==f.disableDrag||(k.mousePosition=w(a),E.on.call(k));b&&p.call(k,a||window.event,f)}).on("dragstart",function(a){n.stopEvent(a.originalEvent);return!1});this.activeModal.off(y.mousedown).off("dragstart").on(y.mousedown,"[data-ax5modal-resizer]",function(a){if(f.disableDrag||f.isFullScreen)return!1;k.mousePosition=w(a);l.on.call(k,this.getAttribute("data-ax5modal-resizer"))}).on("dragstart",
function(a){n.stopEvent(a.originalEvent);return!1})},p=function(f,c,a,b,m){a=void 0;f.srcElement&&(f.target=f.srcElement);if(b=n.findParentNode(f.target,function(a){if(a.getAttribute("data-modal-header-btn"))return!0}))m=b.getAttribute("data-modal-header-btn"),a={self:this,key:m,value:c.header.btns[m],dialogId:c.id,btnTarget:b},c.header.btns[m].onClick&&c.header.btns[m].onClick.call(a,m);m=b=c=a=null},F={"top-left":function(){this.align({left:"left",top:"top"})},"top-right":function(){this.align({left:"right",
top:"top"})},"bottom-left":function(){this.align({left:"left",top:"bottom"})},"bottom-right":function(){this.align({left:"right",top:"bottom"})},"center-middle":function(){this.align({left:"center",top:"middle"})}},E={on:function(){var f=this.activeModal.css("z-index"),c=this.activeModal.position(),a=this.activeModal.outerWidth(),b=this.activeModal.outerHeight(),m=jQuery(window).width(),l=jQuery(window).height(),x=k.modalConfig.absolute?0:jQuery(document).scrollLeft(),d=k.modalConfig.absolute?0:jQuery(document).scrollTop(),
u=function(a){k.__dx=a.clientX-k.mousePosition.clientX;k.__dy=a.clientY-k.mousePosition.clientY;e>c.left+k.__dx?k.__dx=-c.left:g<c.left+k.__dx&&(k.__dx=g-c.left);v>c.top+k.__dy?k.__dy=-c.top:p<c.top+k.__dy&&(k.__dy=p-c.top);return{left:c.left+k.__dx+x,top:c.top+k.__dy+d}},e=0,g=m-a,v=0,p=l-b;k.__dx=0;k.__dy=0;k.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>');k.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>');k.resizerBg.css({zIndex:f});
k.resizer.css({left:c.left+x,top:c.top+d,width:a,height:b,zIndex:f+1});jQuery(document.body).append(k.resizerBg).append(k.resizer);k.activeModal.addClass("draged");jQuery(document.body).on(y.mousemove+".ax5modal-move-"+this.instanceId,function(a){k.resizer.css(u(a))}).on(y.mouseup+".ax5modal-move-"+this.instanceId,function(a){E.off.call(k)}).on("mouseleave.ax5modal-move-"+this.instanceId,function(a){E.off.call(k)});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",
!1)},off:function(){this.activeModal.removeClass("draged");var f=this.resizer.offset();this.modalConfig.absolute||(f.left-=jQuery(document).scrollLeft(),f.top-=jQuery(document).scrollTop());this.activeModal.css(f);this.modalConfig.left=f.left;this.modalConfig.top=f.top;this.resizer.remove();this.resizer=null;this.resizerBg.remove();this.resizerBg=null;jQuery(document.body).off(y.mousemove+".ax5modal-move-"+this.instanceId).off(y.mouseup+".ax5modal-move-"+this.instanceId).off("mouseleave.ax5modal-move-"+
this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart");z.call(this,k.modalConfig,{self:this,state:"move"})}},l={on:function(f){var c=this.activeModal.css("z-index"),a=this.activeModal.position(),b=this.activeModal.outerWidth(),m=this.activeModal.outerHeight();jQuery(window).width();jQuery(window).height();var e=this.modalConfig.absolute?0:jQuery(document).scrollLeft(),x=this.modalConfig.absolute?0:jQuery(document).scrollTop(),d={top:function(d){g>
m-k.__dy&&(k.__dy=m-g);return d.shiftKey?(g>m-2*k.__dy&&(k.__dy=(m-g)/2),{left:a.left,top:a.top+k.__dy,width:b,height:m-2*k.__dy}):d.altKey?(g>m-2*k.__dy&&(k.__dy=(m-g)/2),{left:a.left+k.__dy,top:a.top+k.__dy,width:b-2*k.__dy,height:m-2*k.__dy}):{left:a.left,top:a.top+k.__dy,width:b,height:m-k.__dy}},bottom:function(d){g>m+k.__dy&&(k.__dy=-m+g);return d.shiftKey?(g>m+2*k.__dy&&(k.__dy=(-m+g)/2),{left:a.left,top:a.top-k.__dy,width:b,height:m+2*k.__dy}):d.altKey?(g>m+2*k.__dy&&(k.__dy=(-m+g)/2),{left:a.left-
k.__dy,top:a.top-k.__dy,width:b+2*k.__dy,height:m+2*k.__dy}):{left:a.left,top:a.top,width:b,height:m+k.__dy}},left:function(d){p>b-k.__dx&&(k.__dx=b-p);return d.shiftKey?(p>b-2*k.__dx&&(k.__dx=(b-p)/2),{left:a.left+k.__dx,top:a.top,width:b-2*k.__dx,height:m}):d.altKey?(p>b-2*k.__dx&&(k.__dx=(b-p)/2),{left:a.left+k.__dx,top:a.top+k.__dx,width:b-2*k.__dx,height:m-2*k.__dx}):{left:a.left+k.__dx,top:a.top,width:b-k.__dx,height:m}},right:function(d){p>b+k.__dx&&(k.__dx=-b+p);return d.shiftKey?(p>b+2*k.__dx&&
(k.__dx=(-b+p)/2),{left:a.left-k.__dx,top:a.top,width:b+2*k.__dx,height:m}):d.altKey?(p>b+2*k.__dx&&(k.__dx=(-b+p)/2),{left:a.left-k.__dx,top:a.top-k.__dx,width:b+2*k.__dx,height:m+2*k.__dx}):{left:a.left,top:a.top,width:b+k.__dx,height:m}},"top-left":function(d){p>b-k.__dx&&(k.__dx=b-p);g>m-k.__dy&&(k.__dy=m-g);if(d.shiftKey||d.altKey)return g>m-2*k.__dy&&(k.__dy=(m-g)/2),p>b-2*k.__dx&&(k.__dx=(b-p)/2),{left:a.left+k.__dx,top:a.top+k.__dy,width:b-2*k.__dx,height:m-2*k.__dy};g>m-2*k.__dy&&(k.__dy=
(m-g)/2);p>b-2*k.__dx&&(k.__dx=(b-p)/2);return{left:a.left+k.__dx,top:a.top+k.__dy,width:b-k.__dx,height:m-k.__dy}},"top-right":function(d){p>b+k.__dx&&(k.__dx=-b+p);g>m-k.__dy&&(k.__dy=m-g);return d.shiftKey||d.altKey?(g>m-2*k.__dy&&(k.__dy=(m-g)/2),p>b+2*k.__dx&&(k.__dx=(-b+p)/2),{left:a.left-k.__dx,top:a.top+k.__dy,width:b+2*k.__dx,height:m-2*k.__dy}):{left:a.left,top:a.top+k.__dy,width:b+k.__dx,height:m-k.__dy}},"bottom-left":function(d){p>b-k.__dx&&(k.__dx=b-p);g>m+k.__dy&&(k.__dy=-m+g);return d.shiftKey||
d.altKey?(p>b-2*k.__dx&&(k.__dx=(b-p)/2),g>m+2*k.__dy&&(k.__dy=(-m+g)/2),{left:a.left+k.__dx,top:a.top-k.__dy,width:b-2*k.__dx,height:m+2*k.__dy}):{left:a.left+k.__dx,top:a.top,width:b-k.__dx,height:m+k.__dy}},"bottom-right":function(d){p>b+k.__dx&&(k.__dx=-b+p);g>m+k.__dy&&(k.__dy=-m+g);return d.shiftKey||d.altKey?(p>b+2*k.__dx&&(k.__dx=(-b+p)/2),g>m+2*k.__dy&&(k.__dy=(-m+g)/2),{left:a.left-k.__dx,top:a.top-k.__dy,width:b+2*k.__dx,height:m+2*k.__dy}):{left:a.left,top:a.top,width:b+k.__dx,height:m+
k.__dy}}},u=function(a){k.__dx=a.clientX-k.mousePosition.clientX;k.__dy=a.clientY-k.mousePosition.clientY;return d[f](a)};this.modalConfig.absolute||(a.left+=e,a.top+=x);var p=100,g=100;e={top:"row-resize",bottom:"row-resize",left:"col-resize",right:"col-resize","top-left":"nwse-resize","top-right":"nesw-resize","bottom-left":"nesw-resize","bottom-right":"nwse-resize"};k.__dx=0;k.__dy=0;k.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>');k.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>');
k.resizerBg.css({zIndex:c,cursor:e[f]});k.resizer.css({left:a.left,top:a.top,width:b,height:m,zIndex:c+1,cursor:e[f]});jQuery(document.body).append(k.resizerBg).append(k.resizer);k.activeModal.addClass("draged");jQuery(document.body).bind(y.mousemove+".ax5modal-resize-"+this.instanceId,function(a){k.resizer.css(u(a))}).bind(y.mouseup+".ax5modal-resize-"+this.instanceId,function(a){l.off.call(k)}).bind("mouseleave.ax5modal-resize-"+this.instanceId,function(a){l.off.call(k)});jQuery(document.body).attr("unselectable",
"on").css("user-select","none").bind("selectstart",!1)},off:function(){this.activeModal.removeClass("draged");var f=this.resizer.offset();jQuery.extend(f,{width:this.resizer.width(),height:this.resizer.height()});this.modalConfig.absolute||(f.left-=jQuery(document).scrollLeft(),f.top-=jQuery(document).scrollTop());this.activeModal.css(f);this.modalConfig.left=f.left;this.modalConfig.top=f.top;this.modalConfig.width=f.width;this.modalConfig.height=f.height;this.$.body.css({height:f.height-this.modalConfig.headerHeight});
this.modalConfig.iframe&&(this.$["iframe-wrap"].css({height:f.height-this.modalConfig.headerHeight}),this.$.iframe.css({height:f.height-this.modalConfig.headerHeight}));this.resizer.remove();this.resizer=null;this.resizerBg.remove();this.resizerBg=null;z.call(this,k.modalConfig,{self:this,state:"resize"});jQuery(document.body).unbind(y.mousemove+".ax5modal-resize-"+this.instanceId).unbind(y.mouseup+".ax5modal-resize-"+this.instanceId).unbind("mouseleave.ax5modal-resize-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select",
"auto").unbind("selectstart")}};this.init=function(){this.onStateChanged=e.onStateChanged;this.onResize=e.onResize};this.open=function(f,c,a){"undefined"===typeof a&&(a=0);this.activeModal?3>a?(this.watingModal=!0,setTimeout(function(){this.open(f,c,a+1)}.bind(this),e.animateTime)):this.watingModal=!1:(f=k.modalConfig=jQuery.extend(!0,{},e,f),B.call(this,f,c),this.watingModal=!1);return this};this.close=function(f){var c=void 0,a=void 0;this.activeModal&&(c=k.modalConfig,this.activeModal.addClass("destroy"),
jQuery(window).unbind("keydown.ax-modal"),jQuery(window).unbind("resize.ax-modal"),setTimeout(function(){if(c.iframe){var b=this.$.iframe;if(b){var m=b.get(0);m=m.contentDocument?m.contentDocument:m.contentWindow.document;try{$(m.body).children().each(function(){$(this).remove()})}catch(C){}m.innerHTML="";b.attr("src","about:blank").remove();window.CollectGarbage&&window.CollectGarbage()}}this.activeModal.remove();this.activeModal=null;this.watingModal||z.call(this,c,{self:this,state:"close"});f&&
n.isFunction(f.callback)&&(a={self:this,id:c.id,theme:c.theme,width:c.width,height:c.height,state:"close",$:this.$},f.callback.call(a,a))}.bind(this),e.animateTime));this.minimized=!1;return this};this.minimize=function(){return function(f){if(!0!==this.minimized){var c=k.modalConfig;"undefined"===typeof f&&(f=e.minimizePosition);this.minimized=!0;this.$.body.hide();k.modalConfig.originalHeight=c.height;k.modalConfig.height=0;F[f].call(this);z.call(this,c,{self:this,state:"minimize"})}return this}}();
this.restore=function(){var f=k.modalConfig;this.minimized&&(this.minimized=!1,this.$.body.show(),k.modalConfig.height=k.modalConfig.originalHeight,k.modalConfig.originalHeight=void 0,this.align({left:"center",top:"middle"}),z.call(this,f,{self:this,state:"restore"}));return this};this.css=function(f){this.activeModal&&!k.fullScreen&&(this.activeModal.css(f),"undefined"!==typeof f.width&&(k.modalConfig.width=f.width),"undefined"!==typeof f.height&&(k.modalConfig.height=f.height),this.align());return this};
this.setModalConfig=function(f){k.modalConfig=jQuery.extend({},k.modalConfig,f);this.align();return this};this.align=function(){return function(f,c){if(!this.activeModal)return this;c=k.modalConfig;var a={width:c.width,height:c.height};var b=c.fullScreen;b="undefined"===typeof b?!1:n.isFunction(b)?b():void 0;(c.isFullScreen=b)?(c.header&&this.$.header.show(),c.header?(c.headerHeight=this.$.header.outerHeight(),a.height+=c.headerHeight):c.headerHeight=0,a.width=jQuery(window).width(),a.height=c.height,
a.left=0,a.top=0):(c.header&&this.$.header.show(),f&&jQuery.extend(!0,c.position,f),c.header?(c.headerHeight=this.$.header.outerHeight(),a.height+=c.headerHeight):c.headerHeight=0,a.left="left"==c.position.left?c.position.margin||0:"right"==c.position.left?jQuery(window).width()-a.width-(c.position.margin||0):"center"==c.position.left?jQuery(window).width()/2-a.width/2:c.position.left||0,a.top="top"==c.position.top?c.position.margin||0:"bottom"==c.position.top?jQuery(window).height()-a.height-(c.position.margin||
0):"middle"==c.position.top?jQuery(window).height()/2-a.height/2:c.position.top||0,0>a.left&&(a.left=0),0>a.top&&(a.top=0));this.activeModal.css(a);this.$.body.css({height:a.height-(c.headerHeight||0)});c.iframe&&(this.$["iframe-wrap"].css({height:a.height-c.headerHeight}),this.$.iframe.css({height:a.height-c.headerHeight}));return this}}();this.main=function(){h.modal_instance=h.modal_instance||[];h.modal_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,
arguments)}}());r=ax5.ui.modal})();
(function(){var h=ax5.ui.modal;h.tmpl={content:function(){return' \n        <div id="{{modalId}}" data-modal-els="root" class="ax5modal {{theme}} {{fullscreen}}" style="{{styles}}">\n            {{#header}}\n            <div class="ax-modal-header" data-modal-els="header">\n                {{{title}}}\n                {{#btns}}\n                    <div class="ax-modal-header-addon">\n                    {{#@each}}\n                    <button tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class="ax-modal-body" data-modal-els="body">\n            {{#iframe}}\n                <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">\n                    <table data-modal-els="iframe-loading" style="width:100%;height:100%;"><tr><td style="text-align: center;vertical-align: middle">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>\n                </div>\n                <form name="{{modalId}}-form" data-modal-els="iframe-form">\n                <input type="hidden" name="modalId" value="{{modalId}}" />\n                {{#param}}\n                {{#@each}}\n                <input type="hidden" name="{{@key}}" value="{{@value}}" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            {{^iframe}}\n                <div data-modal-els="body-frame" style="position: absolute;left:0;top:0;width:100%;height:100%;"></div>\n            {{/iframe}}\n            </div>\n            {{^disableResize}}\n            <div data-ax5modal-resizer="top"></div>\n            <div data-ax5modal-resizer="right"></div>\n            <div data-ax5modal-resizer="bottom"></div>\n            <div data-ax5modal-resizer="left"></div>\n            <div data-ax5modal-resizer="top-left"></div>\n            <div data-ax5modal-resizer="top-right"></div>\n            <div data-ax5modal-resizer="bottom-left"></div>\n            <div data-ax5modal-resizer="bottom-right"></div>\n            {{/disableResize}}\n        </div>\n        '},get:function(n,
r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.ui,n=ax5.util,r=void 0;h.addClass({className:"calendar"},function(){return function(){var k=this,e=void 0,y=1;this.instanceId=ax5.getGuid();this.target=null;this.selection=[];this.selectionMap={};this.selectableMap={};this.markerMap={};this.printedDay={start:"",end:""};e=this.config={clickEventName:"click",theme:"default",startOfWeek:0,mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:100,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",
itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:ax5.info.months||"JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"};var w=function(a,c){a&&a.onStateChanged?a.onStateChanged.call(c,c):this.onStateChanged&&this.onStateChanged.call(c,c)},z=function(){var a=jQuery.extend(!0,{},e,{controlCSS:{},controlButtonCSS:{}});a.controlButtonCSS.height=
a.controlCSS.height=n.cssNumber(e.dimensions.controlHeight);a.controlButtonCSS["line-height"]=a.controlCSS["line-height"]=n.cssNumber(e.dimensions.controlHeight);a.controlButtonCSS.width=n.cssNumber(e.dimensions.controlHeight);a.controlCSS=n.css(a.controlCSS);a.controlButtonCSS=n.css(a.controlButtonCSS);return r.tmpl.get.call(this,"frameTmpl",a)},D=function(){var a=n.date(e.displayDate),c="",f="";if(e.control){if("day"==e.mode||"d"==e.mode)c=e.control.yearTmpl?e.control.yearTmpl.replace("%s",a.getFullYear()):
a.getFullYear(),f=e.control.monthTmpl?e.control.monthTmpl.replace("%s",e.lang.months[a.getMonth()]):e.lang.months[a.getMonth()],this.$["control-display"].html(e.control.yearFirst?'<span data-calendar-display="year">'+c+'</span><span data-calendar-display="month">'+f+"</span>":'<span data-calendar-display="month">'+f+'</span><span data-calendar-display="year">'+c+"</span>");else if("month"==e.mode||"m"==e.mode)c=e.control.yearTmpl?e.control.yearTmpl.replace("%s",a.getFullYear()):a.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+
c+"</span>");else if("year"==e.mode||"y"==e.mode)c=e.control.yearTmpl?e.control.yearTmpl.replace("%s",a.getFullYear()-10):a.getFullYear()-10,a=e.control.yearTmpl?e.control.yearTmpl.replace("%s",Number(a.getFullYear())+9):Number(a.getFullYear())+9,this.$["control-display"].html(c+" ~ "+a);this.$["control-display"].find("[data-calendar-display]").on(e.clickEventName,function(a){if(a=n.findParentNode(a.target,function(a){if(a.getAttribute("data-calendar-display"))return!0}))a=a.getAttribute("data-calendar-display"),
this.changeMode(a);a=a=null}.bind(this))}a=c=f=c=a=null;return this},B=function(a){var b=n.date(a),c=new Date(b.getFullYear(),b.getMonth(),1,12),f=e.displayDate;a=function(){var a=c.getDay();0==a&&(a=7);a-=e.startOfWeek;return n.date(c,{add:{d:-a}})}();var d=b.getMonth();b={};var u;var l=this.$.body.width();l=Math.floor(6/7*l);e.dimensions.height&&(l=n.number(e.dimensions.height)-n.number(e.dimensions.colHeadHeight));b.height=Math.floor(l/6)-2*n.number(e.dimensions.itemPadding)+"px";b["line-height"]=
b.height;b.padding=n.cssNumber(e.dimensions.itemPadding);var g={weekNames:[].concat(ax5.info.weekNames),list:[]};e.startOfWeek&&(g.weekNames=g.weekNames.concat(g.weekNames.slice(0,e.startOfWeek)).splice(e.startOfWeek));g.weekNames.forEach(function(a){a.colHeadHeight=n.cssNumber(e.dimensions.colHeadHeight)});var p=a;for(l=0;6>l;){for(u=0;7>u;){var h=""+n.date(p,{"return":e.dateFormat}),B={row:l,col:u,isStartOfWeek:0==u,thisDate:""+h,thisDataLabel:e.lang.dayTmpl.replace("%s",p.getDate()),itemStyles:n.css(b),
addClass:function(){var a="";e.selectable?a=k.selectableMap[h]?a+(p.getMonth()==d?" live":""):a+" disable":p.getMonth()==d&&(a=h==n.date(f,{"return":"yyyyMMdd"})?a+" focus":a+" live",0==p.getDay()&&(a+=" sunday"),6==p.getDay()&&(a+=" saturday"));return a}()+" "+(k.markerMap[h]?k.markerMap[h].theme||e.defaultMarkerTheme:"")+" "+(k.selectionMap[h]?"selected-day":"")};g.list.push(B);u++;p=n.date(p,{add:{d:1}});B=h=null}l++}b=r.tmpl.get.call(this,"dayTmpl",g);this.$.body.html(b);this.$.body.find("[data-calendar-item-date]").on(e.clickEventName,
function(a){a=a||window.event;E.call(k,a,"date");n.stopEvent(a)});this.printedDay={start:a,end:p};w.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay});D.call(this);b=g=l=l=u=l=b=d=p=a=f=c=b=null},p=function(a){a=n.date(a);var b=a.getMonth(),c={},f,d,u;var l=this.$.body.width();l=Math.floor(6/7*l);e.dimensions.height&&(l=n.number(e.dimensions.height)-n.number(e.dimensions.colHeadHeight));c.height=Math.floor(l/4)-2*n.number(e.dimensions.itemPadding)+"px";c["line-height"]=c.height;
c.padding=n.cssNumber(e.dimensions.itemPadding);var g={colHeadHeight:n.cssNumber(e.dimensions.colHeadHeight),colHeadLabel:e.lang.monthHeading,list:[]};for(f=l=u=0;4>f;){for(d=0;3>d;){var p=f,h=d,B=0==d,F=a.getFullYear()+"-"+n.setDigit(l+1,2)+"-"+n.setDigit(a.getDate(),2),y=e.lang.months[l],z=n.css(c);var Q=e.selectable?k.selectableMap[l]?"live":"disable":"live";p={row:p,col:h,isStartOfRow:B,thisMonth:F,thisMonthLabel:y,itemStyles:z,addClass:Q+" "+(l==b?"focus":"")+" "+(k.markerMap[l]?k.markerMap[l].theme||
e.defaultMarkerTheme:"")};g.list.push(p);l++;d++;p=null}f++}b=r.tmpl.get.call(this,"monthTmpl",g);this.$.body.html(b);this.$.body.find("[data-calendar-item-month]").on(e.clickEventName,function(a){a=a||window.event;E.call(k,a,"month");n.stopEvent(a)});this.printedDay={start:a.getFullYear()+"-"+n.setDigit(u+1,2),end:a.getFullYear()+"-"+n.setDigit(l,2)};w.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay});D.call(this);b=g=l=l=u=l=d=f=c=b=a=null},F=function(a){a=n.date(a);var b=
a.getFullYear(),c={},f,d;var l=this.$.body.width();l=Math.floor(6/7*l);e.dimensions.height&&(l=n.number(e.dimensions.height)-n.number(e.dimensions.colHeadHeight));c.height=Math.floor(l/5)-2*n.number(e.dimensions.itemPadding)+"px";c["line-height"]=c.height;c.padding=n.cssNumber(e.dimensions.itemPadding);var p={colHeadHeight:n.cssNumber(e.dimensions.colHeadHeight),colHeadLabel:e.lang.yearHeading,list:[]};var g=b-10;l=b-10;for(f=0;5>f;){for(d=0;4>d;){var v=f,h=d,B=0==d,F=l+"-"+n.setDigit(a.getMonth()+
1,2)+"-"+n.setDigit(a.getDate(),2),y=e.lang.yearTmpl.replace("%s",l),z=n.css(c);var Q=e.selectable?k.selectableMap[l]?"live":"disable":"live";v={row:v,col:h,isStartOfRow:B,thisYear:F,thisYearLabel:y,itemStyles:z,addClass:Q+" "+(l==b?"focus":"")+" "+(k.selectableMap[l]?k.selectableMap[l].theme||e.defaultMarkerTheme:"")};p.list.push(v);l++;d++;v=null}f++}a=r.tmpl.get.call(this,"yearTmpl",p);this.$.body.html(a);this.$.body.find("[data-calendar-item-year]").on(e.clickEventName,function(a){a=a||window.event;
E.call(this,a,"year");n.stopEvent(a)});this.printedDay={start:g,end:l-1};w.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay});D.call(this);a=p=l=l=g=l=d=f=c=b=a=null},E=function(a,c,f,l){c=c||"date";if(f=n.findParentNode(a.target,function(a){if(a.getAttribute("data-calendar-item-"+c))return!0})){l=f.getAttribute("data-calendar-item-"+c);a=n.date(l,{"return":e.dateFormat});var b=!0;y=e.multipleSelect?n.isNumber(e.multipleSelect)?e.multipleSelect:2:1;e.selectable&&(k.selectableMap[a]||
(b=!1));"date"==c?b&&(k.selection.length>=y&&(a=k.selection.splice(0,k.selection.length-(y-1)),a.forEach(function(a){k.$.body.find('[data-calendar-item-date="'+n.date(a,{"return":e.dateFormat})+'"]').removeClass("selected-day")})),jQuery(f).addClass("selected-day"),k.selection.push(l),k.onClick&&k.onClick.call({self:this,date:l,target:this.target,dateElement:f})):"month"==c?"month"==e.selectMode?b&&(k.selection.length>=y&&(a=k.selection.splice(0,k.selection.length-(y-1)),a.forEach(function(a){k.$.body.find('[data-calendar-item-month="'+
n.date(a,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-month")})),jQuery(f).addClass("selected-month"),k.selection.push(l),k.onClick&&k.onClick.call({self:this,date:l,target:this.target,dateElement:f})):k.changeMode("day",l):"year"==c&&("year"==e.selectMode?b&&(k.selection.length>=y&&(a=k.selection.splice(0,k.selection.length-(y-1)),a.forEach(function(a){k.$.body.find('[data-calendar-item-year="'+n.date(a,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-year")})),jQuery(f).addClass("selected-year"),
k.selection.push(l),k.onClick&&k.onClick.call({self:this,date:l,target:this.target,dateElement:f})):k.changeMode("month",l))}b=a=a=l=f=c=null},l=function(a,c,f){if(c=n.findParentNode(a.target,function(a){if(a.getAttribute("data-calendar-move"))return!0}))if(f=c.getAttribute("data-calendar-move"),"day"==e.mode||"d"==e.mode)e.displayDate="left"==f?n.date(e.displayDate,{add:{m:-1}}):n.date(e.displayDate,{add:{m:1}}),B.call(this,e.displayDate);else if("month"==e.mode||"m"==e.mode)e.displayDate="left"==
f?n.date(e.displayDate,{add:{y:-1}}):n.date(e.displayDate,{add:{y:1}}),p.call(this,e.displayDate);else if("year"==e.mode||"y"==e.mode)e.displayDate="left"==f?n.date(e.displayDate,{add:{y:-10}}):n.date(e.displayDate,{add:{y:10}}),F.call(this,e.displayDate);f=c=null},f=function(){setTimeout(function(){if("day"===e.mode||"d"===e.mode)for(var a in this.markerMap)this.$.body.find('[data-calendar-item-date="'+a+'"]').addClass(this.markerMap[a].theme||e.defaultMarkerTheme)}.bind(this))},c=function(){setTimeout(function(){for(var a in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+
a+'"]').addClass("selected-day")}.bind(this))},a=function(){setTimeout(function(){if("day"===e.mode||"d"===e.mode)for(var a in this.periodMap)this.periodMap[a].label&&this.$.body.find('[data-calendar-item-date="'+a+'"]').find(".addon-footer").html(this.periodMap[a].label),this.$.body.find('[data-calendar-item-date="'+a+'"]').addClass(this.periodMap[a].theme)}.bind(this))};this.init=function(){this.onStateChanged=e.onStateChanged;this.onClick=e.onClick;e.target||console.log(ax5.info.getError("ax5calendar",
"401","setConfig"));this.target=jQuery(e.target);e.displayDate=n.date(e.displayDate);this.target.html(z.call(this));this.$={root:this.target.find('[data-calendar-els="root"]'),control:this.target.find('[data-calendar-els="control"]'),"control-display":this.target.find('[data-calendar-els="control-display"]'),body:this.target.find('[data-calendar-els="body"]')};if(e.control)this.$.root.on(e.clickEventName,"[data-calendar-move]",function(a){l.call(this,a||window.event)}.bind(this));e.selection&&this.setSelection(e.selection,
!1);e.selectable&&this.setSelectable(e.selectable,!1);e.marker&&this.setMarker(e.marker,!1);setTimeout(function(){"day"===e.mode||"d"===e.mode?B.call(this,e.displayDate):"month"===e.mode||"m"===e.mode?p.call(this,e.displayDate):("year"===e.mode||"y"===e.mode)&&F.call(this,e.displayDate)}.bind(this))};this.changeMode=function(a,c){"undefined"!=typeof c&&(e.displayDate=c);a&&(e.mode=a);this.$.body.removeClass("fadein").addClass("fadeout");setTimeout(function(){"day"==e.mode||"d"==e.mode?B.call(this,
e.displayDate):"month"==e.mode||"m"==e.mode?p.call(this,e.displayDate):("year"==e.mode||"y"==e.mode)&&F.call(this,e.displayDate);this.$.body.removeClass("fadeout").addClass("fadein")}.bind(this),e.animateTime);return this};this.setSelection=function(){k.selectionMap={};var a={arr:function(a,b,c){b={};if(!n.isArray(a))return b;k.selection=a=a.splice(0,c);a.forEach(function(a){n.isDate(a)&&(a=n.date(a,{"return":e.dateFormat}));b[a]=!0});return b}};return function(b,f){var m={};y=e.multipleSelect?n.isNumber(e.multipleSelect)?
e.multipleSelect:2:1;if(e.selection=b)if(n.isArray(b))m=a.arr(b,{},y);else return this;this.selectionMap=jQuery.extend({},m);!1!==f&&c.call(this);return this}}();this.getSelection=function(){return this.selection};this.setSelectable=function(){k.selectableMap={};var a={arr:function(a,b){b={};if(!n.isArray(a))return b;a.forEach(function(a){n.isDate(a)&&(a=n.date(a,{"return":e.dateFormat}));b[a]=!0});return b},obj:function(a,b){b={};if(n.isArray(a)||a.range)return b;for(var c in a)b[c]=a[c];return b},
range:function(a,b){b={};if(n.isArray(a)||!a.range)return b;a.range.forEach(function(a){if(n.isDateFormat(a.from)&&n.isDateFormat(a.to))for(var d=n.date(a.from);d<=n.date(a.to);d.setDate(d.getDate()+1))b[n.date(d,{"return":e.dateFormat})]=!0;else for(d=a.from;d<=a.to;d++)b[d]=!0});return b}};return function(b,c){var f,d={};if(e.selectable=b)if(n.isArray(b))d=a.arr(b);else{for(f in a)if(b[f]){d=a[f](b);break}0===Object.keys(d).length&&(d=a.obj(b))}this.selectableMap=d;!1!==c&&this.changeMode();return this}}();
this.setMarker=function(){k.markerMap={};var a={obj:function(a,b){b={};if(n.isArray(a)||a.range)return b;for(var c in a)b[c]=a[c];return b},range:function(a,b){b={};if(n.isArray(a)||!a.range)return b;a.range.forEach(function(a){if(n.isDateFormat(a.from)&&n.isDateFormat(a.to))for(var d=n.date(a.from);d<=n.date(a.to);d.setDate(d.getDate()+1))b[n.date(d,{"return":e.dateFormat})]={theme:a.theme,label:a.label};else for(d=a.from;d<=a.to;d++)b[d]={theme:a.theme,label:a.label}});a=null;return b}};return function(b,
c){var m,d={};if(e.marker=b){for(m in a)if(b[m]){d=a[m](b);break}0===Object.keys(d).length&&(d=a.obj(b))}this.markerMap=d;!1!==c&&f.call(this);return this}}();this.setPeriod=function(){k.periodMap={};var b={range:function(a,b){b={};if(n.isArray(a)||!a.range)return b;a.range.forEach(function(a){if(n.isDateFormat(a.from)&&n.isDateFormat(a.to))for(var d=new Date(n.date(a.from));d<=n.date(a.to);d.setDate(d.getDate()+1))d.getTime()==n.date(a.from).getTime()?b[n.date(d,{"return":e.dateFormat})]={theme:a.theme||
e.defaultPeriodTheme,label:a.fromLabel}:d.getTime()==n.date(a.to).getTime()?b[n.date(d,{"return":e.dateFormat})]={theme:a.theme||e.defaultPeriodTheme,label:a.toLabel}:b[n.date(d,{"return":e.dateFormat})]={theme:a.theme||e.defaultPeriodTheme}});a=null;return b}};return function(c,f){var m={};if(!1!==f&&("day"===e.mode||"d"===e.mode))for(var d in this.periodMap)this.$.body.find('[data-calendar-item-date="'+d+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+d+'"]').removeClass(this.periodMap[d].theme);
if(e.period=c)m=b.range(c);this.periodMap=m;!1!==f&&a.call(this);return this}}();this.main=function(){h.calendar_instance=h.calendar_instance||[];h.calendar_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());r=ax5.ui.calendar})();
(function(){var h=ax5.ui.calendar;h.tmpl={frameTmpl:function(h){return'\n                <div class="ax5-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n                    {{#control}}\n                    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n                        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n                        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n                        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n                    </div>\n                    {{/control}}\n                    <div class="calendar-body" data-calendar-els="body"></div>\n                </div>\n                '},dayTmpl:function(h){return'\n                <table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                        {{#weekNames}}\n                            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n                            {{label}}\n                            </td>\n                        {{/weekNames}}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfWeek}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfWeek}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                                    <span class="addon addon-header"></span>\n                                    {{thisDataLabel}}\n                                    <span class="addon addon-footer"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},
monthTmpl:function(h){return'\n                <table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                                    <span class="addon"></span>\n                                    {{thisMonthLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},
yearTmpl:function(h){return'\n                <table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                                    <span class="addon"></span>\n                                    {{thisYearLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},
get:function(n,r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.util,n=void 0;ax5.ui.addClass({className:"picker"},function(){return function(){var r=this,k=void 0;this.instanceId=ax5.getGuid();this.config={clickEventName:"click",theme:"default",title:"",lang:{ok:"ok",cancel:"cancel"},animateTime:100,calendar:{multipleSelect:!1,control:{left:ax5.def.picker.date_leftArrow||"&#x02190",yearTmpl:ax5.def.picker.date_yearTmpl||"%s",monthTmpl:ax5.def.picker.date_monthTmpl||"%s",right:ax5.def.picker.date_rightArrow||"&#x02192",yearFirst:!0}},palette:{}};
this.queue=[];this.activePicker=null;this.activePickerQueueIndex=-1;this.closeTimer=this.openTimer=null;k=this.config;var e=function(e,h){e&&e.onStateChanged?e.onStateChanged.call(h,h):this.onStateChanged&&this.onStateChanged.call(h,h);return!0},y=function(){var e=function(l,f){this.open(l)},n=function(l,f){this.open(l)},E={"@fn":function(l,f){var c=this.queue[l];f=f.length;var a={inputLength:f||1};1<f&&(a.btns={ok:{label:k.lang.ok,theme:k.theme}});this.queue[l]=jQuery.extend(!0,a,c)},date:function(l,
f){var c=this.queue[l],a=c.content?c.content.width||270:270,b=c.content?c.content.margin||5:5;f=f.length;a={contentWidth:a*f+(f-1)*b,content:{width:a,margin:b},inputLength:f||1};1<f&&!c.btns&&(a.btns={ok:{label:k.lang.ok,theme:k.theme}});this.queue[l]=jQuery.extend(!0,a,c)},"secure-num":function(l,f){this.queue[l]=jQuery.extend(!0,{inputLength:f.length||1},this.queue[l])},keyboard:function(l,f){this.queue[l]=jQuery.extend(!0,{inputLength:f.length||1},this.queue[l])},numpad:function(l,f){this.queue[l]=
jQuery.extend(!0,{inputLength:f.length||1},this.queue[l])},color:function(l,f){var c=this.queue[l],a=c.content?c.content.width||270:270,b=c.content?c.content.margin||5:5,m=f.length;a={contentWidth:a*m+(m-1)*b,content:{width:a,margin:b},inputLength:m||1};var e=c.$target.find('[data-ax5picker-color="preview"]');e.get(0)&&(e.css({"background-color":"#"+h.color(f.val()||"#000000").getHexValue()}),f.on("change",function(){e.css({"background-color":"#"+h.color(this.value||"#000000").getHexValue()})}));
1<m&&!c.btns&&(a.btns={ok:{label:k.lang.ok,theme:k.theme}});this.queue[l]=jQuery.extend(!0,a,c);m=a=b=a=null}};return function(l){var f=this.queue[l];if(!f.content)return console.log(ax5.info.getError("ax5picker","501","bind")),this;var c="INPUT"==f.$target.get(0).tagName.toUpperCase()?f.$target:f.$target.find("input[type]");if(h.isFunction(f.content))E["@fn"].call(this,l,c);else for(var a in E)if(f.content.type==a){E[a].call(this,l,c);break}c.unbind("focus.ax5picker").unbind("click.ax5picker").bind("focus.ax5picker",
e.bind(this,l)).bind("click.ax5picker",n.bind(this,l));f.$target.find(".input-group-addon").unbind("click.ax5picker").bind("click.ax5picker",n.bind(this,l));f.content.formatter&&ax5.ui.formatter&&c.ax5formatter(f.content.formatter);return this}}(),w=function(e){if(!this.activePicker)return this;var p=this.queue[this.activePickerQueueIndex];e&&(this.activePicker.css({top:-999}),jQuery(document.body).append(this.activePicker));setTimeout(function(){var h=jQuery(window),l=jQuery(document.body);var f=
p.$target.offset();var c=p.$target.outerWidth();var a=p.$target.outerHeight();var b=Math.max(h.width(),l.width());var m=Math.max(h.height(),l.height());h=this.activePicker.outerWidth();l=this.activePicker.outerHeight();if(p.direction&&""!==p.direction&&"auto"!==p.direction)var k=p.direction;else k="top",0>f.top-l-12?k="top":f.top+a+l+12>m&&(k="bottom");e&&this.activePicker.addClass("direction-"+k);m={left:0,top:0};switch(k){case "top":m.left=f.left+c/2-h/2;m.top=f.top+a+12;break;case "bottom":m.left=
f.left+c/2-h/2;m.top=f.top-l-12;break;case "left":m.left=f.left+c+12;m.top=f.top-l/2+a/2;break;case "right":m.left=f.left-h-12,m.top=f.top-l/2+a/2}if("top"==k||"bottom"==k)0>m.left?(m.left=12,this.activePickerArrow.css({left:f.left+c/2-m.left})):m.left+h>b&&(m.left=b-h-12,this.activePickerArrow.css({left:f.left+c/2-m.left}));this.activePicker.css(m)}.bind(this))},z=function(e,k){if(!this.activePicker)return this;var p=this.queue[this.activePickerQueueIndex];(k=h.findParentNode(e.target,function(l){if(l.getAttribute("data-picker-els")||
p.$target.get(0)==l)return!0}))||this.close();return this},D=function(e,k){e.srcElement&&(e.target=e.srcElement);if(k=h.findParentNode(e.target,function(e){if(e.getAttribute("data-picker-btn"))return!0}))e=this.queue[this.activePickerQueueIndex],k=k.getAttribute("data-picker-btn"),e.btns&&e.btns[k].onClick?e.btns[k].onClick.call({key:k,value:e.btns[k],self:this,item:e},k):this.close()},B=function(e){h.isString(e)||(e=jQuery(e).data("data-axpicker-id"));if(h.isString(e))return h.search(this.queue,
function(){return this.id==e});console.log(ax5.info.getError("ax5picker","402","getQueIdx"))};this.init=function(){this.onStateChanged=k.onStateChanged};this.bind=function(e){var p={},n=void 0;e=jQuery.extend(!0,p,k,e);if(!e.target)return console.log(ax5.info.getError("ax5picker","401","bind")),this;e.$target=jQuery(e.target);if(!e.$target.get(0))return console.log(ax5.info.getError("ax5picker","401","bind")),this;e.id||(e.id=e.$target.data("data-axpicker-id"));e.id||(e.id="ax5-picker-"+ax5.getGuid(),
e.$target.data("data-axpicker-id",e.id));n=h.search(this.queue,function(){return this.id==e.id});-1===n?(this.queue.push(e),y.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],e),y.call(this,n));n=p=null;return this};this.setContentValue=function(){var p={date:function(e,p,l){var f=[],c,a;"INPUT"!==e.$target.get(0).tagName.toUpperCase()&&e.$target.find("input[type]").each(function(){f.push(this.value)});if(0==p)return 1<f.length&&""!==f[1]?(p=ax5.util.dday(f[1],{today:f[0]}),
0>p&&(a=l)):a=l,a&&(e.pickerCalendar[1].ax5uiInstance.setSelection([a],!1).changeMode("d",a),this.setContentValue(e.id,1,a)),l;if(1==p)return 1<f.length&&(p=ax5.util.dday(f[1],{today:f[0]}),0>p&&(c=f[1])),c&&(e.pickerCalendar[0].ax5uiInstance.setSelection([c],!1).changeMode("d",c),this.setContentValue(e.id,0,c)),l}};return function(k,n,l,f){k=h.isNumber(k)?k:B.call(this,k);k=this.queue[k];var c=void 0;f||(f={});if(k){c="INPUT"==k.$target.get(0).tagName.toUpperCase()?k.$target:jQuery(k.$target.find("input[type]").get(n));
c.val(l);k.disableChangeTrigger?(c=k.$target.find('[data-ax5picker-color="preview"]'),c.get(0)&&c.css({"background-color":l})):c.trigger("change");1<k.inputLength&&p[k.content.type]&&(l=p[k.content.type].call(this,k,n,l));var a={self:r,state:"changeValue",item:k,inputIndex:n,value:l,values:[l]};"INPUT"!==k.$target.get(0).tagName.toUpperCase()&&(a.values=[],k.$target.find("input[type]").each(function(){a.values.push(this.value)}));e.call(this,k,a);1!=k.inputLength||f.doNotClose||this.close()}l=n=k=
k=null;return this}}();this.getContentValue=function(){return function(e,k){e=h.isNumber(e)?e:B.call(this,e);return(e=this.queue[e])?(k="INPUT"==e.$target.get(0).tagName.toUpperCase()?e.$target:jQuery(e.$target.find("input[type]").get(k)),k.val()):this}}();this.open=function(){var p={"@fn":function(e,p){e=this.queue[e];e.content.call(e,function(l){p(l)});return!0},date:function(e){var p=this.queue[e];e=[];for(var l=jQuery.extend({},k.calendar,{displayDate:new Date}),f="INPUT"==p.$target.get(0).tagName.toUpperCase()?
p.$target:p.$target.find("input[type]"),c=0;c<p.inputLength;c++)e.push('<div style="width:'+h.cssNumber(p.content.width)+';float:left;" class="ax-picker-content-box" data-calendar-target="'+c+'"></div>'),c<p.inputLength-1&&e.push('<div style="width:'+p.content.margin+'px;float:left;height: 5px;"></div>');e.push('<div style="clear:both;"></div>');p.pickerContent.html(e.join(""));p.pickerCalendar=[];p.pickerContent.find("[data-calendar-target]").each(function(){var a=this.getAttribute("data-calendar-target"),
b=f.get(a).value,c=ax5.util.date(b),e={year:function(a){return ax5.util.date(a,{"return":"yyyy"})},month:function(a){return ax5.util.date(a,{"return":"yyyy-MM"})},day:function(a){return a}};l.displayDate=c;b&&(l.selection=[c]);l=jQuery.extend(!0,l,p.content.config||{});l.target=this;l.onClick=function(){r.setContentValue(p.id,a,e[l.selectMode||"day"](this.date))};p.pickerCalendar.push({itemId:p.id,inputIndex:a,ax5uiInstance:new ax5.ui.calendar(l)})})},"secure-num":function(p){var k=this.queue[p];
p=[];for(var l=0;l<k.inputLength;l++)p.push('<div style="width:'+h.cssNumber(k.content.width)+';float:left;" class="ax-picker-content-box" data-secure-num-target="'+l+'"></div>'),l<k.inputLength-1&&p.push('<div style="width:'+k.content.margin+'px;float:left;height: 5px;"></div>');p.push('<div style="clear:both;"></div>');k.pickerContent.html(p.join(""));k.pickerContent.find("[data-secure-num-target]").each(function(){var f=this.getAttribute("data-secure-num-target"),c=[];(function(a){var b;for(b=
a.length;b;--b){var c=Math.floor(Math.random()*b);var f=a[b-1];a[b-1]=a[c];a[c]=f}return a})([0,1,2,3,4,5,6,7,8,9]).forEach(function(a){c.push('<div style="float:left;'+k.content.config.btnWrapStyle+'">');c.push('<button class="btn btn-default btn-'+k.content.config.btnTheme+'" style="'+k.content.config.btnStyle+'" data-secure-num-value="'+a+'">'+a+"</button>");c.push("</div>")});[{label:"&#x02190",fn:"back"},{label:"C",fn:"clear"}].forEach(function(a){c.push('<div style="float:left;'+k.content.config.btnWrapStyle+
'">');c.push('<button class="btn btn-default btn-'+k.content.config.specialBtnTheme+'" style="'+k.content.config.btnStyle+'" data-secure-num-value="'+a.fn+'">'+a.label+"</button>");c.push("</div>")});c.push('<div style="clear:both;"></div>');$(this).html(c.join("")).on("click","[data-secure-num-value]",function(){var a=this.getAttribute("data-secure-num-value"),b="INPUT"==k.$target.get(0).tagName.toUpperCase()?k.$target:jQuery(k.$target.find("input[type]").get(f)),c=b.val();"back"==a?b.val(c.substring(0,
c.length-1)):"clear"==a?b.val(""):b.val(c+a);e.call(this,k,{self:r,state:"changeValue",item:k,value:b.val()})})})},keyboard:function(p){var k=this.queue[p];p=[];for(var l=0;l<k.inputLength;l++)p.push('<div style="width:'+h.cssNumber(k.content.width)+';float:left;" class="ax-picker-content-box" data-keyboard-target="'+l+'"></div>'),l<k.inputLength-1&&p.push('<div style="width:'+k.content.margin+'px;float:left;height: 5px;"></div>');p.push('<div style="clear:both;"></div>');k.pickerContent.html(p.join(""));
var f=[[{value:"`",shiftValue:"~"},{value:"1",shiftValue:"!"},{value:"2",shiftValue:"@"},{value:"3",shiftValue:"#"},{value:"4",shiftValue:"$"},{value:"5",shiftValue:"%"},{value:"6",shiftValue:"^"},{value:"7",shiftValue:"&"},{value:"8",shiftValue:"*"},{value:"9",shiftValue:"("},{value:"0",shiftValue:")"},{value:"-",shiftValue:"_"},{value:"=",shiftValue:"+"},{label:"&#x02190",fn:"back"}],[{value:"q",shiftValue:"Q"},{value:"w",shiftValue:"W"},{value:"e",shiftValue:"E"},{value:"r",shiftValue:"R"},{value:"t",
shiftValue:"T"},{value:"y",shiftValue:"Y"},{value:"u",shiftValue:"U"},{value:"i",shiftValue:"I"},{value:"o",shiftValue:"O"},{value:"p",shiftValue:"P"},{value:"[",shiftValue:"{"},{value:"]",shiftValue:"}"},{value:"\\",shiftValue:"|"}],[{label:"Clear",fn:"clear"},{value:"a",shiftValue:"A"},{value:"s",shiftValue:"S"},{value:"d",shiftValue:"D"},{value:"f",shiftValue:"F"},{value:"g",shiftValue:"G"},{value:"h",shiftValue:"H"},{value:"j",shiftValue:"J"},{value:"k",shiftValue:"K"},{value:"l",shiftValue:"L"},
{value:";",shiftValue:":"},{value:"'",shiftValue:'"'}],[{label:"Shift",fn:"shift"},{value:"z",shiftValue:"Z"},{value:"x",shiftValue:"X"},{value:"c",shiftValue:"C"},{value:"v",shiftValue:"V"},{value:"b",shiftValue:"B"},{value:"n",shiftValue:"N"},{value:"m",shiftValue:"M"},{value:",",shiftValue:"<"},{value:".",shiftValue:">"},{value:"/",shiftValue:"?"},{label:"Close",fn:"close"}]],c=function(a){var b=[];f.forEach(function(c){b.push('<div style="display: table;margin:0 auto;">');c.forEach(function(c){if(c.fn){var f=
c.fn;c=c.label;var d=k.content.config.specialBtnWrapStyle;var m=k.content.config.specialBtnTheme;var l=k.content.config.specialBtnStyle}else c=f=a?c.shiftValue:c.value,d=k.content.config.btnWrapStyle,m=k.content.config.btnTheme,l=k.content.config.btnStyle;b.push('<div style="display: table-cell;'+d+'">');b.push('<button class="btn btn-default btn-'+m+'" style="'+l+'" data-keyboard-value="'+f+'">'+c+"</button>");b.push("</div>")});b.push("</div>")});return b.join("")};k.pickerContent.find("[data-keyboard-target]").each(function(){var a=
this.getAttribute("data-keyboard-target"),b=$(this),f=!1;b.html(c(f)).on("mousedown","[data-keyboard-value]",function(){var m=this.getAttribute("data-keyboard-value"),l="INPUT"==k.$target.get(0).tagName.toUpperCase()?k.$target:jQuery(k.$target.find("input[type]").get(a)),d=l.val();switch(m){case "back":l.val(d.substring(0,d.length-1));break;case "clear":l.val("");break;case "shift":return f=!f,b.html(c(f)),!1;case "close":return r.close(),!1;default:l.val(d+m)}e.call(this,k,{self:r,state:"changeValue",
item:k,value:l.val()})})})},numpad:function(p){var k=this.queue[p];p=[];for(var l=0;l<k.inputLength;l++)p.push('<div style="width:'+h.cssNumber(k.content.width)+';float:left;" class="ax-picker-content-box" data-numpad-target="'+l+'"></div>'),l<k.inputLength-1&&p.push('<div style="width:'+k.content.margin+'px;float:left;height: 5px;"></div>');p.push('<div style="clear:both;"></div>');k.pickerContent.html(p.join(""));k.pickerContent.find("[data-numpad-target]").each(function(){var f=this.getAttribute("data-numpad-target"),
c=[];(k.content.config.keyArray||[{value:"7"},{value:"8"},{value:"9"},{label:"BS",fn:"back"},{value:"4"},{value:"5"},{value:"6"},{label:"CLS",fn:"clear"},{value:"1"},{value:"2"},{value:"3"},{value:""},{value:"."},{value:"0"},{value:""},{label:"OK",fn:"enter"}]).forEach(function(a){if(a.fn){var b=a.fn;a=a.label;var f=k.content.config.specialBtnTheme;var l=k.content.config.specialBtnWrapStyle;var e=k.content.config.specialBtnStyle}else f=(a=b=a.value)?k.content.config.btnTheme:"",l=k.content.config.btnWrapStyle,
e=k.content.config.btnStyle;c.push('<div style="float:left;'+l+'">');c.push('<button class="btn btn-default btn-'+f+'" style="'+e+'" data-numpad-value="'+b+'">'+(a||"&nbsp;")+"</button>");c.push("</div>")});c.push('<div style="clear:both;"></div>');$(this).html(c.join("")).on("mousedown","[data-numpad-value]",function(){var a=this.getAttribute("data-numpad-value"),b="INPUT"==k.$target.get(0).tagName.toUpperCase()?k.$target:jQuery(k.$target.find("input[type]").get(f)),c=b.val();switch(a){case "back":var l=
"changeValue";b.val(c.substring(0,c.length-1));break;case "clear":l="changeValue";b.val("");break;case "enter":return r.close(k,"enter"),!1;case "close":return r.close(),!1;default:l="changeValue",b.val(c+a)}e.call(this,k,{self:r,state:l,item:k,value:b.val()})})})},color:function(e){var p=this.queue[e];e=[];for(var l=jQuery.extend({},k.palette),f="INPUT"==p.$target.get(0).tagName.toUpperCase()?p.$target:p.$target.find("input[type]"),c=0;c<p.inputLength;c++)e.push('<div style="padding: 5px;width:'+
h.cssNumber(p.content.width)+';float:left;" class="ax-picker-content-box" data-palette-target="'+c+'" data-ax5palette="ax5picker-'+p.id+'"></div>'),c<p.inputLength-1&&e.push('<div style="width:'+p.content.margin+'px;float:left;height: 5px;"></div>');e.push('<div style="clear:both;"></div>');p.pickerContent.html(e.join(""));p.pickerPalette=[];p.pickerContent.find("[data-palette-target]").each(function(){var a=this.getAttribute("data-palette-target"),b=f.get(a).value;l.selectedColor=b;l=jQuery.extend(!0,
l,p.content.config||{});l.target=this;l.onClick=function(b){r.setContentValue(p.id,a,b)};l.onUpdateColor=function(b){r.setContentValue(p.id,a,b,{doNotClose:!0})};p.pickerPalette.push({itemId:p.id,inputIndex:a,ax5uiInstance:new ax5.ui.palette(l)})})}};return function(r,E){var l=h.isNumber(r)?r:B.call(this,r),f=this.queue[l];this.openTimer&&clearTimeout(this.openTimer);if(this.activePicker){if(this.activePickerQueueIndex==l||2<E)return this;this.close();this.openTimer=setTimeout(function(){this.open(l,
(E||0)+1)}.bind(this),k.animateTime);return this}this.activePicker=jQuery(n.tmpl.get.call(this,"pickerTmpl",f));this.activePickerArrow=this.activePicker.find(".ax-picker-arrow");this.activePickerQueueIndex=l;f.pickerContent=this.activePicker.find('[data-picker-els="content"]');h.isFunction(f.content)?(f.pickerContent.html("Loading.."),p["@fn"].call(this,l,function(c){f.pickerContent.html(c)})):f.content.type in p&&p[f.content.type].call(this,l);this.activePicker.find("[data-picker-btn]").on(k.clickEventName,
function(c){D.call(this,c||window.event,l)}.bind(this));w.call(this,"append");jQuery(window).bind("resize.ax5picker",function(){w.call(this)}.bind(this));jQuery(window).bind("keyup.ax5picker",function(c){c=c||window.event;c.keyCode==ax5.info.eventKeys.ESC&&this.close();h.stopEvent(c)}.bind(this));jQuery(window).bind("click.ax5picker",function(c){c=c||window.event;z.call(this,c);h.stopEvent(c)}.bind(this));e.call(this,f,{self:this,state:"open",item:f});return this}}();this.close=function(p,h){this.closeTimer&&
clearTimeout(this.closeTimer);if(!this.activePicker)return this;p=this.queue[this.activePickerQueueIndex];this.activePicker.addClass("destroy");jQuery(window).unbind("resize.ax5picker");jQuery(window).unbind("click.ax5picker");jQuery(window).unbind("keyup.ax5picker");this.closeTimer=setTimeout(function(){this.activePicker&&this.activePicker.remove();this.activePicker=null;this.activePickerQueueIndex=-1;e.call(this,p,{self:this,state:h||"close"})}.bind(this),k.animateTime);return this};this.main=function(){arguments&&
h.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());n=ax5.ui.picker})();
(function(){var h=ax5.ui.picker;h.tmpl={pickerTmpl:function(){return'\n<div class="ax5-ui-picker {{theme}}" id="{{id}}" data-picker-els="root" {{#zIndex}}style="z-index:{{zIndex}};"{{/zIndex}}>\n    {{#title}}\n        <div class="ax-picker-heading">{{title}}</div>\n    {{/title}}\n    <div class="ax-picker-body">\n        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>\n        {{#btns}}\n            <div class="ax-picker-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-picker-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-picker-arrow"></div>\n</div>\n'},get:function(n,
r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();
ax5&&ax5.ui&&ax5.ui.picker&&(ax5.ui.picker_instance=new ax5.ui.picker,jQuery.fn.ax5picker=function(){return function(h,n,r){if(ax5.util.isString(h))switch(h){case "open":return ax5.ui.picker_instance.open(this);case "close":return ax5.ui.picker_instance.close(this);case "setValue":return ax5.ui.picker_instance.setContentValue(this,n,r)}else"undefined"==typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend(!0,h,{target:this});ax5.ui.picker_instance.bind(h)});return this}}());"use strict";
(function(){var h=ax5.util,n=void 0;ax5.ui.addClass({className:"formatter"},function(){return function(){var r=this;this.instanceId=ax5.getGuid();this.config={animateTime:250};this.queue=[];this.closeTimer=this.openTimer=null;var k=this.config;var e=function(e,k,h){e.$input.data("__originValue__")||e.$input.data("__originValue__",e.$input.val())},y=function(e,k,h){k=!1;e.enterableKeyCodes&&(h.which&&e.enterableKeyCodes[h.which]||h.metaKey||h.ctrlKey||h.shiftKey||(k=!0));k&&ax5.util.stopEvent(h)},
w=function(e,k,h){var l=e.$input.get(0);if("selectionStart"in l)var f=l.selectionStart;else if(document.selection){f=document.selection.createRange();var c=document.selection.createRange().text.length;f.moveStart("character",-l.value.length);f=f.text.length-c}c=l.value;k=e.pattern in n.formatter?n.formatter[e.pattern].getPatternValue.call(this,e,k,h,l.value):c;k!=c&&(e.$input.val(k).trigger("change"),e=f+k.length-c.length,"undefined"==typeof e&&(e=l.value.length),l.setSelectionRange?(l.focus(),l.setSelectionRange(e,
e)):l.createTextRange?(l=l.createTextRange(),l.collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select()):l.selectionStart&&(l.focus(),l.selectionStart=e,l.selectionEnd=e))},z=function(e,k,h,l){var f=e.$input.get(0);e.$input.removeData("__originValue__");var c=f.value;k=e.pattern in n.formatter?n.formatter[e.pattern].getPatternValue.call(this,e,k,h,f.value,"blur"):c;l?e.$input.val(k):k!=c&&e.$input.val(k).trigger("change")},D=function(p,k){if(!p.pattern&&("INPUT"==p.$target.get(0).tagName?
p.pattern=p.$target.attr("data-ax5formatter"):p.pattern=p.$target.find('input[type="text"]').attr("data-ax5formatter"),!p.pattern))return console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(p.target),this;var h=p.pattern.match(/[^\(^\))]+/gi);p.pattern=h[0];p.patternArgument=h[1]||"";p.pattern in n.formatter&&(p.enterableKeyCodes=n.formatter[p.pattern].getEnterableKeyCodes.call(this,p,k));p.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",e.bind(this,this.queue[k],
k));p.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",y.bind(this,this.queue[k],k));p.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",w.bind(this,this.queue[k],k));p.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",z.bind(this,this.queue[k],k));z.call(this,this.queue[k],k);return this},B=function(e){h.isString(e)||(e=jQuery(e).data("data-formatter"));return h.search(this.queue,function(){return this.id==e})};this.init=function(){};this.bind=function(e){var p=
{},n=void 0;jQuery.extend(!0,p,k);e&&jQuery.extend(!0,p,e);e=p;if(!e.target)return console.log(ax5.info.getError("ax5formatter","401","bind")),this;e.$target=jQuery(e.target);if("INPUT"==e.$target.get(0).tagName)e.$input=e.$target;else if(e.$input=e.$target.find('input[type="text"]'),1<e.$input.length)return e.$input.each(function(){e.target=this;r.bind(e)}),this;e.$input="INPUT"==e.$target.get(0).tagName?e.$target:e.$target.find('input[type="text"]');e.id||(e.id=e.$input.data("ax5-formatter"));e.id||
(e.id="ax5-formatter-"+ax5.getGuid(),e.$input.data("ax5-formatter",e.id));n=h.search(this.queue,function(){return this.id==e.id});-1===n?(this.queue.push(e),D.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[n]=e,D.call(this,this.queue[n],n));return this};this.formatting=function(e){e=h.isNumber(e)?e:B.call(this,e);if(-1===e)for(e=this.queue.length;e--;)z.call(this,this.queue[e],e,null,!0);else z.call(this,this.queue[e],e,null,!0);return this};this.unbind=function(){};this.main=
function(){arguments&&h.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());n=ax5.ui.formatter})();
(function(){var h=ax5.ui.formatter,n=ax5.util,r=new Date;h.formatter={ctrlKeys:{18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},numKeys:{48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},money:{getEnterableKeyCodes:function(k){var e=
{188:","};"int"!=k.patternArgument&&(e["190"]=".");return jQuery.extend(e,h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,h,r,z){r=r.replace(/[^0-9^\.^\-]/g,"");e=/([0-9])([0-9][0-9][0-9][,.])/;r=r.split(".");r[0]+=".";do r[0]=r[0].replace(e,"$1,$2");while(e.test(r[0]));return 1<r.length?n.isNumber(k.maxRound)?r[0]+n.left(r[1],k.maxRound):r.join(""):r[0].split(".")[0]}},number:{getEnterableKeyCodes:function(k){return jQuery.extend({190:".",110:"."},h.formatter.ctrlKeys,h.formatter.numKeys)},
getPatternValue:function(k,e,h,r,z){r=r.replace(/[^0-9^\.^\-]/g,"");e=r.split(".");e[0]+=".";return 1<e.length?n.isNumber(k.maxRound)?e[0]+n.left(e[1],k.maxRound):e.join(""):e[0].split(".")[0]}},date:{getEnterableKeyCodes:function(k){return jQuery.extend({189:"-",191:"/"},h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,h,w,z){w=w.replace(/\D/g,"");if(""==w)return w;e=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==k.patternArgument?e=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:
"year"==k.patternArgument?e=/^([0-9]{0,4})?.*$/:"month"==k.patternArgument&&(e=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);h=w.match(e);var D="",B=function(e,k,h,l){var f={Y:function(c){"undefined"==typeof c&&(c=r.getFullYear());if(""==c||"0000"==c)c=r.getFullYear();return 4>c.length?n.setDigit(c,4):c},M:function(c){"undefined"==typeof c&&(c=r.getMonth()+1);return 12<c?12:0==c?"01":n.setDigit(c,2)},D:function(c){"undefined"==typeof c&&(c=r.getDate()+1);var a=n.daysOfMonth(l[1],l[2]-1);return c>a?a:0==c?"01":
n.setDigit(c,2)},h:function(c){c||(c=0);return 23<c?23:n.setDigit(c,2)},m:function(c){c||(c=0);return 59<c?59:n.setDigit(c,2)},s:function(c){c||(c=0);return 59<c?59:n.setDigit(c,2)}};return h?f[k](e):e};D=w.replace(e,function(e,h){var p=[];"year"==k.patternArgument?p.push(B(arguments[1],"Y",z)):"month"==k.patternArgument?(p.push(B(arguments[1],"Y",z)),(arguments[2]||z)&&p.push("-"+B(arguments[2],"M",z))):"time"==k.patternArgument?(p.push(B(arguments[1],"Y",z)),(arguments[2]||z)&&p.push("-"+B(arguments[2],
"M",z)),(arguments[3]||z)&&p.push("-"+B(arguments[3],"D",z,arguments)),(arguments[4]||z)&&p.push(" "+B(arguments[4],"h",z)),(arguments[5]||z)&&p.push(":"+B(arguments[5],"m",z)),(arguments[6]||z)&&p.push(":"+B(arguments[6],"s",z))):(p.push(B(arguments[1],"Y",z)),(arguments[2]||z)&&p.push("-"+B(arguments[2],"M",z)),(arguments[3]||z)&&p.push("-"+B(arguments[3],"D",z,arguments)));return p.join("")});"blur"!=z||h?h||(D=4<D.length?n.left(D,4):D):D=function(){var e=[];"year"==k.patternArgument?e.push(B(0,
"Y",z)):"month"==k.patternArgument?(e.push(B(0,"Y",z)),e.push("-"+B(0,"M",z))):"time"==k.patternArgument?(e.push(B(0,"Y",z)),e.push("-"+B(0,"M",z)),e.push("-"+B(0,"D",z,arguments)),e.push(" "+B(0,"h",z)),e.push(":"+B(0,"m",z)),e.push(":"+B(0,"s",z))):(e.push(B(0,"Y",z)),e.push("-"+B(0,"M",z)),e.push("-"+B(0,"D",z,arguments)));return e.join("")}();return D}},time:{getEnterableKeyCodes:function(k){return jQuery.extend({186:":"},h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,
h,r,z){r=r.replace(/\D/g,"");e=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/;k=r.match(e);r=r.replace(e,function(e,k,h,n){e=[k];h&&e.push(":"+h);n&&e.push(":"+n);return e.join("")});k||(r=2<r.length?n.left(r,2):r);return r}},bizno:{getEnterableKeyCodes:function(k){return jQuery.extend({189:"-"},h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,h,n,r){n=n.replace(/\D/g,"");return n.replace(/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,function(e,k,h,n){e=[k];h&&e.push(h);
n&&e.push(n);return e.join("-")})}},phone:{getEnterableKeyCodes:function(k){return jQuery.extend({189:"-",188:","},h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,h,n,r){n=n.replace(/\D/g,"");k=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;"02"==n.substr(0,2)&&(k=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/);return n.replace(k,function(e,k,h,n,r,l){e=[k];h&&e.push(h);n&&e.push(n);r&&e.push(r);l&&e.push(l);return e.join("-")})}},
credit:{getEnterableKeyCodes:function(k){return jQuery.extend({189:"-"},h.formatter.ctrlKeys,h.formatter.numKeys)},getPatternValue:function(k,e,h,n,r){n=n.replace(/\D/g,"").substring(0,16);return n.replace(/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,function(e,k,h,n,r){e=[k];h&&e.push(h);n&&e.push(n);r&&e.push(r);return e.join("-")})}},custom:{getEnterableKeyCodes:function(k){return k.getEnterableKeyCodes?k.getEnterableKeyCodes.call(k,{$input:k.$input}):null},getPatternValue:function(k,
e,h,n,r){if(k.getPatternValue)return k.getPatternValue.call(k,{event:h,$input:k.$input,value:n})}}}})();ax5.ui.formatter_instance=new ax5.ui.formatter;jQuery.fn.ax5formatter=function(){return function(h){if(ax5.util.isString(h))switch(h){case "formatting":return ax5.ui.formatter_instance.formatting(this);case "unbind":return ax5.ui.formatter_instance.unbind(this)}else"undefined"==typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend({},h,{target:this});ax5.ui.formatter_instance.bind(h)});return this}}();
"use strict";
(function(){var h=ax5.ui,n=ax5.util;h.addClass({className:"menu"},function(){return function(){var k=this,e=void 0;this.instanceId=ax5.getGuid();this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0,columnKeys:{label:"label",items:"items"}};this.closeTimer=this.openTimer=null;this.queue=[];this.menuBar={};this.state=void 0;e=this.config;var y=function(e,h){e?(jQuery(document.body).off("click.ax5menu-"+this.instanceId).on("click.ax5menu-"+
this.instanceId,B.bind(this,h)),jQuery(window).off("keydown.ax5menu-"+this.instanceId).on("keydown.ax5menu-"+this.instanceId,function(e){e.which==ax5.info.eventKeys.ESC&&k.close()}),jQuery(window).on("resize.ax5menu-"+this.instanceId).on("resize.ax5menu-"+this.instanceId,function(e){k.close()})):(jQuery(document.body).off("click.ax5menu-"+this.instanceId),jQuery(window).off("keydown.ax5menu-"+this.instanceId),jQuery(window).off("resize.ax5menu-"+this.instanceId))},w=function(e,h){e&&e.onStateChanged?
e.onStateChanged.call(h,h):this.onStateChanged&&this.onStateChanged.call(h,h);k.state=h.state;return!0},z=function(e){this.onLoad&&this.onLoad.call(e,e);return!0},D=function a(h,l,f,c){var b=h,m=void 0,n=void 0;b.theme=h.theme||e.theme;b.cfg={icons:jQuery.extend({},e.icons),iconWidth:h.iconWidth||e.iconWidth,acceleratorWidth:h.acceleratorWidth||e.acceleratorWidth};l.forEach(function(a){a.html||a.divide?(a["@isMenu"]=!1,a.html&&(a["@html"]=a.html.call({item:a,config:e,opt:h}))):a["@isMenu"]=!0});b[e.columnKeys.items]=
l;b["@depth"]=f;b["@path"]=c||"root";b["@hasChild"]=function(){return this[e.columnKeys.items]&&0<this[e.columnKeys.items].length};m=jQuery(r.tmpl.get.call(this,"tmpl",b,e.columnKeys));jQuery(document.body).append(m);n=this.queue.splice(f);n.forEach(function(a){a.$target.remove()});this.queue.push({$target:m,data:jQuery.extend({},b)});m.find("[data-menu-item-index]").bind("mouseover",function(){var b=this.getAttribute("data-menu-item-depth"),d=this.getAttribute("data-menu-item-index"),c=this.getAttribute("data-menu-item-path"),
f=void 0,g=void 0,m=void 0,l=f=void 0;f=void 0;null!=b&&"undefined"!=typeof b&&(l=k.queue[b].data[e.columnKeys.items][d][e.columnKeys.items],f=k.queue[b].$target,f.find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),f.attr("data-selected-menu-item-index")!=d&&(f.attr("data-selected-menu-item-index",d),l&&0<l.length?(f=jQuery(this),g=f.offset(),m="fixed"==e.position?jQuery(document).scrollTop():0,f={"@parent":{left:g.left,top:g.top,width:f.outerWidth(),height:f.outerHeight()},
left:g.left+f.outerWidth()-e.menuBodyPadding,top:g.top-e.menuBodyPadding-1-m},f=jQuery.extend(!0,h,f),a.call(k,f,l,Number(b)+1,c)):k.queue.splice(Number(b)+1).forEach(function(a){a.$target.remove()})));f=l=f=m=g=f=c=d=b=null});m.find("[data-menu-item-index]").bind("mouseout",function(){var a=this.getAttribute("data-menu-item-depth"),b=this.getAttribute("data-menu-item-index"),c=void 0;this.getAttribute("data-menu-item-path")&&(c=k.queue[a].data[e.columnKeys.items][b][e.columnKeys.items]);c&&0<c.length||
jQuery(this).removeClass("hover")});0==f&&(b.direction&&m.addClass("direction-"+b.direction),w.call(this,null,{self:this,items:l,parent:function(a){if(!a)return!1;var b=null;try{b=Function("","return this.config.items["+a.substring(5).replace(/\./g,"].items[")+"];").call(k)}catch(u){}return b}(b["@path"]),state:"popup"}));p.call(this,m,b);z.call(this,{self:this,items:l,element:m.get(0)});c=f=l=h=n=m=b=null;return this},B=function(h,l){var f=void 0;f=void 0;if(f=n.findParentNode(l.target,function(c){if(c.getAttribute("data-menu-item-index"))return!0})){"undefined"===
typeof h&&(h={});f=function(c){if(!c)return!1;var a=void 0;try{a=Function("","return this["+c.substring(5).replace(/\./g,"]."+e.columnKeys.items+"[")+"];").call(h.items||e.items)}catch(b){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}return a}(f.getAttribute("data-menu-item-path"));if(!f)return this;f.check&&(function(c){var a={checkbox:function(a){this.checked=!a},radio:function(a){var b=this.name;c.forEach(function(a){a.check&&"radio"===a.check.type&&a.check.name==b&&(a.check.checked=
!1)});this.checked=!a}};a[this.type]&&a[this.type].call(this,this.checked);a=null}.call(f.check,e.items),e.itemClickAndClose||k.queue.forEach(function(c){c.$target.find("[data-menu-item-index]").each(function(){var a=c.data[e.columnKeys.items][this.getAttribute("data-menu-item-index")];a.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",a.check.checked)})}));k.onClick&&k.onClick.call(f,f,h.param)&&k.close();f[e.columnKeys.items]&&0!=f[e.columnKeys.items].length||!e.itemClickAndClose||
k.close()}else k.close();f=f=null;return this},p=function(h,l){var f=jQuery(window),c=jQuery(document);c="fixed"==e.position?f.height():c.height();f=f.width();var a=h.outerHeight(),b=h.outerWidth(),m=l.left,k=l.top,p=e.position||"fixed";m+b>f&&(m=l["@parent"]?l["@parent"].left-b+e.menuBodyPadding:f-b);k+a>c&&(k=c-a);h.css({left:m,top:k,position:p});return this};this.init=function(){this.onStateChanged=e.onStateChanged;this.onClick=e.onClick;this.onLoad=e.onLoad;w.call(this,null,{self:this,state:"init"})};
this.popup=function(){var h={event:function(f,c){f={left:f.clientX,top:"fixed"==e.position?f.clientY:f.pageY,width:e.width,theme:e.theme};f.left-=5;f.top-=5;e.offset&&(e.offset.left&&(f.left+=e.offset.left),e.offset.top&&(f.top+=e.offset.top));return c=jQuery.extend(!0,f,c)},object:function(f,c){f={left:f.left,top:f.top,width:f.width||e.width,theme:f.theme||e.theme};e.offset&&(e.offset.left&&(f.left+=e.offset.left),e.offset.top&&(f.top+=e.offset.top));return c=jQuery.extend(!0,f,c)}},l=function(f){f&&
(e.theme=f)};return function(f,c){if(!f)return this;c=h["undefined"==typeof f.clientX?"object":"event"].call(this,f,c);l(c.theme);f=[].concat(e.items);var a=void 0;c.items=f;c.filter&&(a=function(b){var f=[];b.forEach(function(b){b.items&&0<b.items.length&&(b.items=a(b.items));c.filter.call(b)&&f.push(b)});return f},c.items=f=a(f));f.length&&(y.call(this,!1),D.call(this,c,f,0),this.popupEventAttachTimer&&clearTimeout(this.popupEventAttachTimer),this.popupEventAttachTimer=setTimeout(function(){y.call(this,
!0,c)}.bind(this),500));f=null;return this}}();this.attach=function(){var h={object:function(c,a){c={left:c.left,top:c.top,width:c.width||e.width,theme:c.theme||e.theme,direction:c.direction||e.direction};return a=jQuery.extend(!0,a,c)}},l=function(c,a,b){var f=jQuery(c),l=f.offset(),p=f.outerHeight(),d=Number(c.getAttribute("data-menu-item-index")),u="fixed"==e.position?jQuery(document).scrollTop():0;if(e.items&&e.items[d][e.columnKeys.items]&&e.items[d][e.columnKeys.items].length){if(k.menuBar.openedIndex==
d)return"click"==b&&k.close(),!1;k.menuBar.target.find("[data-menu-item-index]").removeClass("hover");k.menuBar.opened=!0;k.menuBar.openedIndex=d;f.attr("data-menu-item-opened","true");f.addClass("hover");e.offset&&(e.offset.left&&(l.left+=e.offset.left),e.offset.top&&(l.top+=e.offset.top));a=h.object.call(this,{left:l.left,top:l.top+p-u},a);D.call(k,a,e.items[d][e.columnKeys.items],0,"root."+c.getAttribute("data-menu-item-index"));y.call(k,!0,{})}},f=function(c,a,b){a=jQuery(c);a.offset();a.outerHeight();
c=Number(c.getAttribute("data-menu-item-index"));"fixed"==e.position&&jQuery(document).scrollTop();!e.items||e.items[c][e.columnKeys.items]&&0!=e.items[c][e.columnKeys.items].length||k.onClick&&k.onClick.call(e.items[c],e.items[c])};return function(c,a){var b={},m=e.items;"undefined"===typeof a&&(a={});b.theme=a.theme||e.theme;b.cfg={icons:jQuery.extend({},e.icons),iconWidth:a.iconWidth||e.iconWidth,acceleratorWidth:a.acceleratorWidth||e.acceleratorWidth};m.forEach(function(b){b.html||b.divide?(b["@isMenu"]=
!1,b.html&&(b["@html"]=b.html.call({item:b,config:e,opt:a}))):b["@isMenu"]=!0});b[e.columnKeys.items]=m;b=jQuery(r.tmpl.get.call(this,"tmplMenubar",b,e.columnKeys));k.menuBar={target:jQuery(c),opened:!1};k.menuBar.target.html(b);k.menuBar.target.bind("click",function(b){if(!b)return this;if(b=n.findParentNode(b.target,function(a){if(a.getAttribute("data-menu-item-index"))return!0}))f(b,a,"click"),l(b,a,"click");b=null});k.menuBar.target.bind("mouseover",function(b){if(!k.menuBar.opened)return!1;(b=
n.findParentNode(b.target,function(a){if(a.getAttribute("data-menu-item-index"))return!0}))&&l(b,a,"mouseover");b=null});b=m=b=a=c=null;return this}}();this.close=function(){k.menuBar&&k.menuBar.target&&(k.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),k.menuBar.opened=!1,k.menuBar.openedIndex=null);y.call(this,!1);this.queue.forEach(function(e){e.$target.remove()});this.queue=[];w.call(this,null,{self:this,state:"close"});return this};this.getCheckValue=function(){var h={},l=
function(f){for(var c=f.length;c--;)f[c].check&&f[c].check.checked&&(h[f[c].check.name]?(n.isString(h[f[c].check.name])&&(h[f[c].check.name]=[h[f[c].check.name]]),h[f[c].check.name].push(f[c].check.value)):h[f[c].check.name]=f[c].check.value),f[c].items&&0<f[c].items.length&&l(f[c].items)};l(e.items);try{return h}finally{l=h=null}};this.main=function(){h.menu_instance=h.menu_instance||[];h.menu_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());
var r=ax5.ui.menu})();
(function(){var h=ax5.ui.menu;h.tmpl={tmpl:function(h){return'\n        <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n            <div class="ax-menu-body">\n                {{#'+h.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                            {{#check}}\n                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class="item-checkbox-wrap"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+h.label+
'}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/'+
h.items+'}}\n            </div>\n            <div class="ax-menu-arrow"></div>\n        </div>\n        '},tmplMenubar:function(h){return'\n        <div class="ax5-ui-menubar {{theme}}">\n            <div class="ax-menu-body">\n                {{#'+h.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+
h.label+"}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/"+h.items+"}}\n            </div>\n        </div>\n        "},get:function(n,r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();"use strict";
(function(){var h=ax5.util,n=void 0;ax5.ui.addClass({className:"select"},function(){return function(){var r=this,k=void 0;this.instanceId=ax5.getGuid();this.config={theme:"default",animateTime:100,lang:{noSelected:"",noOptions:"no options",loading:"now loading..",multipleLabel:'"{{label}}"\uc678 {{length}}\uac74'},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};this.queue=[];this.activeSelectOptionGroup=null;this.activeSelectQueueIndex=-1;this.keyUpTimer=this.waitOptionsCallback=
this.closeTimer=this.openTimer=null;this.xvar={};k=this.config;var e=jQuery(window),y={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},w=function(a,c){a&&a.onStateChanged?a.onStateChanged.call(c,c):this.onStateChanged&&this.onStateChanged.call(c,c);
"changeValue"==c.state&&(a&&a.onChange?a.onChange.call(c,c):this.onChange&&this.onChange.call(c,c));return!0},z=function(){for(var a=this.queue.length,c;a--;)this.queue[a].$display&&(c=Math.max(this.queue[a].$select.outerWidth(),h.number(this.queue[a].minWidth)),this.queue[a].$display.css({"min-width":c}),this.queue[a].reset&&this.queue[a].$display.find(".addon-icon-reset").css({"line-height":this.queue[a].$display.height()+"px"}));return this},D=function(a){if(!this.activeSelectOptionGroup)return this;
var b=this.queue[this.activeSelectQueueIndex],c={},f=void 0;a&&jQuery(document.body).append(this.activeSelectOptionGroup);c=b.$target.offset();var d=b.$target.outerWidth();var l=b.$target.outerHeight();e.width();jQuery(document.body).width();var h=Math.max(e.height(),jQuery(document.body).height());this.activeSelectOptionGroup.outerWidth();var g=this.activeSelectOptionGroup.outerHeight();b.direction&&""!==b.direction&&"auto"!==b.direction?f=b.direction:(f="top",0>c.top-g?f="top":c.top+l+g+0>h&&(f=
"bottom"));a&&this.activeSelectOptionGroup.addClass("direction-"+f);this.activeSelectOptionGroup.css(function(){if("top"==f){if(c.top+l+g+0>h){var a=c.top+l/2-g/2;a+g+0>h&&(a=0);0>a&&(a=0);return{left:c.left,top:a,width:d}}return{left:c.left,top:c.top+l+1,width:d}}if("bottom"==f)return{left:c.left,top:c.top-g-1,width:d}}.call(this))},B=function(a,c){if(!this.activeSelectOptionGroup)return this;var b=this.queue[this.activeSelectQueueIndex],f="display";c=h.findParentNode(a.target,function(a){if(a.getAttribute("data-option-value")||
""==a.getAttribute("data-option-value"))return f="optionItem",!0;if(b.$target.get(0)==a)return f="display",!0});c?"optionItem"===f&&(this.val(b.id,{index:{gindex:c.getAttribute("data-option-group-index"),index:c.getAttribute("data-option-index")}},void 0,"internal"),b.$select.trigger("change"),b.$display.focus(),b.multiple||this.close()):this.close();return this},p=function(a){var b=this.queue[a],c=[];h.isArray(b.selected)&&0<b.selected.length?b.selected.forEach(function(a){a.selected&&c.push(a[b.columnKeys.optionText])}):
c[0]=!b.multiple&&b.options&&b.options[0]?b.options[0].optgroup?b.options[0].options[0][b.columnKeys.optionText]:b.options[0][b.columnKeys.optionText]:b.lang.noSelected;return b.multiple&&1<c.length?ax5.mustache.render(b.lang.multipleLabel,{label:c[0],length:c.length-1}):c[0]},F=function(a){this.queue[a].$displayLabel.html(p.call(this,a))},E=function(a,c){var b=[],f=-1,d=this.queue[a].indexedOptions.length-1,e=void 0;if(c){for(;d-f++;)if(e=this.queue[a].indexedOptions[f],(""+e.value).toLowerCase()==
c.toLowerCase()){b=[{"@findex":e["@findex"],optionsSort:0}];break}else{var m=(""+e.value).toLowerCase().search(c.toLowerCase());if(-1<m&&(b.push({"@findex":e["@findex"],optionsSort:m}),2<b.length))break;m=null}b.sort(function(a,b){return a.optionsSort-b.optionsSort})}b&&0<b.length&&l.call(this,a,void 0,b[0]["@findex"]);try{return b}finally{e=d=f=b=null}},l=function(a,c,f){if(this.activeSelectOptionGroup&&this.queue[a].options&&0<this.queue[a].options.length){"undefined"!==typeof f?c=f:(f=-1==this.queue[a].optionFocusIndex?
this.queue[a].optionSelectedIndex||-1:this.queue[a].optionFocusIndex,-1==f?c=0<c?0:this.queue[a].optionItemLength-1:(c=f+c,0>c?c=0:c>this.queue[a].optionItemLength-1&&(c=this.queue[a].optionItemLength-1)));this.queue[a].optionFocusIndex=c;this.activeSelectOptionGroup.find("[data-option-focus-index]").removeClass("hover");var b=this.activeSelectOptionGroup.find('[data-option-focus-index="'+c+'"]').addClass("hover");a=this.activeSelectOptionGroup.find('[data-els="content"]');c=b.outerHeight();f=a.innerHeight();
var d=a.scrollTop();b=b.position().top+a.scrollTop();f+d<b+c?a.scrollTop(b+c-f):d>b&&a.scrollTop(b)}},f=function(){var a=h.debounce(function(a,b){E.call(r,b,a);r.queue[b].$displayInput.val("")},300),f={click:function(a,b){h.findParentNode(b.target,function(a){if(a.getAttribute("data-selected-clear"))return!0})?this.val(a,{clear:!0}):r.activeSelectQueueIndex==a?-1==this.queue[a].optionFocusIndex&&r.close():(r.open(a),h.stopEvent(b))},keyUp:function(b,c){c.which==ax5.info.eventKeys.SPACE?f.click.call(this,
b,c):y[c.which]||a(this.queue[b].$displayInput.val(),b)},keyDown:function(a,b){b.which==ax5.info.eventKeys.DOWN?(l.call(this,a,1),h.stopEvent(b)):b.which==ax5.info.eventKeys.UP&&(l.call(this,a,-1),h.stopEvent(b))},blur:function(a,b){},selectChange:function(a,b){this.val(a,this.queue[a].$select.val(),!0)}};return function(a){var b=this.queue[a],d={};b.selected=[];b.options||(b.options=[]);b.options.forEach(function(a){a[k.columnKeys.optionSelected]&&b.selected.push(jQuery.extend({},a))});b.$display?
(b.$displayLabel.html(p.call(this,a)),b.options=c.call(this,a,b.options),z.call(this)):(d.instanceId=this.instanceId,d.id=b.id,d.name=b.name,d.theme=b.theme,d.tabIndex=b.tabIndex,d.multiple=b.multiple,d.reset=b.reset,d.label=p.call(this,a),d.formSize=b.size?"input-"+b.size:"",b.$display=n.tmpl.get.call(this,"tmpl",d),b.$displayLabel=b.$display.find('[data-ax5select-display="label"]'),b.$target.find("select").get(0)?(b.$select=b.$target.find("select"),b.$select.attr("tabindex","-1").attr("class","form-control "+
d.formSize),d.name&&b.$select.attr("name","name"),d.multiple&&b.$select.attr("multiple","multiple")):(b.$select=n.tmpl.get.call(this,"selectTmpl",d),b.$target.append(b.$select)),b.$target.append(b.$display),b.$displayInput=b.$display.find('[data-ax5select-display="input"]'),b.options=c.call(this,a,b.options),z.call(this),b.$displayInput.unbind("blur.ax5select").bind("blur.ax5select",f.blur.bind(this,a)).unbind("keyup.ax5select").bind("keyup.ax5select",f.keyUp.bind(this,a)).unbind("keydown.ax5select").bind("keydown.ax5select",
f.keyDown.bind(this,a)));b.$display.unbind("click.ax5select").bind("click.ax5select",f.click.bind(this,a)).unbind("keyup.ax5select").bind("keyup.ax5select",f.keyUp.bind(this,a));b.$select.unbind("change.ax5select").bind("change.ax5select",f.selectChange.bind(this,a));a=b=d=null;return this}}(),c=function(){var a=function(a,b){b?this.queue[a].multiple?this.queue[a].selected.push(jQuery.extend({},b)):this.queue[a].selected[0]=jQuery.extend({},b):this.queue[a].selected=[]};return function(b,c){var f=
this.queue[b],d=void 0,e=void 0,l=void 0,g=0;a.call(this,b,!1);c?(f.options=c,f.indexedOptions=[],d=[],f.options.forEach(function(c,e){c.optgroup?(c["@gindex"]=e,c.options.forEach(function(c,e){c["@index"]=e;c["@findex"]=g;d.push('<option value="'+c[f.columnKeys.optionValue]+'" '+(c[f.columnKeys.optionSelected]?' selected="selected"':"")+">"+c[f.columnKeys.optionText]+"</option>");c[f.columnKeys.optionSelected]&&a.call(r,b,c);f.indexedOptions.push({"@findex":g,value:c[f.columnKeys.optionValue],text:c[f.columnKeys.optionText]});
g++})):(c["@index"]=e,c["@findex"]=g,d.push('<option value="'+c[f.columnKeys.optionValue]+'" '+(c[f.columnKeys.optionSelected]?' selected="selected"':"")+">"+c[f.columnKeys.optionText]+"</option>"),c[f.columnKeys.optionSelected]&&a.call(r,b,c),f.indexedOptions.push({"@findex":g,value:c[f.columnKeys.optionValue],text:c[f.columnKeys.optionText]}),g++)}),f.optionItemLength=g,f.$select.html(d.join(""))):(e=h.toArray(f.$select.get(0).options),l=[],e.forEach(function(d,c){var g={};g[f.columnKeys.optionValue]=
d.value;g[f.columnKeys.optionText]=d.text;g[f.columnKeys.optionSelected]=d.selected;g["@index"]=c;g["@findex"]=c;d.selected&&a.call(r,b,g);l.push(g)}),f.options=l,f.indexedOptions=l);!f.multiple&&0==f.selected.length&&f.options&&f.options[0]&&(f.options[0].optgroup?(f.options[0].options[0][f.columnKeys.optionSelected]=!0,f.selected.push(jQuery.extend({},f.options[0].options[0]))):(f.options[0][f.columnKeys.optionSelected]=!0,f.selected.push(jQuery.extend({},f.options[0]))));l=e=d=null;return f.options}}(),
a=function(a){h.isString(a)||(a=jQuery(a).data("data-ax5select-id"));if(h.isString(a))return h.search(this.queue,function(){return this.id==a});console.log(ax5.info.getError("ax5select","402","getQueIdx"))};this.init=function(){this.onStateChanged=k.onStateChanged;this.onChange=k.onChange;jQuery(window).bind("resize.ax5select-display-"+this.instanceId,function(){z.call(this)}.bind(this))};this.bind=function(a){var b={},c=void 0;a=jQuery.extend(!0,b,k,a);if(!a.target)return console.log(ax5.info.getError("ax5select",
"401","bind")),this;a.$target=jQuery(a.target);a.id||(a.id=a.$target.data("data-ax5select-id"));a.id||(a.id="ax5select-"+ax5.getGuid(),a.$target.data("data-ax5select-id",a.id));a.name=a.$target.attr("data-ax5select");a.options&&(a.options=JSON.parse(JSON.stringify(a.options)));(function(b){h.isObject(b)&&!b.error&&(a=jQuery.extend(!0,a,b))})(h.parseJson(a.$target.attr("data-ax5select-config"),!0));c=h.search(this.queue,function(){return this.id==a.id});-1===c?(this.queue.push(a),f.call(this,this.queue.length-
1)):(this.queue[c].selected=[],this.queue[c].options=a.options,this.queue[c]=jQuery.extend(!0,{},this.queue[c],a),f.call(this,c));c=b=null;return this};this.open=function(){var b=function(a){a.onExpand.call({self:this,item:a},function(a){if(this.waitOptionsCallback){var b={},d=this.queue[this.activeSelectQueueIndex];(function(a,b){var c={};b.options.forEach(function(b,d){b["@index"]=d;c[b[a.columnKeys.optionValue]]=b});h.isArray(a.selected)&&a.selected.forEach(function(d){c[d[a.columnKeys.optionValue]]&&
(b.options[c[d[a.columnKeys.optionValue]]["@index"]][a.columnKeys.optionSelected]=!0)})})(d,a);d.$displayLabel.html(p.call(this,this.activeSelectQueueIndex));d.options=c.call(this,this.activeSelectQueueIndex,a.options);z.call(this);b.id=d.id;b.theme=d.theme;b.size="ax5select-option-group-"+d.size;b.multiple=d.multiple;b.lang=d.lang;b.options=d.options;this.activeSelectOptionGroup.find('[data-els="content"]').html(n.tmpl.get.call(this,"optionsTmpl",b,d.columnKeys))}}.bind(this))};return function(c,
f){this.waitOptionsCallback=null;var e=h.isNumber(c)?c:a.call(this,c),d=this.queue[e];c={};var l=void 0;l=void 0;if(d.$display.attr("disabled"))return this;this.openTimer&&clearTimeout(this.openTimer);if(this.activeSelectOptionGroup){if(this.activeSelectQueueIndex==e||2<f)return this;this.close();this.openTimer=setTimeout(function(){this.open(e,(f||0)+1)}.bind(this),k.animateTime);return this}d.optionFocusIndex=-1;d.selected&&0<d.selected.length&&(d.optionSelectedIndex=d.selected[0]["@findex"]);c.id=
d.id;c.theme=d.theme;c.size="ax5select-option-group-"+d.size;c.multiple=d.multiple;c.lang=d.lang;d.$display.attr("data-select-option-group-opened","true");d.onExpand&&(c.waitOptions=!0);c.options=d.options;this.activeSelectOptionGroup=n.tmpl.get.call(this,"optionGroupTmpl",c);this.activeSelectOptionGroup.find('[data-els="content"]').html(n.tmpl.get.call(this,"optionsTmpl",c,d.columnKeys));this.activeSelectQueueIndex=e;D.call(this,"append");jQuery(window).bind("resize.ax5select-"+this.instanceId,function(){D.call(this)}.bind(this));
d.selected&&0<d.selected.length&&(l=this.activeSelectOptionGroup.find('[data-option-index="'+d.selected[0]["@index"]+'"]'),l.get(0)&&(l=l.position().top-this.activeSelectOptionGroup.height()/3,this.activeSelectOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:l},d.animateTime,"swing",function(){})));d.$displayInput.val("");setTimeout(function(){d.$displayInput.trigger("focus");jQuery(window).bind("keyup.ax5select-"+this.instanceId,function(a){var b=a=a||window.event;b.keyCode==ax5.info.eventKeys.ESC?
this.close():b.which==ax5.info.eventKeys.RETURN&&(-1<this.queue[this.activeSelectQueueIndex].optionFocusIndex?(b=this.activeSelectOptionGroup.find('[data-option-focus-index="'+this.queue[this.activeSelectQueueIndex].optionFocusIndex+'"]'),this.val(this.queue[this.activeSelectQueueIndex].id,{index:{gindex:b.attr("data-option-group-index"),index:b.attr("data-option-index")}},void 0,"internal"),this.queue[this.activeSelectQueueIndex].$select.trigger("change"),this.queue[this.activeSelectQueueIndex].multiple||
this.close()):this.close());h.stopEvent(a)}.bind(this));jQuery(window).bind("click.ax5select-"+this.instanceId,function(a){a=a||window.event;B.call(this,a);h.stopEvent(a)}.bind(this))}.bind(this),300);w.call(this,d,{self:this,state:"open",item:d});d.onExpand&&(this.waitOptionsCallback=!0,b.call(this,d));l=l=c=null;return this}}();this.update=function(a){this.bind(a);return this};this.setOptions=function(b,c){b=a.call(this,b);this.queue[b].selected=[];this.queue[b].options=c;f.call(this,b);return this};
this.val=function(){var b=function(a,b,c){return"undefined"===typeof c?a.multiple?!b:!0:c},f=function(a){this.queue[a].options.forEach(function(a){a.optgroup?a.options.forEach(function(a){a.selected=!1}):a.selected=!1})},e={index:function(a,d,f){var e=this.queue[a];h.isString(d.index.gindex)?(e.options[d.index.gindex].options[d.index.index][e.columnKeys.optionSelected]=b(e,e.options[d.index.gindex].options[d.index.index][e.columnKeys.optionSelected],f),r.activeSelectOptionGroup.find('[data-option-group-index="'+
d.index.gindex+'"][data-option-index="'+d.index.index+'"]').attr("data-option-selected",e.options[d.index.gindex].options[d.index.index][e.columnKeys.optionSelected].toString())):(e.options[d.index.index][e.columnKeys.optionSelected]=b(e,e.options[d.index.index][e.columnKeys.optionSelected],f),r.activeSelectOptionGroup.find('[data-option-index="'+d.index.index+'"]').attr("data-option-selected",e.options[d.index.index][e.columnKeys.optionSelected].toString()));c.call(this,a,e.options);F.call(this,
a);D.call(this)},arr:function(a,b,c){b.forEach(function(b){if(h.isString(b)||h.isNumber(b))e.value.call(r,a,b,c);else for(var d in e)if(b[d]){e[d].call(r,a,b,c);break}})},value:function(a,d,f){var e=this.queue[a],g=h.search(e.options,function(){return this[e.columnKeys.optionValue]==d});-1<g?(e.options[g][e.columnKeys.optionSelected]=b(e,e.options[g][e.columnKeys.optionSelected],f),c.call(this,a,e.options),F.call(this,a)):console.log(ax5.info.getError("ax5select","501","val"))},text:function(a,d,
f){var e=this.queue[a],g=h.search(e.options,function(){return this[e.columnKeys.optionText]==d});-1<g?(e.options[g][e.columnKeys.optionSelected]=b(e,e.options[g][e.columnKeys.optionSelected],f),c.call(this,a,e.options),F.call(this,a)):console.log(ax5.info.getError("ax5select","501","val"))},clear:function(a){f.call(this,a);c.call(this,a,this.queue[a].options);F.call(this,a);this.activeSelectOptionGroup&&this.activeSelectOptionGroup.find("[data-option-index]").attr("data-option-selected","false")}};
return function(b,c,l,m){b=h.isNumber(b)?b:a.call(this,b);if(!this.queue[b])return this;"undefined"===typeof c||this.queue[b].multiple||f.call(this,b);if("undefined"==typeof c)return this.queue[b].selected;if(h.isArray(c))e.arr.call(this,b,c,l);else if(h.isString(c)||h.isNumber(c))e.value.call(this,b,c,l);else if(null===c)e.clear.call(this,b);else for(var d in e)if(c[d]){e[d].call(this,b,c,l);break}"undefined"!==typeof c&&w.call(this,this.queue[b],{self:this,item:this.queue[b],state:m?"changeValue":
"setValue",value:this.queue[b].selected,internal:m});return this}}();this.close=function(a){this.closeTimer&&clearTimeout(this.closeTimer);if(!this.activeSelectOptionGroup)return this;a=this.queue[this.activeSelectQueueIndex];a.optionFocusIndex=-1;a.$displayInput.val("").trigger("blur");a.$display.removeAttr("data-select-option-group-opened").trigger("focus");this.activeSelectOptionGroup.addClass("destroy");jQuery(window).unbind("resize.ax5select-"+this.instanceId).unbind("click.ax5select-"+this.instanceId).unbind("keyup.ax5select-"+
this.instanceId);this.closeTimer=setTimeout(function(){this.activeSelectOptionGroup&&this.activeSelectOptionGroup.remove();this.activeSelectOptionGroup=null;this.activeSelectQueueIndex=-1;var b={self:this,item:a,value:a.selected,state:"close"};w.call(this,a,b);a.onClose&&a.onClose.call(b)}.bind(this),k.animateTime);this.waitOptionsCallback=null;return this};this.enable=function(b){b=a.call(this,b);this.queue[b].$display.removeAttr("disabled");this.queue[b].$select.removeAttr("disabled");w.call(this,
this.queue[b],{self:this,state:"enable"});return this};this.disable=function(b){b=a.call(this,b);this.queue[b].$display.attr("disabled","disabled");this.queue[b].$select.attr("disabled","disabled");w.call(this,this.queue[b],{self:this,state:"disable"});return this};this.main=function(){arguments&&h.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}}());n=ax5.ui.select})();ax5.ui.select_instance=new ax5.ui.select;
jQuery.fn.ax5select=function(){return function(h,n,r){if(ax5.util.isString(h))switch(h){case "open":return ax5.ui.select_instance.open(this);case "close":return ax5.ui.select_instance.close(this);case "setValue":return ax5.ui.select_instance.val(this,n,r);case "getValue":return ax5.ui.select_instance.val(this);case "enable":return ax5.ui.select_instance.enable(this);case "disable":return ax5.ui.select_instance.disable(this);case "setOptions":return ax5.ui.select_instance.setOptions(this,n)}else"undefined"==
typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend({},h,{target:this});ax5.ui.select_instance.bind(h)});return this}}();
(function(){var h=ax5.ui.select;h.tmpl={optionGroupTmpl:function(h){return'\n<div class="ax5select-option-group {{theme}} {{size}}" data-ax5select-option-group="{{id}}">\n    <div class="ax-select-body">\n        <div class="ax-select-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-select-arrow"></div> \n</div>\n'},tmpl:function(h){return'\n<a {{^tabIndex}}href="#ax5select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="form-control {{formSize}} ax5select-display {{theme}}" \ndata-ax5select-display="{{id}}" data-ax5select-instance="{{instanceId}}">\n    <div class="ax5select-display-table" data-els="display-table">\n        <div data-ax5select-display="label">{{label}}</div>\n        <div data-ax5select-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n    <input type="text" tabindex="-1" data-ax5select-display="input" \n    style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;border: 0px none;color : transparent;text-indent: -9999em;" />\n</a>\n'},selectTmpl:function(h){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n'},
optionsTmpl:function(h){return'\n{{#waitOptions}}\n    <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{#optgroup}}\n            <div class="ax-select-option-group">\n                <div class="ax-select-option-item-holder">\n                    <span class="ax-select-option-group-label">\n                        {{{.}}}\n                    </span>\n                </div>\n                {{#options}}\n                <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                data-option-value="{{'+
h.optionValue+'}}" \n                {{#'+h.optionSelected+'}}data-option-selected="true"{{/'+h.optionSelected+'}}>\n                    <div class="ax-select-option-item-holder">\n                        {{#multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                        </span>\n                        {{/multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-label">{{{'+
h.optionText+'}}}</span>\n                    </div>\n                </div>\n                {{/options}}\n            </div>                            \n        {{/optgroup}}\n        {{^optgroup}}\n        <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+h.optionValue+'}}" {{#'+h.optionSelected+'}}data-option-selected="true"{{/'+h.optionSelected+'}}>\n            <div class="ax-select-option-item-holder">\n                {{#multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                </span>\n                {{/multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-label">{{{'+
h.optionText+'}}}</span>\n            </div>\n        </div>\n        {{/optgroup}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},get:function(n,r,k){return jQuery(ax5.mustache.render(h.tmpl[n].call(this,
k),r))}}})();"use strict";$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};
(function(){var h=ax5.ui,n=ax5.util,r=void 0;h.addClass({className:"grid"},function(){return function(){var k=this,e=void 0,y={33:"KEY_PAGEUP",34:"KEY_PAGEDOWN",35:"KEY_END",36:"KEY_HOME",37:"KEY_LEFT",38:"KEY_UP",39:"KEY_RIGHT",40:"KEY_DOWN"};this.instanceId=ax5.getGuid();this.config={theme:"default",animateTime:250,debounceTime:250,appendDebouncer:null,appendDebounceTimes:0,appendProgressIcon:"...",appendProgress:!1,frozenColumnIndex:0,frozenRowIndex:0,showLineNumber:!1,showRowSelector:!1,multipleSelect:!0,
virtualScrollY:!0,virtualScrollX:!0,headerSelect:!0,virtualScrollYCountMargin:0,virtualScrollAccelerated:!0,virtualScrollAcceleratedDelayTime:100,height:0,columnMinWidth:100,lineNumberColumnWidth:30,rowSelectorColumnWidth:26,sortable:void 0,remoteSort:!1,header:{display:!0,align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,selector:!0},body:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,grouping:!1,mergeCells:!1},rightSum:!1,footSum:!1,page:{height:25,display:!0,statusDisplay:!0,
navigationItemCount:5},scroller:{size:15,barMinSize:15,trackPadding:4},columnKeys:{selected:"__selected__",modified:"__modified__",deleted:"__deleted__",disableSelection:"__disable_selection__"},tree:{use:!1,hashDigit:8,indentWidth:10,arrowWidth:15,iconWidth:18,icons:{openedArrow:"\u25be",collapsedArrow:"\u25b8",groupIcon:"\u229a",collapsedGroupIcon:"\u229a",itemIcon:"\u2299"},columnKeys:{parentKey:"pid",selfKey:"id",collapse:"collapse",hidden:"hidden",parentHash:"__hp__",selfHash:"__hs__",children:"__children__",
depth:"__depth__"}}};this.xvar={bodyTrHeight:0,scrollContentWidth:0,scrollContentHeight:0,scrollTimer:null};this.columns=[];this.colGroup=[];this.footSumColumns=[];this.bodyGrouping={};this.list=[];this.proxyList=null;this.page={};this.selectedDataIndexs=[];this.selectedDataIndexsBF=this.selectedDataAgid=null;this.deletedList=[];this.sortInfo={};this.focusedColumn={};this.selectedColumn={};this.isInlineEditing=!1;this.inlineEditing={};this.listIndexMap={};this.contextMenu=null;this.headerTable={};
this.leftHeaderData={};this.headerData={};this.rightHeaderData={};this.bodyRowTable={};this.leftBodyRowData={};this.bodyRowData={};this.rightBodyRowData={};this.bodyRowMap={};this.bodyGroupingTable={};this.leftBodyGroupingData={};this.bodyGroupingData={};this.rightBodyGroupingData={};this.bodyGroupingMap={};this.footSumTable={};this.leftFootSumData={};this.footSumData={};this.needToPaintSum=!0;e=this.config;var w=function(l){this.columns=n.deepCopy(l);this.headerTable=r.util.makeHeaderTable.call(this,
this.columns);this.xvar.frozenColumnIndex=e.frozenColumnIndex||0;this.bodyRowTable=r.util.makeBodyRowTable.call(this,this.columns);this.bodyRowMap=r.util.makeBodyRowMap.call(this,this.bodyRowTable);this.xvar.bodyTrHeight=this.bodyRowTable.rows.length*this.config.body.columnHeight;l={};for(var f=0,c=this.headerTable.rows.length;f<c;f++)for(var a=this.headerTable.rows[f],b=0,m=a.cols.length;b<m;b++)l[a.cols[b].colIndex]=jQuery.extend({},a.cols[b]);this.colGroup=[];for(var h in l)this.colGroup.push(l[h]);
return this},z=function(){w.call(this,this.config.columns);D.call(this);this.config.footSum&&(B.call(this,this.config.footSum),this.needToPaintSum=!0);this.config.body.grouping&&p.call(this,this.config.body.grouping);F.call(this,!0);r.header.repaint.call(this,!0);r.body.repaint.call(this,!0);r.scroller.resize.call(this)},D=function(){var l=this.$.container.root.width(),f=0;e.showLineNumber&&(f+=e.lineNumberColumnWidth);e.showRowSelector&&(f+=e.rowSelectorColumnWidth);f+=e.scroller.size;var c=l-f,
a=0;l=[];f=this.colGroup;var b;var m=0;for(b=f.length;m<b;m++)n.isNumber(f[m].width)?a+=f[m]._width=f[m].width:"*"===f[m].width?l.push(m):"%"===n.right(f[m].width,1)&&(a+=f[m]._width=c*n.left(f[m].width,"%")/100);if(0<l.length)for(c=(c-a)/l.length,m=0,b=l.length;m<b;m++)f[l[m]]._width=c},B=function(e){n.isArray(e)?this.footSumTable=r.util.makeFootSumTable.call(this,this.footSumColumns=e):(this.footSumColumns=[],this.footSumTable={})},p=function(l){l=jQuery.extend({},l);if("by"in l&&"columns"in l){this.bodyGrouping=
{by:l.by,columns:l.columns};this.bodyGroupingTable=r.util.makeBodyGroupingTable.call(this,this.bodyGrouping.columns);l={};for(var f=0,c=this.bodyGrouping.by.length;f<c;f++){l[this.bodyGrouping.by[f]]={orderBy:"asc",seq:f,fixed:!0};for(var a=0,b=this.colGroup.length;a<b;a++)this.colGroup[a].key===this.bodyGrouping.by[f]&&(this.colGroup[a].sort="asc",this.colGroup[a].sortFixed=!0)}this.sortInfo=l}else e.body.grouping=!1},F=function(l){if(5>Math.min(this.$target.innerWidth(),this.$target.innerHeight()))return!1;
this.config.height||this.$.container.root.css({height:this.config._height=this.$target.height()});var f=this.$.container.root.width(),c=this.$.container.root.height(),a=f,b=c,m=e.asidePanelWidth=function(){var a=0;e.showLineNumber&&(a+=e.lineNumberColumnWidth);e.showRowSelector&&(a+=e.rowSelectorColumnWidth);return a}(),h=e.frozenPanelWidth=function(a,b){for(var c=0,d=0;d<b;d++)c+=a[d]._width;return c}(this.colGroup,e.frozenColumnIndex),k=void 0,d=void 0,u=void 0,p=e.frozenRowIndex*this.xvar.bodyTrHeight,
g=this.footSumColumns.length*this.xvar.bodyTrHeight,v=e.header.display?this.headerTable.rows.length*e.header.columnHeight:0;(function(){k=c-v-g<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0;for(var a=0,b=f-m-k,e=0,l=this.colGroup.length;e<l;e++)a+=this.colGroup[e]._width;d=a>b?this.config.scroller.size:0;0<d&&(k=c-v-g-d<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0)}).call(this);a=f-k;b=c-0-d;u=b-v;l=function(b,c,d,f){var l={},k=!1;switch(d){case "aside":0===
m?k=!0:(l.left=0,l.width=m);break;case "left":0===e.frozenColumnIndex?k=!0:(l.left=m,l.width=h);break;case "right":e.rightSum||(k=!0);break;default:"page"!==f&&(l.left=0===e.frozenColumnIndex?m:h+m,l.width=a-m-h)}if(k)return b.hide(),this;if("body"===f)switch(c){case "top":0==e.frozenRowIndex?k=!0:(l.top=0,l.height=p);break;case "bottom":e.footSum?(l.top=u-g,l.height=g):k=!0;break;default:l.top=p,l.height=u-p-g}else"header"===f?l.height=v:"page"===f&&(k=!0);if(k)return b.hide(),this;b.show().css(l);
return this};var n=function(c,d,g,f){var e={},l=!1;switch(f){case "vertical":0<d?(e.width=d,e.height=b,e.bottom=g+0):l=!0;break;case "horizontal":0<g?(e.width=a,e.height=g,e.right=d,e.bottom=0):l=!0;break;case "corner":0<d&&0<g?(e.width=d,e.height=g,e.bottom=0):l=!0}if(l)return c.hide(),this;c.show().css(e)};this.$.container.header.css({height:v});this.$.container.body.css({height:u});l.call(this,this.$.panel["aside-header"],"","aside","header");l.call(this,this.$.panel["left-header"],"","left","header");
l.call(this,this.$.panel.header,"","","header");l.call(this,this.$.panel["right-header"],"","right","header");l.call(this,this.$.panel["top-aside-body"],"top","aside","body");l.call(this,this.$.panel["top-left-body"],"top","left","body");l.call(this,this.$.panel["top-body"],"top","","body");l.call(this,this.$.panel["top-right-body"],"top","right","body");l.call(this,this.$.panel["aside-body"],"","aside","body");l.call(this,this.$.panel["left-body"],"","left","body");l.call(this,this.$.panel.body,
"","","body");l.call(this,this.$.panel["right-body"],"","right","body");l.call(this,this.$.panel["bottom-aside-body"],"bottom","aside","body");l.call(this,this.$.panel["bottom-left-body"],"bottom","left","body");l.call(this,this.$.panel["bottom-body"],"bottom","","body");l.call(this,this.$.panel["bottom-right-body"],"bottom","right","body");n.call(this,this.$.scroller.vertical,k,d,"vertical");n.call(this,this.$.scroller.horizontal,k,d,"horizontal");n.call(this,this.$.scroller.corner,k,d,"corner");
l.call(this,this.$.container.page,"","","page");this.xvar.bodyHeight=this.$.panel.body.height();this.xvar.bodyWidth=this.$.panel.body.width();return!0},E=function(e){r.header.repaint.call(this);if(n.isFunction(this.config.remoteSort)){var f={sortInfo:[]},c;for(c in e)f.sortInfo.push({key:c,orderBy:e[c].orderBy,seq:e[c].seq});f.sortInfo.sort(function(a,b){return a.seq>b.seq});this.config.remoteSort.call(f,f)}else this.list=this.config.body.grouping?r.data.initData.call(this,r.data.sort.call(this,e,
r.data.clearGroupingData.call(this,this.list))):r.data.sort.call(this,e,r.data.clearGroupingData.call(this,this.list),{resetLineNumber:!0}),r.body.repaint.call(this,!0),r.scroller.resize.call(this)};this.init=function(l){e=jQuery.extend(!0,{},e,l);if(!e.target)return console.log(ax5.info.getError("ax5grid","401","init")),this;this.onStateChanged=e.onStateChanged;this.onClick=e.onClick;this.onLoad=e.onLoad;this.onDataChanged=e.body.onDataChanged;this.$target=jQuery(e.target);(function(f){n.isObject(f)&&
!f.error&&(e=jQuery.extend(!0,e,f))}).call(this,n.parseJson(this.$target.attr("data-ax5grid-config"),!0));l=this.config=e;this.config.height||(this.config._height=this.$target.height());this.id||(this.id=this.$target.data("data-ax5grid-id"));this.id||(this.id="ax5grid-"+this.instanceId,this.$target.data("data-ax5grid-id",l.id));r.data.init.call(this);this.config.tree.use&&(this.sortInfo={},this.sortInfo[this.config.tree.columnKeys.selfHash]={orderBy:"asc",seq:0,fixed:!0});this.$target.html(r.tmpl.get("main",
{instanceId:this.id}));this.$={container:{hidden:this.$target.find('[data-ax5grid-container="hidden"]'),root:this.$target.find('[data-ax5grid-container="root"]'),header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]'),page:this.$target.find('[data-ax5grid-container="page"]'),scroller:this.$target.find('[data-ax5grid-container="scroller"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),
header:this.$target.find('[data-ax5grid-panel="header"]'),"header-scroll":this.$target.find('[data-ax5grid-panel-scroll="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="top-right-body"]'),
"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"aside-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),"left-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"body-scroll":this.$target.find('[data-ax5grid-panel-scroll="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"right-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="right-body"]'),
"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')},livePanelKeys:[],scroller:{vertical:this.$target.find('[data-ax5grid-scroller="vertical"]'),"vertical-bar":this.$target.find('[data-ax5grid-scroller="vertical-bar"]'),
horizontal:this.$target.find('[data-ax5grid-scroller="horizontal"]'),"horizontal-bar":this.$target.find('[data-ax5grid-scroller="horizontal-bar"]'),corner:this.$target.find('[data-ax5grid-scroller="corner"]')},page:{navigation:this.$target.find('[data-ax5grid-page="navigation"]'),status:this.$target.find('[data-ax5grid-page="status"]')},form:{clipboard:this.$target.find('[data-ax5grid-form="clipboard"]')},resizer:{vertical:this.$target.find('[data-ax5grid-resizer="vertical"]'),horizontal:this.$target.find('[data-ax5grid-resizer="horizontal"]')}};
this.$.container.root.css({height:this.config.height||this.config._height});w.call(this,l.columns);D.call(this);l.footSum&&B.call(this,l.footSum);l.body.grouping&&p.call(this,l.body.grouping);F.call(this,!0);r.header.init.call(this);r.header.repaint.call(this);r.body.init.call(this);r.body.repaint.call(this);r.scroller.init.call(this);r.scroller.resize.call(this);jQuery(window).bind("resize.ax5grid-"+this.id,function(){F.call(k);r.scroller.resize.call(k);r.body.repaint.call(k)});jQuery(document.body).on("click.ax5grid-"+
this.id,function(f){(f=n.findParentNode(f.target,function(c){return c.getAttribute("data-ax5grid-inline-edit-picker")?!0:"root"===c.getAttribute("data-ax5grid-container")}))&&f.getAttribute("data-ax5grid-instance")===this.id?k.focused=!0:(k.focused=!1,r.body.blur.call(this))}.bind(this));jQuery(window).on("keydown.ax5grid-"+this.instanceId,function(f){k.focused&&(k.isInlineEditing?f.which==ax5.info.eventKeys.ESC?k.keyDown("ESC",f.originalEvent):f.which==ax5.info.eventKeys.RETURN?k.keyDown("RETURN",
f.originalEvent):f.which==ax5.info.eventKeys.TAB?(k.keyDown("TAB",f.originalEvent),n.stopEvent(f)):f.which==ax5.info.eventKeys.UP?k.keyDown("RETURN",{shiftKey:!0}):f.which==ax5.info.eventKeys.DOWN&&k.keyDown("RETURN",{}):f.metaKey||f.ctrlKey?67==f.which&&k.copySelect():y[f.which]?(k.keyDown(y[f.which],f.originalEvent),n.stopEvent(f)):f.which==ax5.info.eventKeys.ESC?k.focused&&r.body.blur.call(k):f.which==ax5.info.eventKeys.RETURN||f.which==ax5.info.eventKeys.SPACE?k.keyDown("RETURN",f.originalEvent):
f.which==ax5.info.eventKeys.TAB?n.stopEvent(f):Object.keys(k.focusedColumn).length&&k.keyDown("INLINE_EDIT",f.originalEvent))});setTimeout(function(){this.onLoad&&this.onLoad.call({self:this})}.bind(this));return this};this.align=function(){F.call(this)&&(r.body.repaint.call(this),r.scroller.resize.call(this));return this};this.repaint=function(){r.header.repaint.call(this);r.body.repaint.call(this,!0);r.scroller.resize.call(this);return this};this.keyDown=function(){var e={KEY_UP:function(){r.body.moveFocus.call(this,
"UP")},KEY_DOWN:function(){r.body.moveFocus.call(this,"DOWN")},KEY_LEFT:function(){r.body.moveFocus.call(this,"LEFT")},KEY_RIGHT:function(){r.body.moveFocus.call(this,"RIGHT")},KEY_HOME:function(){r.body.moveFocus.call(this,"HOME")},KEY_END:function(){r.body.moveFocus.call(this,"END")},INLINE_EDIT:function(f){r.body.inlineEdit.active.call(this,this.focusedColumn,f);/[0-9a-zA-Z]/.test(f.key)||n.stopEvent(f)},ESC:function(f){r.body.inlineEdit.keydown.call(this,"ESC")},RETURN:function(f){var c=0,a;for(a in this.inlineEditing){c++;
if(!r.body.inlineEdit.keydown.call(this,"RETURN",a))return!1;1==c&&r.body.moveFocus.call(this,f.shiftKey?"UP":"DOWN")&&r.body.inlineEdit.keydown.call(this,"RETURN")}0==c&&(r.body.inlineEdit.keydown.call(this,"RETURN"),n.stopEvent(f))},TAB:function(f){var c=0,a;for(a in this.inlineEditing)c++,r.body.inlineEdit.keydown.call(this,"RETURN",a,{moveFocus:!0}),1==c&&r.body.moveFocus.call(this,f.shiftKey?"LEFT":"RIGHT")&&r.body.inlineEdit.keydown.call(this,"RETURN",void 0,{moveFocus:!0})}};return function(f,
c){f in e&&e[f].call(this,c);return this}}();this.copySelect=function(){var e=void 0,f=this.$.form.clipboard,c=[],a="",b=void 0,m=void 0,h=0,k;for(k in this.selectedColumn){var d=this.selectedColumn[k];d&&("undefined"===typeof m&&(m=d.dindex,b=d.rowIndex),m==d.dindex&&b==d.rowIndex||h++,c[h]||(c[h]=[]),(b=this.bodyRowMap[d.rowIndex+"_"+d.colIndex])?this.list[d.dindex].__isGrouping?c[h].push(this.list[d.dindex][d.colIndex]):c[h].push(this.list[d.dindex][b.key]):c[h].push(""),m=d.dindex,b=d.rowIndex)}c.forEach(function(b){a+=
b.join("\t")+"\n"});f.get(0).innerText=a;f.get(0).value=a;f.select();try{e=document.execCommand("copy")}catch(u){e=!1}return e};this.setData=function(e){var f="undefined"===typeof this.xvar.paintStartRowIndex;r.data.set.call(this,e);F.call(this);r.body.repaint.call(this);r.scroller.resize.call(this);r.page.navigationUpdate.call(this);f||r.body.scrollTo.call(this,{top:0});return this};this.setDataNotScrollMove=function(e){var f=this.selectedDataIndexs;r.data.set.call(this,e);F.call(this);r.header.repaint.call(this);
r.body.repaint.call(this);r.scroller.resize.call(this);r.page.navigationUpdate.call(this);if("undefined"!=typeof this.selectedDataAgid&&null!=this.selectedDataAgid)if(this.list[this.selectedDataIndexsBF].agid==this.selectedDataAgid)e=this.selectedDataIndexsBF,r.data.select.call(this,e,e,void 0,{internalCall:!0}),r.body.updateRowState.call(this,["selected"],e,e);else{e=-1;for(var c=0;c<this.list.length;c++)this.list[c].agid==this.selectedDataAgid&&(e=c);-1!=e&&(r.data.select.call(this,e,e,void 0,{internalCall:!0}),
r.body.updateRowState.call(this,["selected"],e,e))}"undefined"!=typeof this.asideBodyRowData&&null!=this.asideBodyRowData&&"undefined"!=typeof this.asideBodyRowData.rows[0]&&null!=this.asideBodyRowData.rows[0]&&"undefined"!=typeof this.asideBodyRowData.rows[0].cols[1]&&null!=this.asideBodyRowData.rows[0].cols[1]&&"undefined"!=typeof this.asideBodyRowData.rows[0].cols[1].columnAttr&&null!=this.asideBodyRowData.rows[0].cols[1].columnAttr&&"rowSelector"==this.asideBodyRowData.rows[0].cols[1].columnAttr&&
"undefined"!=typeof f&&null!=f&&(e=f[0],r.data.select.call(this,e,e,void 0,{internalCall:!0}),r.body.updateRowState.call(this,["selected"],e,e));return this};this.getList=function(e){return r.data.getList.call(this,e)};this.setHeight=function(e){"100%"==e&&(e=this.$target.offsetParent().innerHeight());this.$target.css({height:e});this.$.container.root.css({height:e});F.call(this);r.body.repaint.call(this,"reset");r.scroller.resize.call(this);return this};this.addRow=function(e,f,c){r.data.add.call(this,
e,f,c);F.call(this);r.body.repaint.call(this,"reset");c&&c.focus&&r.body.moveFocus.call(this,c.focus);r.scroller.resize.call(this);return this};this.appendToList=function(e){r.data.append.call(this,e,function(){F.call(this);r.body.repaint.call(this);r.scroller.resize.call(this)}.bind(this));return this};this.removeRow=function(e){r.data.remove.call(this,e);F.call(this);r.body.repaint.call(this,"reset");r.body.moveFocus.call(this,this.config.body.grouping?"START":"END");r.scroller.resize.call(this);
return this};this.updateRow=function(e,f){r.data.update.call(this,e,f);r.body.repaintRow.call(this,f);return this};this.updateChildRows=function(e,f,c){r.data.updateChild.call(this,e,f,c);this.xvar.paintStartRowIndex=void 0;this.xvar.paintStartColumnIndex=void 0;return this};this.deleteRow=function(e){r.data.deleteRow.call(this,e);F.call(this);r.body.repaint.call(this,"reset");r.scroller.resize.call(this);return this};this.setValue=function(e,f,c){if(r.data.setValue.call(this,e,void 0,f,c)){var a=
function(a,c,f,e,d,l){for(var b=0,g=c.length;b<g;b++)for(var m=0,h=c[b].cols.length;m<h;m++)c[b].cols[m].key==d&&(this.xvar.frozenRowIndex>f?r.body.repaintCell.call(this,"top-"+a,f,e,b,m,l):r.body.repaintCell.call(this,a+"-scroll",f,e,b,m,l))};a.call(this,"left-body",this.leftBodyRowData.rows,e,void 0,f,c);a.call(this,"body",this.bodyRowData.rows,e,void 0,f,c)}return this};this.setValueMin=function(e,f,c){if(r.data.setValue.call(this,e,void 0,f,c))for(var a=this.bodyRowData.rows,b=0,l=a.length;b<
l;b++)for(var h=0,k=a[b].cols.length;h<k;h++)a[b].cols[h].key==f&&(this.xvar.frozenRowIndex>e?r.body.repaintCellMin.call(this,"top-body",e,void 0,b,h,c):r.body.repaintCellMin.call(this,"body-scroll",e,void 0,b,h,c));return this};this.addColumn=function(){var e={first:function(f){this.config.columns=[].concat(f).concat(this.config.columns)},last:function(f){this.config.columns=this.config.columns.concat([].concat(f))}};return function(f,c){if("undefined"===typeof f)throw"_column must not be null";
"undefined"===typeof c&&(c="last");if(c in e)e[c].call(this,f);else{if(!n.isNumber(c))throw"invalid argument _cindex";if(n.isArray(f))for(var a=0,b=f.length;a<b;a++)this.config.columns.splice(c+a,0,f[a]);else this.config.columns.splice(c,0,f)}z.call(this);return this}}();this.removeColumn=function(){var e={first:function(f){this.config.columns.splice(f,1)},last:function(){this.config.columns.splice(this.config.columns.length-1,1)}};return function(f){"undefined"===typeof f&&(f="last");if(f in e)e[f].call(this,
f);else{if(!n.isNumber(f))throw"invalid argument _cindex";this.config.columns.splice(f,1)}z.call(this);return this}}();this.updateColumn=function(e,f){if(!n.isNumber(f))throw"invalid argument _cindex";this.config.columns.splice(f,1,e);z.call(this);return this};this.setColumnWidth=function(e,f){this.colGroup[this.xvar.columnResizerIndex]._width=e;this.needToPaintSum=!0;r.header.repaint.call(this);r.body.repaint.call(this,!0);r.scroller.resize.call(this);F.call(this);return this};this.getColumnSortInfo=
function(){var e=[],f;for(f in this.sortInfo)e.push({key:f,orderBy:this.sortInfo[f].orderBy,seq:this.sortInfo[f].seq});e.sort(function(c,a){return c.seq>a.seq});return e};this.setColumnSort=function(e){"undefined"!==typeof e&&(this.sortInfo=e,r.header.applySortStatus.call(this,e));E.call(this,e||this.sortInfo);return this};this.select=function(e,f){n.isNumber(e)&&(this.config.multipleSelect?f&&f.selectedClear&&this.clearSelect():this.clearSelect(),r.data.select.call(this,e,void 0,f&&f.selected),r.body.updateRowState.call(this,
["selected"],e,void 0));return this};this.clickBody=function(e){r.body.click.call(this,e);return this};this.DBLClickBody=function(e){r.body.dblClick.call(this,e);return this};this.clearSelect=function(){"undefined"!=typeof this.selectedDataAgid&&null!=this.selectedDataAgid&&(this.selectedDataIndexsBF=this.selectedDataAgid=null);r.body.updateRowState.call(this,["selectedClear"]);r.data.clearSelect.call(this);return this};this.selectAll=function(e){r.data.selectAll.call(this,e&&e.selected,e);r.body.updateRowStateAll.call(this,
["selected"]);return this};this.exportExcel=function(e){var f=[];f.push('<table border="1">');f.push(r.header.getExcelString.call(this));f.push(r.body.getExcelString.call(this));f.push("</table>");if("undefined"===typeof e)return f.join("");r.excel.export.call(this,[f.join("")],e);return this};this.exportExcelXlsx=function(e){var f=[];f.push(r.header.getExcelStringXlsx.call(this));f.push(r.body.getExcelStringXlsx.call(this));if("undefined"===typeof e)return f.join("");r.excel.exportXlsx.call(this,
f,e,!1);return this};this.exportExcelXlsxTable=function(e,f){if("undefined"===typeof e)return f.join("");r.excel.exportXlsx.call(this,f,e,!0);return this};this.focus=function(e){if(r.body.moveFocus.call(this,e)){e=void 0;for(var f in this.focusedColumn){e=jQuery.extend({},this.focusedColumn[f],!0);break}e&&this.select(e.dindex,{selectedClear:!0})}else if("undefined"===typeof this.selectedDataIndexs[0])this.select(0);else{var c=this.selectedDataIndexs[0];f={UP:function(){0<c&&(this.select(c-1,{selectedClear:!0}),
r.body.moveFocus.call(this,c-1))},DOWN:function(){c<this.list.length-1&&(this.select(c+1,{selectedClear:!0}),r.body.moveFocus.call(this,c+1))},HOME:function(){this.select(0,{selectedClear:!0});r.body.moveFocus.call(this,0)},END:function(){this.select(this.list.length-1,{selectedClear:!0});r.body.moveFocus.call(this,this.list.length-1)}};e in f&&f[e].call(this)}return this};this.destroy=function(){var e=this.instanceId;this.$target.empty();this.list=[];h.grid_instance=ax5.util.filter(h.grid_instance,
function(){return this.instanceId!=e});return null};this.main=function(){h.grid_instance=h.grid_instance||[];h.grid_instance.push(this);arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}());r=ax5.ui.grid})();
(function(){var h=ax5.ui.grid,n=ax5.util,r={focusClear:function(){var a,b;for(b in this.focusedColumn)(a=this.focusedColumn[b])&&this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+a.colIndex+'"]').removeAttr("data-ax5grid-column-focused");this.focusedColumn={}},clear:function(){var a,b;for(b in this.selectedColumn)(a=this.selectedColumn[b])&&this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+
a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+a.colIndex+'"]').removeAttr("data-ax5grid-column-selected");this.selectedColumn={}},init:function(a){if(this.isInlineEditing)for(var b in this.inlineEditing)if(b==a.dindex+"_"+a.colIndex+"_"+a.rowIndex)return this;r.focusClear.call(this);this.focusedColumn[a.dindex+"_"+a.colIndex+"_"+a.rowIndex]={panelName:a.panelName,dindex:a.dindex,doindex:a.doindex,rowIndex:a.rowIndex,colIndex:a.colIndex,colspan:a.colspan};
r.clear.call(this);this.xvar.selectedRange={start:[a.dindex,a.rowIndex,a.colIndex,a.colspan-1],end:null};b=this.selectedColumn;var c=a.dindex+"_"+a.colIndex+"_"+a.rowIndex;var f=this.selectedColumn[a.dindex+"_"+a.colIndex+"_"+a.rowIndex]?!1:{panelName:a.panelName,dindex:a.dindex,doindex:a.doindex,rowIndex:a.rowIndex,colIndex:a.colIndex,colspan:a.colspan};b[c]=f;this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+
a.colIndex+'"]').attr("data-ax5grid-column-focused","true").attr("data-ax5grid-column-selected","true");this.isInlineEditing&&h.body.inlineEdit.deActive.call(this,"RETURN")},update:function(a){var b,c,f;this.xvar.selectedRange.end=[a.dindex,a.rowIndex,a.colIndex,a.colspan-1];r.clear.call(this);var e=Math.max(this.xvar.selectedRange.start[0],this.xvar.selectedRange.end[0]),d=Math.min(this.xvar.selectedRange.start[2],this.xvar.selectedRange.end[2]),l=Math.max(this.xvar.selectedRange.start[2]+this.xvar.selectedRange.start[3],
this.xvar.selectedRange.end[2]+this.xvar.selectedRange.end[3]);for(b=Math.min(this.xvar.selectedRange.start[0],this.xvar.selectedRange.end[0]);b<=e;b++){var h=this.bodyRowTable.rows.length;for(f=0;f<h;f++)for(c=d;c<=l;c++){var g=[];this.xvar.frozenRowIndex>b&&g.push("top");this.xvar.frozenColumnIndex>c&&g.push("left");g.push("body");"top"!==g[0]&&g.push("scroll");g=g.join("-");this.selectedColumn[b+"_"+c+"_"+f]={panelName:g,dindex:b,rowIndex:f,colIndex:c,colspan:a.colspan}}}for(var k in this.selectedColumn)(a=
this.selectedColumn[k])&&this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+a.colIndex+'"]').attr("data-ax5grid-column-selected","true")}},k={on:function(a){var b=this;this.inlineEditing[a.dindex+"_"+a.colIndex+"_"+a.rowIndex]||(r.init.call(b,a),this.$.container.body.on("mousemove.ax5grid-"+this.instanceId,'[data-ax5grid-column-attr="default"]',function(a){this.getAttribute("data-ax5grid-column-rowIndex")&&
(r.update.call(b,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),doindex:Number(this.getAttribute("data-ax5grid-data-o-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}),n.stopEvent(a))}).on("mouseup.ax5grid-"+this.instanceId,function(){k.off.call(b)}).on("mouseleave.ax5grid-"+this.instanceId,
function(){k.off.call(b)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1))},off:function(){this.$.container.body.off("mousemove.ax5grid-"+this.instanceId).off("mouseup.ax5grid-"+this.instanceId).off("mouseleave.ax5grid-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},e=function(a,b,c,f){var e=this,d=this.config,l={selected:function(a,b){if(this.list[b])for(var c=this.$.livePanelKeys.length;c--;)this.$.panel[this.$.livePanelKeys[c]].find('[data-ax5grid-tr-data-index="'+
a+'"]').attr("data-ax5grid-selected",this.list[b][d.columnKeys.selected])},selectedClear:function(){var a=this.list.length,b;if(this.proxyList){for(;a--;)this.list[a][d.columnKeys.selected]=!1;for(a=this.proxyList.length;a--;){if(this.list[b][d.columnKeys.selected])for(b=this.$.livePanelKeys.length;b--;)this.$.panel[this.$.livePanelKeys[b]].find('[data-ax5grid-tr-data-index="'+a+'"]').attr("data-ax5grid-selected",!1);this.proxyList[a][d.columnKeys.selected]=!1;b=this.proxyList[a].__original_index__}}else for(;a--;){if(this.list[a][d.columnKeys.selected])for(b=
this.$.livePanelKeys.length;b--;)this.$.panel[this.$.livePanelKeys[b]].find('[data-ax5grid-tr-data-index="'+a+'"]').attr("data-ax5grid-selected",!1);this.list[a][d.columnKeys.selected]=!1}},cellChecked:function(a,b,c){b=c.rowIndex;var d=c.colIndex;var g=[];this.xvar.frozenRowIndex>a&&g.push("top");this.xvar.frozenColumnIndex>d&&g.push("left");g.push("body");"top"!==g[0]&&g.push("scroll");g=g.join("-");this.$.panel[g].find('[data-ax5grid-tr-data-index="'+a+'"]').find('[data-ax5grid-column-rowIndex="'+
b+'"][data-ax5grid-column-colIndex="'+d+'"]').find('[data-ax5grid-editor="checkbox"]').attr("data-ax5grid-checked",""+c.checked)}};"undefined"===typeof c&&(c=b);a.forEach(function(a){if(!l[a])throw"invaild state name";l[a].call(e,b,c,f)})},y=function(){var a=this.config,b=h.util.divideTableByFrozenColumnIndex(this.bodyRowTable,this.xvar.frozenColumnIndex);this.asideBodyRowData=function(b){for(var c={rows:[]},f=0,d=b.rows.length;f<d;f++)if(c.rows[f]={cols:[]},0===f){var e={label:"",colspan:1,rowspan:b.rows.length,
colIndex:null};if(a.showLineNumber){var l=jQuery.extend({},e,{width:a.lineNumberColumnWidth,_width:a.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"});c.rows[f].cols.push(l)}a.showRowSelector&&(l=jQuery.extend({},e,{width:a.rowSelectorColumnWidth,_width:a.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),c.rows[f].cols.push(l))}return c}.call(this,this.bodyRowTable);this.leftBodyRowData=b.leftData;this.bodyRowData=b.rightData;a.body.grouping&&
(b=h.util.divideTableByFrozenColumnIndex(this.bodyGroupingTable,this.xvar.frozenColumnIndex),this.asideBodyGroupingData=function(b){for(var c={rows:[]},f=0,d=b.rows.length;f<d;f++)if(c.rows[f]={cols:[]},0===f){var e={label:"",colspan:1,rowspan:b.rows.length,colIndex:null};if(a.showLineNumber){var l=jQuery.extend({},e,{width:a.lineNumberColumnWidth,_width:a.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"});c.rows[f].cols.push(l)}a.showRowSelector&&(l=jQuery.extend({},
e,{width:a.rowSelectorColumnWidth,_width:a.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),c.rows[f].cols.push(l))}return c}.call(this,this.bodyGroupingTable),this.leftBodyGroupingData=b.leftData,this.bodyGroupingData=b.rightData,this.bodyGroupingMap=h.util.makeBodyRowMap.call(this,this.bodyGroupingTable));this.leftFootSumData={};this.footSumData={};this.config.footSum&&(b=h.util.divideTableByFrozenColumnIndex(this.footSumTable,this.xvar.frozenColumnIndex),this.leftFootSumData=
b.leftData,this.footSumData=b.rightData)},w=function(a,b,c,f,e,d){var l=f.key,m={"<":"&lt;",">":"&gt;"};if("__d-index__"===l)return"undefined"!==typeof b.__index?b.__index+1:"";if("__d-checkbox__"===l)return'<div class="checkBox" style="max-height: '+(f.width-10)+"px;min-height: "+(f.width-10)+'px;"></div>';if(f.editor&&function(a){return a.type in h.inlineEditor?"inline"==h.inlineEditor[a.type].editMode:!1}(f.editor))return e=e||h.data.getValue.call(this,c,b.__origin_index__,l),n.isFunction(f.editor.disabled)&&
f.editor.disabled.call({list:a,dindex:c,item:a[c],key:l,value:e})?e:d?e:h.inlineEditor[f.editor.type].getHtml(this,f.editor,e);var g=function(){var d={key:l,value:e||h.data.getValue.call(this,c,b.__origin_index__,l),dindex:c,item:b,list:a};return n.isFunction(f.formatter)?f.formatter.call(d):h.formatter[f.formatter].call(d)},k=function(){var a="";"undefined"!==typeof e?a=e:(e=/[\.\[\]]/.test(l)?h.data.getValue.call(this,c,b.__origin_index__,l):b[l],null!==e&&"undefined"!==typeof e&&(a=e));return"string"!==
typeof a?a:a.replace(/[<>]/g,function(a){return m[a]||a})};d=function(a){var d=this.config,g=this.config.tree.columnKeys,f="";b[g.children].length?(f+='<a data-ax5grid-data-index="'+c+'" data-ax5grid-column-attr="tree-control" data-ax5grid-tnode-arrow="" style="width: '+d.tree.arrowWidth+"px;padding-left:"+b[g.depth]*d.tree.indentWidth+'px;">',f+=b[g.collapse]?d.tree.icons.collapsedArrow:d.tree.icons.openedArrow,f+="</a>"):f+='<span data-ax5grid-tnode-arrow="" style="width: '+d.tree.arrowWidth+"px;padding-left:"+
b[g.depth]*d.tree.indentWidth+'px;">&nbsp;</span>';f+='<span data-ax5grid-tnode-item="'+(b[g.children].length?"group":"item")+'" style="width: '+d.tree.iconWidth+'px;">';f+=b[g.children].length?b[g.collapse]?d.tree.icons.collapsedGroupIcon:d.tree.icons.groupIcon:d.tree.icons.itemIcon;return f+"</span>"+a};g=f.formatter?g.call(this):k.call(this);this.config.tree.use&&f.treeControl&&(g=d.call(this,g));return g},z=function(a,b,c,f,e,d){var l=f.key,m={"<":"&lt;",">":"&gt;"};if("__d-index__"===l)return"undefined"!==
typeof b.__index?b.__index+1:"";if("__d-checkbox__"===l)return'<div class="checkBox" style="max-height: '+(f.width-10)+"px;min-height: "+(f.width-10)+'px;"></div>';if(f.editor&&function(a){return a.type in h.inlineEditor?"inline"==h.inlineEditor[a.type].editMode:!1}(f.editor))return e=e||h.data.getValue.call(this,c,b.__origin_index__,l),n.isFunction(f.editor.disabled)&&f.editor.disabled.call({list:a,dindex:c,item:a[c],key:l,value:e})?e:d?e:h.inlineEditor[f.editor.type].getHtml(this,f.editor,e);var g=
function(){var d={key:l,value:e||h.data.getValue.call(this,c,b.__origin_index__,l),dindex:c,item:b,list:a};d=n.isFunction(f.formatter)?f.formatter.call(d):h.formatter[f.formatter].call(d);if("undefined"==typeof d||null==d)d="";d=d.toString();0<d.indexOf("style")&&(d=d.substr(0,d.indexOf("</")),d=d.substr(d.indexOf(">")+1,d.length-d.indexOf(">")));if(0<=d.indexOf("<"))for(var g=!1;!g;){var m=d.substr(d.indexOf("<")+1,d.indexOf(">")-1);d=d.substr(m.length+2,d.lastIndexOf("</")-(m.length+2));0>d.indexOf("<")&&
(g=!0)}return d},k=function(){var a="";"undefined"!==typeof e?a=e:(e=/[\.\[\]]/.test(l)?h.data.getValue.call(this,c,b.__origin_index__,l):b[l],null!==e&&"undefined"!==typeof e&&(a=e));return"string"!==typeof a?a:a.replace(/[<>]/g,function(a){return m[a]||a})};d=function(a){var d=this.config,g=this.config.tree.columnKeys,f="";b[g.children].length?(f+='<a data-ax5grid-data-index="'+c+'" data-ax5grid-column-attr="tree-control" data-ax5grid-tnode-arrow="" style="width: '+d.tree.arrowWidth+"px;padding-left:"+
b[g.depth]*d.tree.indentWidth+'px;">',f+=b[g.collapse]?d.tree.icons.collapsedArrow:d.tree.icons.openedArrow,f+="</a>"):f+='<span data-ax5grid-tnode-arrow="" style="width: '+d.tree.arrowWidth+"px;padding-left:"+b[g.depth]*d.tree.indentWidth+'px;">&nbsp;</span>';f+='<span data-ax5grid-tnode-item="'+(b[g.children].length?"group":"item")+'" style="width: '+d.tree.iconWidth+'px;">';f+=b[g.children].length?b[g.collapse]?d.tree.icons.collapsedGroupIcon:d.tree.icons.groupIcon:d.tree.icons.itemIcon;return f+
"</span>"+a};g=f.formatter?g.call(this):k.call(this);this.config.tree.use&&f.treeControl&&(g=d.call(this,g));return g},D=function(a,b,c){b=c.key;var f=c.label;return"undefined"===typeof b?(b={key:b,list:a.__groupingList,groupBy:a.__groupingBy},f=n.isFunction(f)?f.call(b):f,a[c.colIndex]=f):"__d-index__"===b||"__d-checkbox__"===b?"":c.collector?(b={key:b,list:a.__groupingList},f=n.isFunction(c.collector)?c.collector.call(b):h.collector[c.collector].call(b),a[c.colIndex]=f,c.formatter?(b.value=f,n.isFunction(c.formatter)?
c.formatter.call(b):h.formatter[c.formatter].call(b)):f):"&nbsp;"},B=function(a,b){var c=b.key,f=b.label;return"undefined"===typeof c?f:"__d-index__"===c||"__d-checkbox__"===c?"&nbsp;":b.collector?(a={key:c,list:a},c=n.isFunction(b.collector)?b.collector.call(a):h.collector[b.collector].call(a),b.formatter?(a.value=c,n.isFunction(b.formatter)?b.formatter.call(a):h.formatter[b.formatter].call(a)):c):"&nbsp;"},p=function(a,b){var c=b.key,f=b.label;if("undefined"===typeof c)return f;if("__d-index__"===
c||"__d-checkbox__"===c)return"&nbsp;";if(b.collector){a={key:c,list:a};c=n.isFunction(b.collector)?b.collector.call(a):h.collector[b.collector].call(a);if(b.formatter){a.value=c;b=n.isFunction(b.formatter)?b.formatter.call(a):h.formatter[b.formatter].call(a);if("undefined"==typeof b||null==b)b="";b=b.toString();0<b.indexOf("style")&&(b=b.substr(0,b.indexOf("</")),b=b.substr(b.indexOf(">")+1,b.length-b.indexOf(">")));if(0<=b.indexOf("<"))for(a=!1;!a;)c=b.substr(b.indexOf("<")+1,b.indexOf(">")-1),
b=b.substr(c.length+2,b.lastIndexOf("</")-(c.length+2)),0>b.indexOf("<")&&(a=!0);return b}return c}return"&nbsp;"},F=function(a){var b=this.config,c=this.proxyList?this.proxyList:this.list;a&&(y.call(this),this.xvar.paintStartRowIndex=void 0,this.xvar.paintStartColumnIndex=void 0);var f=a=void 0;this.config.virtualScrollY?(f=a=Math.floor(-this.$.panel["body-scroll"].position().top/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,this.xvar.paintRowCountTopMargin<a&&(a-=this.xvar.paintRowCountTopMargin)):
a=this.xvar.frozenRowIndex;if(isNaN(a))return this;var e=0,d=0,l=null,k=null,g=-this.$.panel["body-scroll"].position().left;if(this.config.virtualScrollX){for(var p=this.xvar.frozenColumnIndex;p<this.colGroup.length;p++)this.colGroup[p]._sx=p==this.xvar.frozenColumnIndex?0:this.colGroup[p-1]._ex,this.colGroup[p]._ex=this.colGroup[p]._sx+this.colGroup[p]._width,this.colGroup[p]._sx<=g&&this.colGroup[p]._ex>=g&&(e=p),this.colGroup[p]._sx<=g+this.xvar.bodyWidth&&this.colGroup[p]._ex>=g+this.xvar.bodyWidth&&
(d=p,null===l&&(l=this.colGroup[e]._sx),null===k&&(k=this.xvar.scrollContentWidth-this.colGroup[p]._ex));null===l&&(l=0);null===k&&(k=0);this.$.panel["top-body-scroll"].css({"padding-left":l,"padding-right":k});this.$.panel["body-scroll"].css({"padding-left":l,"padding-right":k});this.$.panel["bottom-body-scroll"].css({"padding-left":l,"padding-right":k})}var r="undefined"===typeof this.xvar.paintStartRowIndex;g=this.headerColGroup;p=this.asideBodyRowData;var E=this.leftBodyRowData,z=this.bodyRowData,
F=this.leftFootSumData,ba=this.footSumData,Q=this.asideBodyGroupingData,N=this.leftBodyGroupingData,R=this.bodyGroupingData,H=b.body.align,Y=void 0,T=void 0;this.config.virtualScrollY?(T=Math.ceil(this.xvar.bodyHeight/this.xvar.bodyTrHeight),Y=T+(this.xvar.paintRowCountMargin||1)):T=Y=c.length;this.xvar.paintRowCountTopMargin<a&&Math.abs(this.xvar.paintStartRowIndex-a)<=this.xvar.paintRowCountTopMargin&&(a=this.xvar.paintStartRowIndex);if(this.xvar.dataRowCount===c.length&&this.xvar.paintStartRowIndex===
a&&this.xvar.paintRowCount===Y&&this.xvar.paintStartColumnIndex===e&&this.xvar.paintEndColumnIndex===d)return this;if(l||k)if(g=[].concat(g).splice(e-this.xvar.frozenColumnIndex,d-e+1+this.xvar.frozenColumnIndex),z=h.util.getTableByStartEndColumnIndex(z,e,d),b.body.grouping&&(R=h.util.getTableByStartEndColumnIndex(R,e,d)),b.footSum&&(ba=h.util.getTableByStartEndColumnIndex(ba,e,d)),this.xvar.paintStartColumnIndex!==e||this.xvar.paintEndColumnIndex!==d)this.needToPaintSum=!0;this.xvar.scrollContentHeight=
this.xvar.bodyTrHeight*(this.list.length-this.xvar.frozenRowIndex);this.$.livePanelKeys=[];var X=function(a,c,d,g,f,e){var l=this.$.panel[a];if(!r&&!e)return this.$.livePanelKeys.push(a),!1;var h=[],m=void 0,k=void 0,u=void 0,p=k=m=void 0,v=void 0,A=void 0,x=void 0,B=void 0,E=void 0;if("undefined"===typeof e||"undefined"===typeof e.paintStartRowIndex){e={paintStartRowIndex:0,paintRowCount:f.length};var y=!1}else y=!0;var z="#fff 0px, #fff "+(b.body.columnHeight-b.body.columnBorderWidth)+"px, #eee "+
(b.body.columnHeight-b.body.columnBorderWidth)+"px, #eee "+b.body.columnHeight+"px";y&&h.push('<div style="background:repeating-linear-gradient(to top, '+z+");font-size:0;line-height:0;height: "+(e.paintStartRowIndex-this.xvar.frozenRowIndex)*e.bodyTrHeight+'px;"></div>');h.push('<table border="0" cellpadding="0" cellspacing="0">');h.push("<colgroup>");m=0;for(k=c.length;m<k;m++)h.push('<col style="width:'+c[m]._width+'px;"  />');h.push("<col  />");h.push("</colgroup>");u=e.paintStartRowIndex;for(m=
function(){var a=f.length;e.paintRowCount+e.paintStartRowIndex<a&&(a=e.paintRowCount+e.paintStartRowIndex);return a}();u<m;u++)if(f[u]){c=!1;var t=void 0,C="undefined"!==typeof f[u].__origin_index__?f[u].__origin_index__:u;g&&"__isGrouping"in f[u]?(t=g,c=!0):t=d;k=0;for(p=t.rows.length;k<p;k++){h.push('<tr class="tr-'+u%4,b.body.trStyleClass?n.isFunction(b.body.trStyleClass)?" "+b.body.trStyleClass.call({item:f[u],index:u},f[u],u):" "+b.body.trStyleClass:"",'"',c?' data-ax5grid-grouping-tr="true"':
"",' data-ax5grid-tr-data-index="'+u+'"',' data-ax5grid-tr-data-o-index="'+C+'"',' data-ax5grid-selected="'+(f[u][b.columnKeys.selected]||"false")+'"',' data-ax5grid-disable-selection="'+(f[u][b.columnKeys.disableSelection]||"false")+'"',">");v=0;for(A=t.rows[k].cols.length;v<A;v++)x=t.rows[k].cols[v],B=b.body.columnHeight*x.rowspan-b.body.columnBorderWidth,E=x.align||H,h.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-data-index="'+u+'" ','data-ax5grid-data-o-index="'+C+'" ','data-ax5grid-column-row="'+
k+'" ','data-ax5grid-column-col="'+v+'" ','data-ax5grid-column-rowIndex="'+x.rowIndex+'" ','data-ax5grid-column-colIndex="'+x.colIndex+'" ','data-ax5grid-column-attr="'+(x.columnAttr||"default")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn[u+"_"+x.colIndex+"_"+x.rowIndex],this.selectedColumn[u+"_"+x.colIndex+"_"+x.rowIndex]),'colspan="'+x.colspan+'" ','rowspan="'+x.rowspan+'" ','class="'+function(a){var c=
"";a.styleClass&&(c=n.isFunction(a.styleClass)?c+(a.styleClass.call({column:a,key:a.key,item:f[u],index:u})+" "):c+(a.styleClass+" "));b.body.columnBorderWidth&&(c+="hasBorder ");v==A-1&&(c+="isLastColumn ");return c}.call(this,x)+'" ','style="height: '+B+'px;min-height: 1px;">'),h.push(function(a){var c=b.body.columnHeight-2*b.body.columnPadding-b.body.columnBorderWidth;x.multiLine||(a=b.body.columnHeight-b.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(x.multiLine?"multiLine":
"")+'" '+(E?'data-ax5grid-text-align="'+E+'"':"")+'" style="height:'+a+"px;"+(x.multiLine?"":"line-height: "+c+"px;")+'">'}(B),c?D.call(this,f[u],u,x):w.call(this,f,f[u],u,x),"</span>"),h.push("</td>");h.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+u+'" ','data-ax5grid-data-o-index="'+C+'" ','data-ax5grid-column-attr="default" ','style="height: '+b.body.columnHeight+'px;min-height: 1px;" ',"></td>");h.push("</tr>")}}h.push("</table>");
y&&f.length&&h.push('<div style="background:repeating-linear-gradient(to bottom, '+z+");font-size:0;line-height:0;height: "+(f.length-u)*e.bodyTrHeight+'px;"></div>');l.empty();h=h.join("");l.get(0).innerHTML=h;this.$.livePanelKeys.push(a);return!0},aa=function(a,c,d,g,f){var e=this.$.panel[a];if(!r&&!f)return this.$.livePanelKeys.push(a),!1;f=[];var l=void 0,h=void 0,m=h=l=void 0,k=void 0,u=void 0,p=void 0,v=void 0;f.push('<table border="0" cellpadding="0" cellspacing="0">');f.push("<colgroup>");
l=0;for(h=c.length;l<h;l++)f.push('<col style="width:'+c[l]._width+'px;"  />');f.push("<col  />");f.push("</colgroup>");l=0;for(h=d.rows.length;l<h;l++){f.push('<tr class="tr-sum">');m=0;for(k=d.rows[l].cols.length;m<k;m++)u=d.rows[l].cols[m],p=b.body.columnHeight*u.rowspan-b.body.columnBorderWidth,v=u.align||H,f.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-column-row="'+l+'" ','data-ax5grid-column-col="'+m+'" ','data-ax5grid-column-rowIndex="'+l+'" ','data-ax5grid-column-colIndex="'+
u.colIndex+'" ','data-ax5grid-column-attr="'+(u.columnAttr||"sum")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn["sum_"+u.colIndex+"_"+l],this.selectedColumn["sum_"+u.colIndex+"_"+l]),'colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ','class="'+function(a){var c="";a.styleClass&&(c=n.isFunction(a.styleClass)?c+(a.styleClass.call({column:a,key:a.key,isFootSum:!0})+" "):c+(a.styleClass+" "));b.body.columnBorderWidth&&
(c+="hasBorder ");m==k-1&&(c+="isLastColumn ");return c}.call(this,u)+'" ','style="height: '+p+'px;min-height: 1px;">'),f.push(function(a){var c=b.body.columnHeight-2*b.body.columnPadding-b.body.columnBorderWidth;u.multiLine||(a=b.body.columnHeight-b.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(u.multiLine?"multiLine":"")+'" '+(v?'data-ax5grid-text-align="'+v+'"':"")+'" style="height:'+a+"px;"+(u.multiLine?"":"line-height: "+c+"px;")+'">'}(p),B.call(this,g,u),"</span>"),f.push("</td>");
f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+b.body.columnHeight+'px;min-height: 1px;" ',"></td>");f.push("</tr>")}f.push("</table>");e.empty();f=f.join("");e.get(0).innerHTML=f;this.$.livePanelKeys.push(a);return!0},Z=function(a,c,d,g,f){var e=[],l={},h=void 0;a=this.$.panel[a].find("tr");d=0;for(g=a.length;d<g;d++){var m=f=void 0;f=a[d].childNodes;m=[];for(var k=0,u=f.length;k<u;k++){var p={$:jQuery(f[k])};
"null"!=p.$.attr("data-ax5grid-column-col")&&(p.dindex=p.$.attr("data-ax5grid-data-index"),p.tri=p.$.attr("data-ax5grid-column-row"),p.ci=p.$.attr("data-ax5grid-column-col"),p.rowIndex=p.$.attr("data-ax5grid-column-rowIndex"),p.colIndex=p.$.attr("data-ax5grid-column-colIndex"),p.rowspan=p.$.attr("rowspan"),p.text=p.$.text(),m.push(p));p=null}e.push(m)}if(1<e.length){h=!1;a=function(a,d){var g=[];d=function(d,f){if(f=!c[d].editor)f=n.isArray(b.body.mergeCells)?-1<ax5.util.search(b.body.mergeCells,
c[d].key):!0;f&&(l[d]&&function(){if(0<g.length){var b=!0;g.forEach(function(c){e[a-1][c].text!=e[a][c].text&&(b=!1)});return b}return!0}()&&l[d].text==e[a][d].text?(e[a][d].rowspan=0,e[l[d].ri][d].rowspan++,h=!0):l[d]={ri:a,ci:d,text:e[a][d].text},g.push(d))};for(var f=0,m=e[a].length;f<m;f++)d(f,m)};d=0;for(g=e.length;d<g;d++)a(d,g);if(h)for(a=0,d=e.length;a<d;a++)for(g=0,f=e[a].length;g<f;g++)0==e[a][g].rowspan?e[a][g].$.remove():1<e[a][g].rowspan&&e[a][g].$.attr("rowspan",e[a][g].rowspan).addClass("merged")}},
M={paintStartRowIndex:a,paintRowCount:Y,paintStartColumnIndex:e,paintEndColumnIndex:d,nopaintLeftColumnsWidth:l,nopaintRightColumnsWidth:k,bodyTrHeight:this.xvar.bodyTrHeight,virtualScrollX:this.config.virtualScrollX,virtualScrollY:this.config.virtualScrollY},P=jQuery.extend({},M,{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex});0<b.asidePanelWidth&&(0<this.xvar.frozenRowIndex&&X.call(this,"top-aside-body",this.asideColGroup,p,Q,c.slice(0,this.xvar.frozenRowIndex),P),X.call(this,"aside-body-scroll",
this.asideColGroup,p,Q,c,M),b.footSum&&aa.call(this,"bottom-aside-body",this.asideColGroup,p,null,c));0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&X.call(this,"top-left-body",this.leftHeaderColGroup,E,N,c.slice(0,this.xvar.frozenRowIndex),P),X.call(this,"left-body-scroll",this.leftHeaderColGroup,E,N,c,M),b.footSum&&this.needToPaintSum&&aa.call(this,"bottom-left-body",this.leftHeaderColGroup,F,c));0<this.xvar.frozenRowIndex&&X.call(this,"top-body-scroll",g,z,R,c.slice(0,this.xvar.frozenRowIndex),
P);X.call(this,"body-scroll",g,z,R,c,M);b.footSum&&this.needToPaintSum&&aa.call(this,"bottom-body-scroll",g,ba,c,M);b.body.mergeCells&&this.list.length&&(0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&Z.call(this,"top-left-body",this.leftHeaderColGroup,E,c.slice(0,this.xvar.frozenRowIndex)),Z.call(this,"left-body-scroll",this.leftHeaderColGroup,E,c,M)),0<this.xvar.frozenRowIndex&&Z.call(this,"top-body-scroll",this.headerColGroup,z,c.slice(0,this.xvar.frozenRowIndex)),Z.call(this,"body-scroll",
this.headerColGroup,z,c,M));this.xvar.virtualPaintStartRowIndex=f;this.xvar.paintStartRowIndex=a;this.xvar.paintRowCount=Y;this.xvar.virtualPaintRowCount=T;this.xvar.paintStartColumnIndex=e;this.xvar.paintEndColumnIndex=d;this.xvar.nopaintLeftColumnsWidth=l;this.xvar.nopaintRightColumnsWidth=k;this.xvar.dataRowCount=c.length;this.needToPaintSum=!1;h.page.statusUpdate.call(this)},E=function(a,b){"undefined"===typeof b&&(b={timeoutUnUse:!1});if(this.isInlineEditing)for(var c in this.inlineEditing)h.body.inlineEdit.deActive.call(this,
"ESC",c);0<this.config.asidePanelWidth&&"top"in a&&this.$.panel["aside-body-scroll"].css({top:a.top});0<this.xvar.frozenColumnIndex&&"top"in a&&this.$.panel["left-body-scroll"].css({top:a.top});0<this.xvar.frozenRowIndex&&"left"in a&&this.$.panel["top-body-scroll"].css({left:a.left});this.$.panel["body-scroll"].css(a);this.config.footSum&&"left"in a&&this.$.panel["bottom-body-scroll"].css({left:a.left});this.__throttledScroll?this.__throttledScroll(a,b):(this.config.virtualScrollY&&!b.noRepaint&&
"top"in a?F.call(this):this.config.virtualScrollX&&!b.noRepaint&&"left"in a&&F.call(this),b.callback&&b.callback())},l=function(a){var b={UD:function(a){var b=!0,c=void 0;for(f in this.focusedColumn){c=jQuery.extend({},this.focusedColumn[f],!0);break}if(!c)return!1;var f=this.bodyRowMap[c.rowIndex+"_"+c.colIndex];r.focusClear.call(this);r.clear.call(this);0<a?c.rowIndex+(f.rowspan-1)+a>this.bodyRowTable.rows.length-1?(c.dindex+=a,c.doindex+=a,c.rowIndex=0,c.dindex>this.list.length-1&&(c.dindex=c.doindex=
this.list.length-1,b=!1)):c.rowIndex+=a:0>c.rowIndex+a?(c.dindex+=a,c.doindex+=a,c.rowIndex=this.bodyRowTable.rows.length-1,0>c.dindex&&(c.dindex=c.doindex=0,b=!1)):c.rowIndex+=a;for(f=0;"undefined"===typeof this.bodyRowMap[c.rowIndex+"_"+c.colIndex];){0==c.rowIndex||f%2==(0<a?0:1)?c.colIndex--:c.rowIndex--;if(0>=c.rowIndex&&0>=c.colIndex){b=!1;break}f++}f=h.util.findPanelByColumnIndex.call(this,c.dindex,c.colIndex);if(this.config.body.mergeCells&&this.list.length){for(;!this.$.panel[f.panelName].find('[data-ax5grid-tr-data-index="'+
c.dindex+'"]').find('[data-ax5grid-column-rowindex="'+c.rowIndex+'"][data-ax5grid-column-colindex="'+c.colIndex+'"]').get(0)&&!(0<a?c.dindex++:c.dindex--,0>c.dindex||c.dindex>this.list.length-1););f=h.util.findPanelByColumnIndex.call(this,c.dindex,c.colIndex)}c.panelName=f.panelName;c.dindex+1>this.xvar.frozenRowIndex&&(c.dindex<=this.xvar.virtualPaintStartRowIndex?(a=(c.dindex-this.xvar.frozenRowIndex-1)*this.xvar.bodyTrHeight,0>a&&(a=0),E.call(this,{top:-a,timeoutUnUse:!1}),h.scroller.resize.call(this)):
c.dindex+1>this.xvar.virtualPaintStartRowIndex+(this.xvar.virtualPaintRowCount-2)&&(E.call(this,{top:(this.xvar.virtualPaintRowCount-2-c.dindex)*this.xvar.bodyTrHeight,timeoutUnUse:!1}),h.scroller.resize.call(this)));this.focusedColumn[c.dindex+"_"+c.colIndex+"_"+c.rowIndex]=c;this.$.panel[c.panelName].find('[data-ax5grid-tr-data-index="'+c.dindex+'"]').find('[data-ax5grid-column-rowindex="'+c.rowIndex+'"][data-ax5grid-column-colindex="'+c.colIndex+'"]').attr("data-ax5grid-column-focused","true");
return b},LR:function(a){var b=!0,c=void 0,f=!1,e="";f=void 0;for(var g in this.focusedColumn){c=jQuery.extend({},this.focusedColumn[g],!0);break}if(!c)return!1;r.focusClear.call(this);r.clear.call(this);0>a?(c.colIndex+=a,0>c.colIndex&&(c.colIndex=0,b=!1)):(c.colIndex+=a,c.colIndex>this.colGroup.length-1&&(c.colIndex=this.colGroup.length-1,b=!1));"undefined"===typeof this.bodyRowMap[c.rowIndex+"_"+c.colIndex]&&(c.rowIndex=0);if(this.list[c.dindex]&&this.list[c.dindex].__isGrouping)if(0>a)for(;"undefined"===
typeof this.bodyGroupingMap[c.rowIndex+"_"+c.colIndex];){if(c.colIndex--,0>=c.colIndex){b=!1;break}}else for(;"undefined"===typeof this.bodyGroupingMap[c.rowIndex+"_"+c.colIndex];){if(c.colIndex++,c.colIndex>=this.colGroup.length){b=!1;break}}else if(0>a)for(;"undefined"===typeof this.bodyRowMap[c.rowIndex+"_"+c.colIndex];){if(c.colIndex--,0>=c.colIndex){b=!1;break}}else for(;"undefined"===typeof this.bodyRowMap[c.rowIndex+"_"+c.colIndex];)if(c.colIndex++,c.colIndex>=this.colGroup.length){b=!1;break}f=
h.util.findPanelByColumnIndex.call(this,c.dindex,c.colIndex);if(this.config.body.mergeCells&&this.list.length&&1<c.dindex){for(;!this.$.panel[f.panelName].find('[data-ax5grid-tr-data-index="'+c.dindex+'"]').find('[data-ax5grid-column-rowindex="'+c.rowIndex+'"][data-ax5grid-column-colindex="'+c.colIndex+'"]').get(0)&&!(c.dindex--,0>c.dindex||c.dindex>this.list.length-1););f=h.util.findPanelByColumnIndex.call(this,c.dindex,c.colIndex)}c.panelName=f.panelName;a=function(){if(!this.config.virtualScrollX)return!1;
if(c.colIndex+1>this.xvar.frozenColumnIndex){if(c.colIndex<=this.xvar.paintStartColumnIndex&&this.colGroup[c.colIndex]){var a=-this.colGroup[Number(c.colIndex)]._sx;E.call(this,{left:a});h.header.scrollTo.call(this,{left:a});h.scroller.resize.call(this);return!0}if(c.colIndex>=this.xvar.paintEndColumnIndex&&this.colGroup[Number(c.colIndex)])return this.colGroup[Number(c.colIndex)]._ex>this.xvar.bodyWidth&&(a=this.colGroup[Number(c.colIndex)]._ex-this.xvar.bodyWidth,E.call(this,{left:-a}),h.header.scrollTo.call(this,
{left:-a}),h.scroller.resize.call(this)),!0}return!1}.call(this);e=f.containerPanelName;f=f.isScrollPanel;this.focusedColumn[c.dindex+"_"+c.colIndex+"_"+c.rowIndex]=c;g=this.$.panel[c.panelName].find('[data-ax5grid-tr-data-index="'+c.dindex+'"]').find('[data-ax5grid-column-rowindex="'+c.rowIndex+'"][data-ax5grid-column-colindex="'+c.colIndex+'"]').attr("data-ax5grid-column-focused","true");!a&&g&&f&&(e=g.position().left+g.outerWidth()>Math.abs(this.$.panel[c.panelName].position().left)+this.$.panel[e].width()?
g.position().left+g.outerWidth()-this.$.panel[e].width():Math.abs(this.$.panel[c.panelName].position().left)>g.position().left?g.position().left:void 0,"undefined"!==typeof e&&(h.header.scrollTo.call(this,{left:-e}),E.call(this,{left:-e}),h.scroller.resize.call(this)));return b},INDEX:function(a){var b=void 0,c;for(c in this.focusedColumn){b=jQuery.extend({},this.focusedColumn[c],!0);break}b||(b={rowIndex:0,colIndex:0});r.focusClear.call(this);r.clear.call(this);"end"==a&&(a=this.list.length-1);b.dindex=
a;for(a=b.rowIndex=0;"undefined"===typeof this.bodyRowMap[b.rowIndex+"_"+b.colIndex];){0==b.rowIndex||a%2==(0<_dy?0:1)?b.colIndex--:b.rowIndex--;if(0>=b.rowIndex&&0>=b.colIndex)break;a++}a=h.util.findPanelByColumnIndex.call(this,b.dindex,b.colIndex);b.panelName=a.panelName;b.dindex+1>this.xvar.frozenRowIndex&&(b.dindex<this.xvar.virtualPaintStartRowIndex?(E.call(this,{top:-(b.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),h.scroller.resize.call(this)):b.dindex+1>this.xvar.virtualPaintStartRowIndex+
(this.xvar.virtualPaintRowCount-2)&&(E.call(this,{top:-(b.dindex-this.xvar.frozenRowIndex-this.xvar.virtualPaintRowCount+3)*this.xvar.bodyTrHeight}),h.scroller.resize.call(this)));this.focusedColumn[b.dindex+"_"+b.colIndex+"_"+b.rowIndex]=b;this.$.panel[b.panelName].find('[data-ax5grid-tr-data-index="'+b.dindex+'"]').find('[data-ax5grid-column-rowindex="'+b.rowIndex+'"][data-ax5grid-column-colindex="'+b.colIndex+'"]').attr("data-ax5grid-column-focused","true");return!0}},c={UP:function(){return b.UD.call(this,
-1)},DOWN:function(){return b.UD.call(this,1)},LEFT:function(){return b.LR.call(this,-1)},RIGHT:function(){return b.LR.call(this,1)},HOME:function(){return b.INDEX.call(this,0)},END:function(){return b.INDEX.call(this,"end")},position:function(a){return b.INDEX.call(this,a)}};return a in c?c[a].call(this):c.position.call(this,a)},f={active:function(a,b,c){var f=b=void 0,l=void 0,d=void 0,m=void 0,k=void 0,g=void 0;for(r in a){m=a[r].panelName;b=a[r].dindex;f=a[r].doindex;l=a[r].colIndex;d=a[r].rowIndex;
k=this.colGroup[l];if(!(g=k.editor)||n.isFunction(g.disabled)&&g.disabled.call({list:this.list,dindex:b,item:this.list[b],key:k.key,value:c}))return this;var p=g.type in h.inlineEditor?"popup"==h.inlineEditor[g.type].editMode:void 0;if(!p){if("checkbox"==g.type){var r=void 0;g=g.config&&g.config.trueValue?(r=c!=g.config.trueValue)?g.config.trueValue:g.config.falseValue:r=0==c||"false"==c||"1">c?"true":"false";h.data.setValue.call(this,b,f,k.key,g);e.call(this,["cellChecked"],b,f,{key:k.key,rowIndex:d,
colIndex:l,editorConfig:k.editor.config,checked:r})}return this}if(this.list[b].__isGrouping||r in this.inlineEditing)return!1;this.inlineEditing[r]={editor:g,panelName:m,columnKey:r,column:a[r],useReturnToSave:h.inlineEditor[g.type].useReturnToSave};this.isInlineEditing=!0}if(this.isInlineEditing)return f=h.data.getValue.call(this,b,f,k.key),k=g,n.isNothing(c)&&(c=n.isNothing(f)?"":f),c="money"==k.type?n.number(c,{money:!0}):c,this.inlineEditing[r].$inlineEditorCell=this.$.panel[m].find('[data-ax5grid-tr-data-index="'+
b+'"]').find('[data-ax5grid-column-rowindex="'+d+'"][data-ax5grid-column-colindex="'+l+'"]').find("[data-ax5grid-cellholder]"),this.inlineEditing[r].$inlineEditor=h.inlineEditor[g.type].init(this,r,g,this.inlineEditing[r].$inlineEditorCell,c),!0},deActive:function(a,b,c){if(!this.inlineEditing[b])return this;var f=this.inlineEditing[b].panelName,e=this.inlineEditing[b].column.dindex,d=this.inlineEditing[b].column.doindex,l=this.inlineEditing[b].column.rowIndex,k=this.inlineEditing[b].column.colIndex,
g=this.bodyRowMap[this.inlineEditing[b].column.rowIndex+"_"+this.inlineEditing[b].column.colIndex],m=function(b){if("undefined"===typeof c){if("SELECT"==b.get(0).tagName||"INPUT"==b.get(0).tagName||"TEXTAREA"==b.get(0).tagName)return b.val();a="CANCEL";return!1}return c}(this.inlineEditing[b].$inlineEditor);m=function(a,b){return"money"==b.type?n.number(a):a}.call(this,m,g.editor);var p={CANCEL:function(a,b,c){p.__clear.call(this)},RETURN:function(a,b,c,d){h.data.setValue.call(this,a,b,c.key,d)?(p.__clear.call(this),
h.body.repaintCell.call(this,f,a,b,l,k,d)):p.__clear.call(this)},__clear:function(){this.isInlineEditing=!1;var a=this.inlineEditing[b].$inlineEditor.data("binded-ax5ui");"ax5picker"==a?this.inlineEditing[b].$inlineEditor.ax5picker("close"):"ax5select"==a&&this.inlineEditing[b].$inlineEditor.ax5select("close");this.inlineEditing[b].$inlineEditor.remove();this.inlineEditing[b].$inlineEditor=null;this.inlineEditing[b].$inlineEditorCell=null;this.inlineEditing[b]=void 0;delete this.inlineEditing[b]}};
a in p?p[a||"RETURN"].call(this,e,d,g,m):p.__clear.call(this)},keydown:function(a,b,c){var l={ESC:function(){for(var a in this.inlineEditing)f.deActive.call(this,"CANCEL",a)},RETURN:function(){if(this.isInlineEditing)if(this.inlineEditing[b]&&this.inlineEditing[b].useReturnToSave)f.deActive.call(this,"RETURN",b);else return!1;else for(var a in this.focusedColumn){var d=this.focusedColumn[a],l=this.bodyRowMap[d.rowIndex+"_"+d.colIndex],k=d.dindex,g=d.doindex,m="",p=this.colGroup[d.colIndex];l&&(this.list[k].__isGrouping||
(m=h.data.getValue.call(this,k,g,l.key)));p.editor&&"inline"===h.inlineEditor[p.editor.type].editMode?c&&c.moveFocus||!l.editor||"checkbox"!=l.editor.type||(m=h.data.getValue.call(this,k,g,l.key),l.editor.config&&l.editor.config.trueValue?m!=l.editor.config.trueValue?(p=l.editor.config.trueValue,m=!0):(p=l.editor.config.falseValue,m=!1):p=m=0==m||"false"==m||"1">m?"true":"false",h.data.setValue.call(this,k,g,l.key,p),e.call(this,["cellChecked"],k,g,{key:l.key,rowIndex:d.rowIndex,colIndex:d.colIndex,
editorConfig:l.editor.config,checked:m})):h.body.inlineEdit.active.call(this,this.focusedColumn,null,m)}return!0}};a in l&&l[a].call(this,a,b,c)}},c=function(a,b,c){h.data.toggleCollapse.call(this,a,b,c)&&(this.proxyList=h.data.getProxyList.call(this,this.list),F.call(this))};h.body={init:function(){var a=this;this.$.container.body.on("click","[data-ax5grid-column-attr]",function(b){var f=b=void 0,l=void 0,k=void 0,d=void 0,p=void 0,n=void 0,g=void 0,v={"default":function(b){var c=a.bodyRowMap[b.rowIndex+
"_"+b.colIndex],d={self:a,page:a.page,list:a.list,item:a.list[b.doindex],dindex:b.dindex,doindex:b.doindex,rowIndex:b.rowIndex,colIndex:b.colIndex,column:c,value:a.list[b.dindex][c.key]};if(c.editor&&"checkbox"==c.editor.type){d=h.data.getValue.call(a,b.dindex,b.doindex,c.key);var g;d=c.editor.config&&c.editor.config.trueValue?(g=d!=c.editor.config.trueValue)?c.editor.config.trueValue:c.editor.config.falseValue:g=0==d||"false"==d||"1">d?"true":"false";h.data.setValue.call(a,b.dindex,b.doindex,c.key,
d);e.call(a,["cellChecked"],b.dindex,b.doindex,{key:c.key,rowIndex:b.rowIndex,colIndex:b.colIndex,editorConfig:c.editor.config,checked:g})}else a.config.body.onClick&&a.config.body.onClick.call(d)},rowSelector:function(b){if(a.list[b.doindex][a.config.columnKeys.disableSelection])return!1;a.config.multipleSelect||a.selectedDataIndexs[0]===b.doindex||(e.call(a,["selectedClear"]),h.data.clearSelect.call(a));h.data.select.call(a,b.dindex,b.doindex,void 0,{internalCall:!0});e.call(a,["selected"],b.dindex,
b.doindex)},lineNumber:function(a){},"tree-control":function(b,d){c.call(a,b.dindex,b.doindex)}};b=this.getAttribute("data-ax5grid-panel-name");f=this.getAttribute("data-ax5grid-column-attr");l=Number(this.getAttribute("data-ax5grid-column-row"));k=Number(this.getAttribute("data-ax5grid-column-col"));n=Number(this.getAttribute("data-ax5grid-column-rowIndex"));g=Number(this.getAttribute("data-ax5grid-column-colIndex"));d=Number(this.getAttribute("data-ax5grid-data-index"));p=Number(this.getAttribute("data-ax5grid-data-o-index"));
if(f in v)v[f]({panelName:b,attr:f,row:l,col:k,dindex:d,doindex:p,rowIndex:n,colIndex:g},this)});this.$.container.body.on("dblclick","[data-ax5grid-column-attr]",function(b){var c=void 0,f=void 0,e=void 0,d=void 0,l=void 0,k=void 0,g=void 0,p=void 0,r={"default":function(c){if(a.isInlineEditing)for(var d in a.inlineEditing)if(d==c.dindex+"_"+c.colIndex+"_"+c.rowIndex)return this;d=a.bodyRowMap[c.rowIndex+"_"+c.colIndex];var g="";d&&(a.list[l].__isGrouping||(g=h.data.getValue.call(a,l,k,d.key)));n.isObject(a.colGroup[c.colIndex].editor)?
h.body.inlineEdit.active.call(a,a.focusedColumn,b,g):a.config.body.onDBLClick&&a.config.body.onDBLClick.call({self:a,page:a.page,list:a.list,item:a.list[c.dindex],dindex:c.dindex,doindex:c.doindex,rowIndex:c.rowIndex,colIndex:c.colIndex,column:d,value:a.list[c.dindex][d.key]})},rowSelector:function(a){},lineNumber:function(a){}};c=this.getAttribute("data-ax5grid-panel-name");f=this.getAttribute("data-ax5grid-column-attr");e=Number(this.getAttribute("data-ax5grid-column-row"));d=Number(this.getAttribute("data-ax5grid-column-col"));
g=Number(this.getAttribute("data-ax5grid-column-rowIndex"));p=Number(this.getAttribute("data-ax5grid-column-colIndex"));l=Number(this.getAttribute("data-ax5grid-data-index"));k=Number(this.getAttribute("data-ax5grid-data-o-index"));if(f in r)r[f]({panelName:c,attr:f,row:e,col:d,dindex:l,doindex:k,rowIndex:g,colIndex:p})});if(this.config.contextMenu)this.$.container.body.on("contextmenu",function(b){var c=void 0,f=void 0,e=void 0,d=void 0,l=void 0,h=void 0,g=void 0,k={};if(c=n.findParentNode(b.target,
function(a){if(a.getAttribute("data-ax5grid-column-attr"))return!0}))d=Number(c.getAttribute("data-ax5grid-column-rowIndex")),l=Number(c.getAttribute("data-ax5grid-column-colIndex")),f=Number(c.getAttribute("data-ax5grid-data-index")),e=Number(c.getAttribute("data-ax5grid-data-o-index")),g=a.bodyRowMap[d+"_"+l],h=a.list[f];a.contextMenu||(a.contextMenu=new ax5.ui.menu);a.contextMenu.setConfig(a.config.contextMenu);k={element:c,dindex:f,doindex:e,rowIndex:d,colIndex:l,item:h,column:g,gridSelf:a};a.contextMenu.popup(b,
{filter:function(){return a.config.contextMenu.popupFilter.call(this,this,k)},param:k});n.stopEvent(b.originalEvent);k=g=h=l=d=e=f=c=null});this.$.container.body.on("mousedown",'[data-ax5grid-column-attr="default"]',function(b){if(a.xvar.touchmoved)return!1;this.getAttribute("data-ax5grid-column-rowIndex")&&k.on.call(a,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),doindex:Number(this.getAttribute("data-ax5grid-data-o-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),
colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))})}).on("dragstart",function(a){n.stopEvent(a);return!1});y.call(this);this.xvar.paintRowCountMargin=this.config.virtualScrollYCountMargin;this.xvar.paintRowCountTopMargin=this.config.virtualScrollYCountMargin-Math.floor(this.config.virtualScrollYCountMargin/2);this.__throttledScroll=this.config.virtualScrollAccelerated?n.throttle(function(a,c){this.config.virtualScrollY&&!c.noRepaint&&"top"in
a?F.call(this):this.config.virtualScrollX&&!c.noRepaint&&"left"in a&&F.call(this);c.callback&&c.callback()},this.config.virtualScrollAcceleratedDelayTime):!1},repaint:F,repaintCell:function(a,b,c,f,e,d){var l=this,k=this.config,g=this.list;a=this.$.panel[a].find('[data-ax5grid-tr-data-index="'+b+'"]').find('[data-ax5grid-column-rowindex="'+f+'"][data-ax5grid-column-colindex="'+e+'"]').find("[data-ax5grid-cellholder]");var m=this.colGroup;e=m[e];a.html(w.call(this,g,g[b],b,e));e.editor&&e.editor.updateWith&&
e.editor.updateWith.forEach(function(a){m.forEach(function(c){if(c.key==a){var d=c.rowIndex,f=c.colIndex,e=h.util.findPanelByColumnIndex.call(l,b,f,d).panelName;l.$.panel[e].find('[data-ax5grid-tr-data-index="'+b+'"]').find('[data-ax5grid-column-rowindex="'+d+'"][data-ax5grid-column-colindex="'+f+'"]').find("[data-ax5grid-cellholder]").html(w.call(l,g,g[b],b,c))}})});var p=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex;e=this.headerColGroup;
a=this.leftFootSumData;c=this.footSumData;f=this.leftBodyGroupingData;d=this.bodyGroupingData;var r=k.body.align,x=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1;p={paintStartRowIndex:p,paintRowCount:x,bodyTrHeight:this.xvar.bodyTrHeight};if(this.xvar.nopaintLeftColumnsWidth||this.xvar.nopaintRightColumnsWidth)e=[].concat(e).splice(this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex-this.xvar.paintStartColumnIndex+1),k.body.grouping&&(d=h.util.getTableByStartEndColumnIndex(d,
this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex)),k.footSum&&(c=h.util.getTableByStartEndColumnIndex(c,this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex));x=function(a,b,c,d,g){g=this.$.panel[a];var f=[],e=void 0,l=void 0,h=l=e=void 0,m=void 0,p=void 0,u=void 0,v=void 0;f.push('<table border="0" cellpadding="0" cellspacing="0">');f.push("<colgroup>");e=0;for(l=b.length;e<l;e++)f.push('<col style="width:'+b[e]._width+'px;"  />');f.push("<col  />");f.push("</colgroup>");e=
0;for(l=c.rows.length;e<l;e++){f.push('<tr class="tr-sum">');h=0;for(m=c.rows[e].cols.length;h<m;h++)p=c.rows[e].cols[h],u=k.body.columnHeight*p.rowspan-k.body.columnBorderWidth,v=p.align||r,f.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-column-row="'+e+'" ','data-ax5grid-column-col="'+h+'" ','data-ax5grid-column-rowIndex="'+e+'" ','data-ax5grid-column-colIndex="'+p.colIndex+'" ','data-ax5grid-column-attr="'+(p.columnAttr||"sum")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');
b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn["sum_"+p.colIndex+"_"+e],this.selectedColumn["sum_"+p.colIndex+"_"+e]),'colspan="'+p.colspan+'" ','rowspan="'+p.rowspan+'" ','class="'+function(a){var b="";a.styleClass&&(b=n.isFunction(a.styleClass)?b+(a.styleClass.call({column:a,key:a.key,isFootSum:!0})+" "):b+(a.styleClass+" "));k.body.columnBorderWidth&&(b+="hasBorder ");h==m-1&&(b+="isLastColumn ");return b}.call(this,p)+'" ','style="height: '+u+'px;min-height: 1px;">'),
f.push(function(a){var b=k.body.columnHeight-2*k.body.columnPadding-k.body.columnBorderWidth;p.multiLine||(a=k.body.columnHeight-k.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(p.multiLine?"multiLine":"")+'" '+(v?'data-ax5grid-text-align="'+v+'"':"")+'" style="height:'+a+"px;"+(p.multiLine?"":"line-height: "+b+"px;")+'">'}(u),B.call(this,d,p),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ',
'style="height: '+k.body.columnHeight+'px;min-height: 1px;" ',"></td>");f.push("</tr>")}f.push("</table>");g.empty().get(0).innerHTML=f.join("");return!0};var E=function(a,b,c,d,g){b=this.$.panel[a];var f=[],e=void 0,l=void 0,h=void 0,m=void 0,p=void 0,u=void 0,v=void 0,A=void 0,B=void 0;e=g.paintStartRowIndex;for(l=function(){var a=d.length;g.paintRowCount+g.paintStartRowIndex<a&&(a=g.paintRowCount+g.paintStartRowIndex);return a}();e<l;e++)if(d[e]&&c&&"__isGrouping"in d[e]){var x=c;f=[];h=0;for(m=
x.rows.length;h<m;h++){p=0;for(u=x.rows[h].cols.length;p<u;p++)v=x.rows[h].cols[p],A=k.body.columnHeight*v.rowspan-k.body.columnBorderWidth,B=v.align||r,f.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-data-index="'+e+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+p+'" ','data-ax5grid-column-rowIndex="'+v.rowIndex+'" ','data-ax5grid-column-colIndex="'+v.colIndex+'" ','data-ax5grid-column-attr="'+(v.columnAttr||"default")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');
b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn[e+"_"+v.colIndex+"_"+v.rowIndex],this.selectedColumn[e+"_"+v.colIndex+"_"+v.rowIndex]),'colspan="'+v.colspan+'" ','rowspan="'+v.rowspan+'" ','class="'+function(a){var b="";a.styleClass&&(b=n.isFunction(a.styleClass)?b+(a.styleClass.call({column:a,key:a.key,item:d[e],index:e})+" "):b+(a.styleClass+" "));k.body.columnBorderWidth&&(b+="hasBorder ");p==u-1&&(b+="isLastColumn ");return b}.call(this,v)+'" ','style="height: '+A+
'px;min-height: 1px;">'),f.push(function(a){var b=k.body.columnHeight-2*k.body.columnPadding-k.body.columnBorderWidth;v.multiLine||(a=k.body.columnHeight-k.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(v.multiLine?"multiLine":"")+'" '+(B?'data-ax5grid-text-align="'+B+'"':"")+'" style="height:'+a+"px;"+(v.multiLine?"":"line-height: "+b+"px;")+'">'}(A),D.call(this,d[e],e,v),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ',
'data-ax5grid-data-index="'+e+'" ','data-ax5grid-column-attr="default" ','style="height: '+k.body.columnHeight+'px;min-height: 1px;" ',"></td>")}b.find('tr[data-ax5grid-tr-data-index="'+e+'"]').empty().get(0).innerHTML=f.join("")}};k.body.grouping&&(0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&E.call(this,"top-left-body",e,f,g.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),E.call(this,"left-body-scroll",
e,f,g,p)),0<this.xvar.frozenRowIndex&&E.call(this,"top-body-scroll",e,d,g.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),E.call(this,"body-scroll",e,d,g,p));0<this.xvar.frozenColumnIndex&&k.footSum&&this.needToPaintSum&&x.call(this,"bottom-left-body",e,a,g);k.footSum&&this.needToPaintSum&&x.call(this,"bottom-body-scroll",e,c,g,p)},repaintCellMin:function(a,b,c,f,e,d){c=this.list;this.$.panel[a].find('[data-ax5grid-tr-data-index="'+
b+'"]').find('[data-ax5grid-column-rowindex="'+f+'"][data-ax5grid-column-colindex="'+e+'"]').find("[data-ax5grid-cellholder]").html(w.call(this,c,c[b],b,this.colGroup[e]))},repaintRow:function(a){var b=this.config,c=this.list,f=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,e=this.leftBodyRowData,d=this.bodyRowData,l=this.leftFootSumData,k=this.footSumData,g=this.leftBodyGroupingData,h=this.bodyGroupingData,p=b.body.align,r=Math.ceil(this.$.panel.body.height()/
this.xvar.bodyTrHeight)+1;f={paintStartRowIndex:f,paintRowCount:r,bodyTrHeight:this.xvar.bodyTrHeight};r=function(a,c,d,g){var f=this.$.panel[a],e=[],l=void 0,k=void 0,h=k=l=void 0,m=void 0,u=void 0,v=void 0,r=void 0;e.push('<table border="0" cellpadding="0" cellspacing="0">');e.push("<colgroup>");l=0;for(k=c.length;l<k;l++)e.push('<col style="width:'+c[l]._width+'px;"  />');e.push("<col  />");e.push("</colgroup>");l=0;for(k=d.rows.length;l<k;l++){e.push('<tr class="tr-sum">');h=0;for(m=d.rows[l].cols.length;h<
m;h++)u=d.rows[l].cols[h],v=b.body.columnHeight*u.rowspan-b.body.columnBorderWidth,r=u.align||p,e.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-column-row="'+l+'" ','data-ax5grid-column-col="'+h+'" ','data-ax5grid-column-rowIndex="'+l+'" ','data-ax5grid-column-colIndex="'+u.colIndex+'" ','data-ax5grid-column-attr="'+(u.columnAttr||"sum")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn["sum_"+
u.colIndex+"_"+l],this.selectedColumn["sum_"+u.colIndex+"_"+l]),'colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ','class="'+function(a){var c="";a.styleClass&&(c=n.isFunction(a.styleClass)?c+(a.styleClass.call({column:a,key:a.key,isFootSum:!0})+" "):c+(a.styleClass+" "));b.body.columnBorderWidth&&(c+="hasBorder ");h==m-1&&(c+="isLastColumn ");return c}.call(this,u)+'" ','style="height: '+v+'px;min-height: 1px;">'),e.push(function(a){var c=b.body.columnHeight-2*b.body.columnPadding-b.body.columnBorderWidth;
u.multiLine||(a=b.body.columnHeight-b.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(u.multiLine?"multiLine":"")+'" '+(r?'data-ax5grid-text-align="'+r+'"':"")+'" style="height:'+a+"px;line-height: "+c+'px;">'}(v),B.call(this,g,u),"</span>"),e.push("</td>");e.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+b.body.columnHeight+'px;min-height: 1px;" ',"></td>");e.push("</tr>")}e.push("</table>");f.empty().get(0).innerHTML=
e.join("");return!0};var E=function(a,c,d,g,f){c=this.$.panel[a];var e=[],l=void 0,h=void 0,k=void 0,m=void 0,u=void 0,v=void 0,r=void 0,A=void 0,B=void 0;if("undefined"===typeof f||"undefined"===typeof f.paintStartRowIndex)f={paintStartRowIndex:0,paintRowCount:g.length};l=f.paintStartRowIndex;for(h=function(){var a=g.length;f.paintRowCount+f.paintStartRowIndex<a&&(a=f.paintRowCount+f.paintStartRowIndex);return a}();l<h;l++)if(g[l]&&d&&"__isGrouping"in g[l]){var x=d;e=[];k=0;for(m=x.rows.length;k<
m;k++){u=0;for(v=x.rows[k].cols.length;u<v;u++)r=x.rows[k].cols[u],A=b.body.columnHeight*r.rowspan-b.body.columnBorderWidth,B=r.align||p,e.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-data-index="'+l+'" ','data-ax5grid-column-row="'+k+'" ','data-ax5grid-column-col="'+u+'" ','data-ax5grid-column-rowIndex="'+r.rowIndex+'" ','data-ax5grid-column-colIndex="'+r.colIndex+'" ','data-ax5grid-column-attr="'+(r.columnAttr||"default")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');
b&&(c+='data-ax5grid-column-selected="true" ');return c}(this.focusedColumn[l+"_"+r.colIndex+"_"+r.rowIndex],this.selectedColumn[l+"_"+r.colIndex+"_"+r.rowIndex]),'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ','class="'+function(a){var c="";a.styleClass&&(c=n.isFunction(a.styleClass)?c+(a.styleClass.call({column:a,key:a.key,item:g[l],index:l})+" "):c+(a.styleClass+" "));b.body.columnBorderWidth&&(c+="hasBorder ");u==v-1&&(c+="isLastColumn ");return c}.call(this,r)+'" ','style="height: '+A+
'px;min-height: 1px;">'),e.push(function(a){var c=b.body.columnHeight-2*b.body.columnPadding-b.body.columnBorderWidth;r.multiLine||(a=b.body.columnHeight-b.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(r.multiLine?"multiLine":"")+'" '+(B?'data-ax5grid-text-align="'+B+'"':"")+'" style="height:'+a+"px;line-height: "+c+'px;">'}(A),D.call(this,g[l],l,r),"</span>"),e.push("</td>");e.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+
l+'" ','data-ax5grid-column-attr="default" ','style="height: '+b.body.columnHeight+'px;min-height: 1px;" ',"></td>")}c.find('tr[data-ax5grid-tr-data-index="'+l+'"]').empty().get(0).innerHTML=e.join("")}},y=function(a,c,d,g,f){c=this.$.panel[a];var e=[],l=void 0,k=void 0,h=void 0,m=void 0,u=void 0,v=void 0,r=void 0,A="undefined"!==typeof g[f].__origin_index__?g[f].__origin_index__:f;l=0;for(k=d.rows.length;l<k;l++){h=0;for(m=d.rows[l].cols.length;h<m;h++)u=d.rows[l].cols[h],v=b.body.columnHeight*u.rowspan-
b.body.columnBorderWidth,r=u.align||p,e.push("<td ",'data-ax5grid-panel-name="'+a+'" ','data-ax5grid-data-index="'+f+'" ','data-ax5grid-data-o-index="'+A+'" ','data-ax5grid-column-row="'+l+'" ','data-ax5grid-column-col="'+h+'" ','data-ax5grid-column-rowIndex="'+u.rowIndex+'" ','data-ax5grid-column-colIndex="'+u.colIndex+'" ','data-ax5grid-column-attr="'+(u.columnAttr||"default")+'" ',function(a,b){var c="";a&&(c+='data-ax5grid-column-focused="true" ');b&&(c+='data-ax5grid-column-selected="true" ');
return c}(this.focusedColumn[f+"_"+u.colIndex+"_"+u.rowIndex],this.selectedColumn[f+"_"+u.colIndex+"_"+u.rowIndex]),'colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ','class="'+function(a){var c="";a.styleClass&&(c=n.isFunction(a.styleClass)?c+(a.styleClass.call({column:a,key:a.key,item:g[f],index:f})+" "):c+(a.styleClass+" "));b.body.columnBorderWidth&&(c+="hasBorder ");h==m-1&&(c+="isLastColumn ");return c}.call(this,u)+'" ','style="height: '+v+'px;min-height: 1px;">'),e.push(function(a){var c=
b.body.columnHeight-2*b.body.columnPadding-b.body.columnBorderWidth;u.multiLine||(a=b.body.columnHeight-b.body.columnBorderWidth);return'<span data-ax5grid-cellHolder="'+(u.multiLine?"multiLine":"")+'" '+(r?'data-ax5grid-text-align="'+r+'"':"")+'" style="height:'+a+"px;"+(u.multiLine?"":"line-height: "+c+"px;")+'">'}(v),w.call(this,g,g[f],f,u),"</span>"),e.push("</td>");e.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+f+'" ','data-ax5grid-column-attr="default" ',
'style="height: '+b.body.columnHeight+'px;min-height: 1px;" ',"></td>")}c.find('tr[data-ax5grid-tr-data-index="'+f+'"]').empty().get(0).innerHTML=e.join("")};0<this.xvar.frozenColumnIndex&&(this.xvar.frozenRowIndex>a?y.call(this,"top-left-body",this.leftHeaderColGroup,e,c.slice(0,this.xvar.frozenRowIndex),a):y.call(this,"left-body-scroll",this.leftHeaderColGroup,e,c,a));this.xvar.frozenRowIndex>a?y.call(this,"top-body-scroll",this.headerColGroup,d,c.slice(0,this.xvar.frozenRowIndex),a):y.call(this,
"body-scroll",this.headerColGroup,d,c,a);b.body.grouping&&(0<this.xvar.frozenColumnIndex&&(this.xvar.frozenRowIndex>a?E.call(this,"top-left-body",this.leftHeaderColGroup,g,c.slice(0,this.xvar.frozenRowIndex)):E.call(this,"left-body-scroll",this.leftHeaderColGroup,g,c,f)),this.xvar.frozenRowIndex>a?E.call(this,"top-body-scroll",this.headerColGroup,h,c.slice(0,this.xvar.frozenRowIndex)):E.call(this,"body-scroll",this.headerColGroup,h,c,f));0<this.xvar.frozenColumnIndex&&b.footSum&&this.needToPaintSum&&
r.call(this,"bottom-left-body",this.leftHeaderColGroup,l,c);b.footSum&&this.needToPaintSum&&r.call(this,"bottom-body-scroll",this.headerColGroup,k,c,f)},updateRowState:e,updateRowStateAll:function(a,b){var c=this,f={selected:function(a){h.body.repaint.call(this,!0)}};a.forEach(function(a){if(!f[a])throw"invaild state name";f[a].call(c,b)})},scrollTo:E,blur:function(){r.focusClear.call(this);r.clear.call(this);this.isInlineEditing&&f.deActive.call(this)},moveFocus:l,inlineEdit:f,getExcelString:function(){var a=
this.config,b=this.list,c=this.footSumTable,f=function(a,b,c){var d=[],f,e,l=0;var h=0;for(f=a.length;h<f;h++)0==a[h].width&&l++;h=0;for(f=b.rows.length;h<f;h++){d.push("\n<tr>");a=0;for(e=b.rows[h].cols.length;a<e;a++){var k=b.rows[h].cols[a];0==a?d.push("<td ",'colspan="'+(k.colspan-l)+'" ','rowspan="'+k.rowspan+'" ',">",B.call(this,c,k),"</td>"):d.push("<td ",'colspan="'+k.colspan+'" ','rowspan="'+k.rowspan+'" ',">",B.call(this,c,k),"</td>")}d.push("\n</tr>")}return d.join("")},e=[];e.push(function(a,
b,c,g){a=[];var d,f,e;var l=0;for(d=g.length;l<d;l++){var h=!1;if(c&&"__isGrouping"in g[l]){var k=c;h=!0}else k=b;var m=0;for(f=k.rows.length;m<f;m++){a.push("\n<tr>");var p=0;for(e=k.rows[m].cols.length;p<e;p++){var u=k.rows[m].cols[p];0!=u.width&&a.push("<td ",'colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ',">",h?D.call(this,g[l],l,u):w.call(this,g,g[l],l,u,void 0,"text"),"</td>")}a.push("\n</tr>")}}return a.join("")}.call(this,this.headerColGroup,this.bodyRowTable,this.bodyGroupingTable,
b));a.footSum&&e.push(f.call(this,this.headerColGroup,c,b));return e.join("")},getExcelStringXlsx:function(){var a=this.config,b=this.list,c=this.footSumTable,f=function(a,b,c){var d,f,e=0;var l=0;for(d=a.length;l<d;l++)0==a[l].width&&e++;var h=[];l=0;for(d=b.rows.length;l<d;l++){var k=[];a=0;for(f=b.rows[l].cols.length;a<f;a++){var m=b.rows[l].cols[a];0==a?k.push({data:p.call(this,c,m),colspan:m.colspan-e,rowspan:m.rowspan}):k.push({data:p.call(this,c,m),colspan:m.colspan,rowspan:m.rowspan})}h.push(k)}return h},
e=[];e.push(function(a,b,c,g){var d,f,e,l=[];a=0;for(d=g.length;a<d;a++){var k=!1;if(c&&"__isGrouping"in g[a]){var h=c;k=!0}else h=b;var m=0;for(f=h.rows.length;m<f;m++){var p=[];var u=0;for(e=h.rows[m].cols.length;u<e;u++){var n=h.rows[m].cols[u];0!=n.width&&p.push({colspan:n.colspan,rowspan:n.rowspan,data:k?D.call(this,g[a],a,n):z.call(this,g,g[a],a,n,void 0,"text")})}l.push(p)}}return l}.call(this,this.headerColGroup,this.bodyRowTable,this.bodyGroupingTable,b));a.footSum&&e.push(f.call(this,this.headerColGroup,
c,b));return e},toggleCollapse:c,click:function(a,b){b={self:this,page:this.page,list:this.list,item:this.list[a],dindex:a};l.call(this,a);this.config.body.onClick&&this.config.body.onClick.call(b)},dblClick:function(a,b){b={self:this,page:this.page,list:this.list,item:this.list[a],dindex:a};l.call(this,a);this.config.body.onDBLClick&&this.config.body.onDBLClick.call(b)}}})();
(function(){var h=ax5.util;ax5.ui.grid.collector={sum:function(){for(var n=0,r=this.list.length;r--;)"__groupingList"in this.list[r]||(n+=h.number(this.list[r][this.key]));return n},avg:function(){for(var n=0,r=this.list.length,k=0;r--;)"__groupingList"in this.list[r]||(n+=h.number(this.list[r][this.key]),k++);return h.number(n/(k||1),{round:2})},avgOne:function(){for(var n=0,r=this.list.length,k=0;r--;)"__groupingList"in this.list[r]||(n+=h.number(this.list[r][this.key]),k++);return h.number(n/(k||
1),{round:1})},max:function(){for(var n=0,r,k=this.list.length;k--;)"__groupingList"in this.list[k]||(r=h.number(this.list[k][this.key]),r>n&&(n=r));return n},min:function(){for(var n,r=this.list.length;r--;)"__groupingList"in this.list[r]||(n=h.number(this.list[r][this.key]),0>n&&(maxvalue=n));return 0},maxhour:function(){for(var h=0,r,k=this.list.length;k--;)"__groupingList"in this.list[k]||(r=this.list[k][this.key],r>h&&(h=r));return h},minhour:function(){for(var h=0,r,k=this.list.length;k--;)"__groupingList"in
this.list[k]||(r=this.list[k][this.key],h>r&&(h=r));return h}}})();
(function(){var h=ax5.ui.grid,n=ax5.util,r=function(e){for(var h=0,k=e.length,n=[];h<k;h++)e[h]&&!e[h].__isGrouping&&(e[h][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(h),n.push(jQuery.extend({},e[h])));return n},k=function(e){this.selectedDataIndexs=[];var h=0,k=e.length,r=[],l=0,f=0,c=0;if(this.config.body.grouping){var a=n.map(this.bodyGrouping.by,function(){return{key:this,compareString:"",grouping:!1,list:[]}}),b=0,m=a.length,B=void 0,x=[];for(b=void 0;h<k+1;h++)if(b=0,e[h]&&
e[h][this.config.columnKeys.deleted])this.deletedList.push(e[h]);else{B="";for(x=[];b<m;b++){e[h]&&(B+="$|$"+e[h][a[b].key]);if(0<l&&B!=a[b].compareString){for(var d={keys:[],labels:[],list:a[b].list},u=0;u<b+1;u++)d.keys.push(a[u].key),d.labels.push(e[h-1][a[u].key]);x.push(d);a[b].list=[]}a[b].list.push(e[h]);a[b].compareString=B}for(b=x.length;b--;)r.push({__isGrouping:!0,__groupingList:x[b].list,__groupingBy:{keys:x[b].keys,labels:x[b].labels}});e[h]&&(e[h][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(h),
e[h].__original_index=e[h].__index=c,r.push(e[h]),f++,l++,c++)}}else for(;h<k;h++)e[h]&&(e[h][this.config.columnKeys.deleted]?this.deletedList.push(e[h]):(e[h][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(h),"undefined"===typeof e[h].__original_index&&(e[h].__original_index=c),e[h].__index=c,f++,c++,r.push(e[h])));this.xvar.dataRealRowCount=f;return r},e=function(e){this.selectedDataIndexs=[];this.deletedList=[];for(var h,k,r=0,l,f=e.length,c=this.config.tree.columnKeys,a=this.config.tree.hashDigit,
b={};f--;)delete e[f][c.parentHash],delete e[f][c.selfHash];k=h=0;for(f=e.length;h<f;h++)e[h]&&(b[e[h][c.selfKey]]=h,n.isNothing(e[h][c.parentKey])||"top"===e[h][c.parentKey])&&(e[h][c.parentKey]="top",e[h][c.children]=[],e[h][c.parentHash]=n.setDigit("0",a),e[h][c.selfHash]=n.setDigit("0",a)+"."+n.setDigit(k,a),e[h][c.depth]=0,e[h][c.hidden]=!1,k++);for(l=h=0;h<f;h++){var m;if(e[h]&&"top"!==e[h][c.parentKey]&&"undefined"===typeof e[h][c.parentHash])if(m=e[b[e[h][c.parentKey]]]){var B=m[c.selfHash];
e[h][c.children]=[];e[h][c.parentHash]=B;e[h][c.selfHash]=B+"."+n.setDigit(m[c.children].length,a);e[h][c.depth]=m[c.depth]+1;if(m[c.collapse]||m[c.hidden])e[h][c.hidden]=!0;m[c.children].push(e[h][c.selfKey])}else e[h][c.parentKey]="top",e[h][c.children]=[],e[h][c.parentHash]=n.setDigit("0",a),e[h][c.selfHash]=n.setDigit("0",a)+"."+n.setDigit(k,a),e[h][c.hidden]=!1,k++;e[h]&&(e[h][this.config.columnKeys.deleted]?(this.deletedList.push(e[h]),e[h][c.hidden]=!0):e[h][this.config.columnKeys.selected]&&
this.selectedDataIndexs.push(h),e[h].__index=l,r++,l++)}this.listIndexMap=b;this.xvar.dataRealRowCount=r;return e},y=function(e){for(var h=0,k=e.length,n=[];h<k;h++)e[h]&&!e[h][this.config.tree.columnKeys.hidden]&&(e[h].__origin_index__=h,n.push(e[h]));return n},w=function(e,k,n,r){var l=this.list;e="undefined"===typeof k?e:k;if(/[\.\[\]]/.test(n))try{r=Function("","return this"+h.util.getRealPathForDataItem(n)+";").call(l[e])}catch(f){}else r=l[e][n];return r},z=function(e,k,r){var p=k||this.list,
l=[],f=0,c=function(a,b,c){if(/[\.\[\]]/.test(b))try{c=Function("","return this"+h.util.getRealPathForDataItem(b)+";").call(a)}catch(g){}else c=a[b];return c},a;for(a in e)l[e[a].seq]={key:a,order:e[a].orderBy};l=n.filter(l,function(){return"undefined"!==typeof this});r&&r.resetLineNumber&&0===l.length&&(l[0]={key:"__original_index",order:"asc"});var b=0,m=l.length,B=void 0,x=void 0;p.sort(function(a,f){for(b=0;b<m;b++){"103"==l[b].key?(B=c(a,"sort"),x=c(f,"sort")):(B=c(a,l[b].key),x=c(f,l[b].key));
("undefined"===typeof B?"undefined":_typeof(B))!==("undefined"===typeof x?"undefined":_typeof(x))?"105"==l[b].key||"103"==l[b].key?(B=parseInt(B),x=parseInt(x)):(B=""+B,x=""+x):"105"==l[b].key||"103"==l[b].key?(B=parseInt(B),x=parseInt(x)):"number"==typeof B?(B=parseInt(B),x=parseInt(x)):(B=""+B,x=""+x);if(B<x)return"asc"===l[b].order?-1:1;if(B>x)return"asc"===l[b].order?1:-1}});if(r&&r.resetLineNumber)for(b=0,m=p.length,f=0;b<m;b++)k[b]&&!k[b].__isGrouping&&(k[b].__index=f++);if(k)return p;this.xvar.frozenRowIndex=
this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=void 0;this.xvar.virtualPaintStartRowIndex=void 0;h.page.navigationUpdate.call(this);return this},D=function(){this.appendProgress=!1;this.list=this.config.body.grouping?k.call(this,z.call(this,this.sortInfo,this.list)):k.call(this,this.list);this.needToPaintSum=!0;this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=
void 0;this.xvar.virtualPaintStartRowIndex=void 0;h.page.navigationUpdate.call(this)};h.data={init:function(){},set:function(r){var p=void 0;n.isArray(r)?(this.page=null,p=r):"page"in r&&(this.page=jQuery.extend({},r.page),p=r.list);this.config.tree.use?(this.list=e.call(this,p),this.proxyList=y.call(this,z.call(this,this.sortInfo,this.list))):(this.proxyList=null,this.list=k.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?z.call(this,this.sortInfo,p):p));this.selectedDataIndexs=
[];this.deletedList=[];this.needToPaintSum=!0;this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=void 0;this.xvar.virtualPaintStartRowIndex=void 0;h.page.navigationUpdate.call(this);return this},get:function(e){return{list:this.list,page:this.page}},getList:function(e){var k=[],n=this.list,r=0,l=n.length;switch(e){case "modified":for(;r<l;r++)n[r]&&!n[r].__isGrouping&&n[r][this.config.columnKeys.modified]&&
k.push(jQuery.extend({},n[r]));break;case "selected":for(;r<l;r++)n[r]&&!n[r].__isGrouping&&n[r][this.config.columnKeys.selected]&&k.push(jQuery.extend({},n[r]));break;case "deleted":k=[].concat(this.deletedList);break;default:k=h.data.clearGroupingData.call(this,n)}return k},getProxyList:y,setValue:function(e,k,n,r){var l=w.call(this,e,k,n),f=this.list,c="undefined"===typeof k?e:k;this.needToPaintSum=!0;if(l!==r){if(/[\.\[\]]/.test(n))try{f[c][this.config.columnKeys.modified]=!0,Function("val","this"+
h.util.getRealPathForDataItem(n)+" = val;").call(f[c],r)}catch(a){}else f[c][this.config.columnKeys.modified]=!0,f[c][n]=r;this.onDataChanged&&this.onDataChanged.call({self:this,list:this.list,dindex:e,doindex:k,item:this.list[e],key:n,value:r})}return!0},setValueMin:function(e,k,n,r){var l=w.call(this,e,k,n),f=this.list,c="undefined"===typeof k?e:k;this.needToPaintSum=!0;if(l!==r){if(/[\.\[\]]/.test(n))try{f[c][this.config.columnKeys.modified]=!0,Function("val","this"+h.util.getRealPathForDataItem(n)+
" = val;").call(f[c],r)}catch(a){}else f[c][this.config.columnKeys.modified]=!0,f[c][n]=r;this.onDataChanged&&this.onDataChanged.call({self:this,list:this.list,dindex:e,doindex:k,item:this.list[e],key:n,value:r})}return!0},getValue:w,clearSelect:function(){this.selectedDataIndexs=[]},select:function(e,h,k,r){var l=this.config;"undefined"===typeof h&&(h=e);if(!this.list[h]||this.list[h].__isGrouping||this.list[h][l.columnKeys.disableSelection])return!1;"undefined"===typeof k?(this.list[h][l.columnKeys.selected]=
!this.list[h][l.columnKeys.selected])?this.selectedDataIndexs.push(h):this.selectedDataIndexs.splice(n.search(this.selectedDataIndexs,function(){return this==h}),1):(this.list[h][l.columnKeys.selected]=k)?this.selectedDataIndexs.push(h):this.selectedDataIndexs.splice(n.search(this.selectedDataIndexs,function(){return this==h}),1);this.onDataChanged&&r&&r.internalCall&&this.onDataChanged.call({self:this,list:this.list,dindex:e,doindex:h,item:this.list[h],key:l.columnKeys.selected,value:this.list[h][l.columnKeys.selected]});
return this.list[h][l.columnKeys.selected]},selectAll:function(e,h){var k=this.config,p=this.list.length;this.selectedDataIndexs=[];if("undefined"===typeof e)for(;p--;)this.list[p].__isGrouping||h&&h.filter&&!0!==h.filter.call(this.list[p])||this.list[p][k.columnKeys.disableSelection]||(this.list[p][k.columnKeys.selected]=!this.list[p][k.columnKeys.selected])&&this.selectedDataIndexs.push(p);else for(;p--;)this.list[p].__isGrouping||h&&h.filter&&!0!==h.filter.call(this.list[p])||this.list[p][k.columnKeys.disableSelection]||
(this.list[p][k.columnKeys.selected]=e)&&this.selectedDataIndexs.push(p);this.onDataChanged&&h&&h.internalCall&&this.onDataChanged.call({self:this,list:this.list});return this.list},add:function(w,p,D){var B=this.config.body.grouping?r.call(this,this.list):this.list,l={first:function(){B=[].concat(w).concat(B)},last:function(){B=B.concat([].concat(w))}};if(this.config.tree.use)p=this.list.concat([].concat(w)),this.list=e.call(this,p),this.proxyList=y.call(this,z.call(this,this.sortInfo,this.list));
else{"undefined"===typeof p&&(p="last");if(p in l)w[this.config.columnKeys.modified]=!0,l[p].call(this,w);else{if(!n.isNumber(p))throw"invalid argument _dindex";if(n.isArray(w)){l=0;for(var f=w.length;l<f;l++)B.splice(p+l,0,w[l])}else B.splice(p,0,w)}this.list=B=this.config.body.grouping?k.call(this,z.call(this,this.sortInfo,B)):D&&D.sort&&Object.keys(this.sortInfo).length?k.call(this,z.call(this,this.sortInfo,B)):k.call(this,B)}this.needToPaintSum=!0;this.xvar.frozenRowIndex=this.config.frozenRowIndex>
this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=void 0;this.xvar.virtualPaintStartRowIndex=void 0;h.page.navigationUpdate.call(this);return this},remove:function(w){var p=this.config.body.grouping?r.call(this,this.list):this.list,B={first:function(){this.config.tree.use?B.tree.call(this,0):p.splice(0,1)},last:function(){this.config.tree.use?B.tree.call(this,p.length-1):p.splice(p.length-1,1)},index:function(e){this.config.tree.use?B.tree.call(this,e):p.splice(e,
1)},selected:function(){if(this.config.tree.use)B.tree.call(this,"selected");else{var e=[],l;var f=0;for(l=p.length;f<l;f++)p[f][this.config.columnKeys.selected]||e.push(p[f]);p=e}},tree:function(e){var l=this.config.tree.columnKeys,f=p[e][this.config.tree.columnKeys.selfHash];p=n.filter(p,function(){return this[l.selfHash].substr(0,f.length)!=f});f=l=null}};"undefined"===typeof w&&(w="last");if(w in B)B[w].call(this,w);else{if(!n.isNumber(w))throw"invalid argument _dindex";B.index.call(this,w)}this.config.tree.use?
(this.list=e.call(this,p),this.proxyList=y.call(this,z.call(this,this.sortInfo,this.list))):this.list=p=this.config.body.grouping?k.call(this,z.call(this,this.sortInfo,p)):Object.keys(this.sortInfo).length?k.call(this,z.call(this,this.sortInfo,p)):k.call(this,p);this.needToPaintSum=!0;this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=void 0;this.xvar.virtualPaintStartRowIndex=void 0;h.page.navigationUpdate.call(this);
return this},deleteRow:function(w){var p=this.config.body.grouping?r.call(this,this.list):this.list,B={first:function(){this.config.tree.use?B.tree.call(this,0):p[0][this.config.columnKeys.deleted]=!0},last:function(){this.config.tree.use?B.tree.call(this,p.length-1):p[p.length-1][this.config.columnKeys.deleted]=!0},selected:function(){if(this.config.tree.use)B.tree.call(this,"selected");else for(var e=p.length;e--;)p[e][this.config.columnKeys.selected]&&(p[e][this.config.columnKeys.deleted]=!0)},
tree:function(e){var l=this.config.columnKeys,f=this.config.tree.columnKeys;if("selected"===e)for(e=p.length;e--;){if(p[e][this.config.columnKeys.selected]){p[e][this.config.columnKeys.deleted]=!0;for(var c=p[e][f.selfHash],a=p.length;a--;)p[a][f.selfHash].substr(0,c.length)===c&&(p[a][l.deleted]=!0)}}else for(e=p[e][f.selfHash],c=p.length;c--;)p[c][f.selfHash].substr(0,e.length)!==e&&(p[c][l.deleted]=!0)}};"undefined"===typeof w&&(w="last");if(w in B)B[w].call(this,w);else{if(!n.isNumber(w))throw"invalid argument _dindex";
p[w][this.config.columnKeys.deleted]=!0}this.config.tree.use?(this.list=e.call(this,p),this.proxyList=y.call(this,z.call(this,this.sortInfo,this.list))):this.list=p=this.config.body.grouping?k.call(this,z.call(this,this.sortInfo,p)):Object.keys(this.sortInfo).length?k.call(this,z.call(this,this.sortInfo,p)):k.call(this,p);this.needToPaintSum=!0;this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex;this.xvar.paintStartRowIndex=void 0;this.xvar.virtualPaintStartRowIndex=
void 0;h.page.navigationUpdate.call(this);return this},update:function(e,h){if(!n.isNumber(h))throw"invalid argument _dindex";this.needToPaintSum=!0;this.list.splice(h,1,e);this.config.body.grouping&&(this.list=k.call(this,r.call(this,this.list)))},updateChild:function(e,h,k){var p=this.config.tree.columnKeys;if("undefined"===typeof e)return!1;e=this.proxyList[e].__origin_index__;if(this.list[e][p.children]){this.proxyList=[];if(k&&k.filter){if(k.filter.call({item:this.list[e],dindex:e},this.list[e]))for(f in h)this.list[e][f]=
h[f]}else for(var l in h)this.list[e][l]=h[l];var f=this.list[e][p.selfHash];l=0;for(e=this.list.length;l<e;l++)if(this.list[l]){if(this.list[l][p.parentHash].substr(0,f.length)===f)if(k&&k.filter){if(k.filter.call({item:this.list[l],dindex:l},this.list[l]))for(var c in h)this.list[l][c]=h[c]}else for(var a in h)this.list[l][a]=h[a];this.list[l][p.hidden]||this.proxyList.push(this.list[l])}return!0}return!1},sort:z,initData:k,clearGroupingData:r,append:function(k,p){var n=this;this.config.tree.use?
(k=this.list.concat([].concat(k)),this.list=e.call(this,k),this.proxyList=y.call(this,z.call(this,this.sortInfo,this.list)),k=null):this.list=this.list.concat([].concat(k));this.appendProgress=!0;h.page.statusUpdate.call(this);if(this.appendDebouncer)if(n.appendDebounceTimes<this.config.debounceTime/10)clearTimeout(this.appendDebouncer),n.appendDebounceTimes++;else return n.appendDebounceTimes=0,D.call(n),p(),!1;this.appendDebouncer=setTimeout(function(){n.appendDebounceTimes=0;D.call(n);p()},this.config.debounceTime)},
toggleCollapse:function(e,h,k){h=this.config.tree.columnKeys;if("undefined"===typeof e)return!1;e=this.proxyList[e].__origin_index__;if(this.list[e][h.children]){this.proxyList=[];"undefined"==typeof k&&(k=!this.list[e][h.collapse]);this.list[e][h.collapse]=k;e=this.list[e][h.selfHash];for(var p=this.list.length;p--;)this.list[p]&&(this.list[p][h.parentHash].substr(0,e.length)===e&&(this.list[p][h.hidden]=k),this.list[p][h.hidden]||this.proxyList.push(this.list[p]));return!0}return!1}}})();
(function(){var h={decimalMark:".",thousandsSeparator:","},n,r="dd/mm/yyyy".match(/[^a-zA-Z0-9]/)[0];r="dd/mm/yyyy".split(r);r.indexOf("dd");r.indexOf("mm");0<=r.indexOf("yyyy")?r.indexOf("yyyy"):r.indexOf("yy");var k=function(e,h){var k=Number(e);if(isFinite(k))return k;var p=1;""!==h.thousandsSeparator&&(e=e.replace(new RegExp("([\\d])"+h.thousandsSeparator+"([\\d])","g"),"$1$2"));"."!==h.decimalMark&&(e=e.replace(new RegExp("([\\d])"+h.decimalMark+"([\\d])","g"),"$1.$2"));e=e.replace(/[$]/g,"").replace(/[%]/g,
function(){p*=100;return""});if(isFinite(k=Number(e)))return k/p;e=e.replace(/[(](.*)[)]/,function(e,h){p=-p;return h});return isFinite(k=Number(e))?k/p:k},e=function(e){var h=e.c,k="";for(++h;h;h=Math.floor((h-1)/26))k=String.fromCharCode((h-1)%26+65)+k;return k+(""+(e.r+1))},y=function p(h,k){if("undefined"===typeof k||"number"===typeof k)return p(h.s,h.e);"string"!==typeof h&&(h=e(h));"string"!==typeof k&&(k=e(k));return h===k?h:h+":"+k},w=function(e,h,k){var p=window.navigator.userAgent;if(!1!==
e&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([k]),e);else if(!1!==e&&(0<p.indexOf("MSIE ")||p.match(/Trident.*rv:11\./))){if(h=document.createElement("iframe")){document.body.appendChild(h);h.setAttribute("style","display:none");h.contentDocument.open("txt/plain","replace");h.contentDocument.write(k);h.contentDocument.close();h.contentWindow.focus();switch(e.substr(e.lastIndexOf(".")+1)){case "doc":case "json":case "png":case "pdf":case "xls":case "xlsx":e+=".txt"}h.contentDocument.execCommand("SaveAs",
!0,e);document.body.removeChild(h)}}else{var n=document.createElement("a");if(n){var l=null;n.style.display="none";!1!==e?n.download=e:n.target="_blank";"object"===typeof k?(window.URL=window.URL||window.webkitURL,e=[],e.push(k),l=window.URL.createObjectURL(new Blob(e,{type:h})),n.href=l):0<=h.toLowerCase().indexOf("base64,")?n.href=h+base64encode(k):n.href=h+encodeURIComponent(k);document.body.appendChild(n);if(document.createEvent)null===DownloadEvt&&(DownloadEvt=document.createEvent("MouseEvents")),
DownloadEvt.initEvent("click",!0,!1),n.dispatchEvent(DownloadEvt);else if(document.createEventObject)n.fireEvent("onclick");else if("function"===typeof n.onclick)n.onclick();setTimeout(function(){l&&window.URL.revokeObjectURL(l);document.body.removeChild(n)},100)}}};ax5.ui.grid.excel={export:function(e,h){var k=void 0,n=[].concat(e);k=ax5.mustache.render("\ufeff\n{{#tables}}{{{body}}}{{/tables}}\n",{worksheet:function(){var c=[];n.forEach(function(a,b){c.push({name:"Sheet"+(b+1)})});return c}(),tables:function(){var c=
[];n.forEach(function(a,b){c.push({body:a})});return c}()});e=!(-1<navigator.userAgent.indexOf("Chrome"))&&-1<navigator.userAgent.indexOf("Safari");var r=!!document.documentMode,l=void 0,f=l=l=void 0;l=void 0;navigator.msSaveOrOpenBlob?(l=new Blob([k],{type:"text/html"}),window.navigator.msSaveOrOpenBlob(l,h)):e?(l=window.open("about:blank",this.id+"-excel-export","width=600,height=400"),l.document.write(k),l=null):r&&"undefined"===typeof Blob?(l=jQuery('<iframe id="'+this.id+'-excel-export" style="display:none"></iframe>'),
jQuery(document.body).append(l),f=window[this.id+"-excel-export"],f.document.open("text/html","replace"),f.document.write(k),f.document.close(),f.focus(),f.document.execCommand("SaveAs",!0,h),l.remove()):(l=document.body.appendChild(document.createElement("a")),"download"in l&&(l.download=h,l.href="data:application/vnd.ms-excel;base64,"+window.btoa(unescape(encodeURIComponent(k))),l.click(),document.body.removeChild(l)));return!0},exportXlsx:function(r,B,p){var D=XLSX.utils.book_new(),E;if(p){var l=
{};if(0<r.length){p=r[0].replace('<table border="1">',"");p=p.replace("</table>","");p=p.split("<tr>");for(r=0;r<p.length;r++)p[r]=p[r].replace("</tr>",""),"\\n"===p[r].substr(p[r].length-2,2)&&(p[r]=p[r].substr(0,p[r].length-2));r={s:{r:0,c:0},e:{r:0,c:0}};var f=[],c,a=[],b=0,m=0;for(XLSX.SSF.get_table();b<p.length&&1E7>m;++b){var C=p[b];if(""!=C){var x=C;C=[];var d=[];0<=x.indexOf("td")?d=x.split("</td>"):0<=x.indexOf("th")&&(d=x.split("</th>"));for(x=0;x<d.length;x++)if(""!=d[x]){d[x]=d[x].replace(/\\/gi,
"");var u=d[x].substr(d[x].indexOf(">")+1,d[x].length-d[x].indexOf(">"));0<d[x].indexOf("style")&&0<d[x].indexOf("</")&&(u=d[x].substr(0,d[x].indexOf("</")),u=u.substr(u.lastIndexOf(">")+1,u.length-u.lastIndexOf(">")));if(0<=u.indexOf("<"))for(c=!1;!c;){var A=u.substr(u.indexOf("<")+1,u.indexOf(">")-1);u=u.substr(A.length+2,u.lastIndexOf("</")-(A.length+2));0>u.indexOf("<")&&(c=!0)}0<=u.indexOf("&nbsp;")&&(u=u.replace(/&nbsp;/gi,""));c=d[x].substr(d[x].indexOf("colspan"),d[x].indexOf("rowspan")-d[x].indexOf("colspan")-
1);c=c.replace(/"/gi,"");c=c.substr(8,c.length-8).replace(/\\/gi,"");A=d[x].substr(d[x].indexOf("rowspan"),d[x].indexOf(">")-d[x].indexOf("rowspan")-1);A=A.replace(/"/gi,"");A=A.substr(8,A.length-8).replace(/\\/gi,"");var g="text";isFinite(k(u,h))&&(g="number");C.push({data:u,colspan:c,rowspan:A,cellType:g})}u=C;for(C=0;C<u.length;++C)A=u[C],parseInt(A.colspan);for(C=d=0;C<u.length;++C){A=u[C];x=parseInt(A.colspan);for(c=0;c<f.length;++c)f[c].s.c==d&&f[c].s.r<=m&&m<=f[c].e.r&&(d=f[c].e.c+1,c=-1);
(0<(E=parseInt(A.rowspan))||1<x)&&f.push({s:{r:m,c:d},e:{r:m+(E||1)-1,c:d+x-1}});c={t:"s",v:A.data};l[e({c:d,r:m})]=c;r.e.c<d&&(r.e.c=d);d+=x}++m}}f.length&&(l["!merges"]=f);a.length&&(l["!rows"]=a);r.e.r=m-1;l["!ref"]=y(r);1E7<=m&&(l["!fullref"]=y((r.e.r=p.length-b+m-1,r)));E=l}else E=void 0}else if(E={},0<r.length){p=[];for(f=0;f<r[0].length;f++)p.push(r[0][f]);for(f=0;f<r[1].length;f++)for(a=0;a<r[1][f].length;a++)p.push(r[1][f][a]);r={s:{r:0,c:0},e:{r:0,c:0}};f=[];a=[];m=b=0;for(XLSX.SSF.get_table();b<
p.length&&1E7>m;++b){u=p[b];for(C=0;C<u.length;++C)A=u[C],parseInt(A.colspan);for(C=d=0;C<u.length;++C){A=u[C];x=parseInt(A.colspan);for(c=0;c<f.length;++c)f[c].s.c==d&&f[c].s.r<=m&&m<=f[c].e.r&&(d=f[c].e.c+1,c=-1);(0<(l=parseInt(A.rowspan))||1<x)&&f.push({s:{r:m,c:d},e:{r:m+(l||1)-1,c:d+x-1}});c={t:"s",v:A.data};E[e({c:d,r:m})]=c;r.e.c<d&&(r.e.c=d);d+=x}++m}f.length&&(E["!merges"]=f);a.length&&(E["!rows"]=a);r.e.r=m-1;E["!ref"]=y(r);1E7<=m&&(E["!fullref"]=y((r.e.r=p.length-b+m-1,r)))}else E=void 0;
l=B.trim(B.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31));[].push(l);XLSX.utils.book_append_sheet(D,E,l);try{var v=XLSX.write(D,{type:"binary",bookType:"xlsx",bookSST:!1}),K=new ArrayBuffer(v.length),I=new Uint8Array(K);for(D=0;D!==v.length;++D)I[D]=v.charCodeAt(D)&255;B+=".xlsx";try{n=new Blob([K],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),saveAs(n,B,!0)}catch(O){w(B,"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8,",
K)}}catch(O){console.log(O)}return!0}}})();(function(){var h=ax5.util;ax5.ui.grid.formatter={money:function(){if("undefined"!==typeof this.value){var n=/([0-9])([0-9][0-9][0-9][,.])/,r=(""+this.value).replace(/[^0-9^\.^\-]/g,"").split(".");r[0]+=".";do r[0]=r[0].replace(n,"$1,$2");while(n.test(r[0]));return 1<r.length?r[0]+h.left(r[1],2):r[0].split(".")[0]}return""}}})();
(function(){var h=ax5.ui.grid,n=ax5.util,r={on:function(e,k){var w=this,y=$(e).offset().left,p=w.$.container.root.offset().left;w.xvar.columnResizerIndex=k;var z=-w.colGroup[k]._width+2,E=w.$.container.root.width()-w.colGroup[k]._width;jQuery(document.body).bind(h.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){e=h.util.getMousePosition(e);w.xvar.__da=e.clientX-w.xvar.mousePosition.clientX;z>w.xvar.__da?w.xvar.__da=z:E<w.xvar.__da&&(w.xvar.__da=E);w.xvar.columnResizerLived||w.$.resizer.horizontal.addClass("live");
w.xvar.columnResizerLived=!0;w.$.resizer.horizontal.css({left:y+w.xvar.__da-p})}).bind(h.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(e){r.off.call(w);n.stopEvent(e)}).bind("mouseleave.ax5grid-"+this.instanceId,function(e){r.off.call(w);n.stopEvent(e)});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){this.$.resizer.horizontal.removeClass("live");this.xvar.columnResizerLived=!1;"undefined"!==typeof this.xvar.__da&&this.setColumnWidth(this.colGroup[this.xvar.columnResizerIndex]._width+
this.xvar.__da,this.xvar.columnResizerIndex);jQuery(document.body).unbind(h.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(h.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},k=function(){for(var e=this.config,k=h.util.divideTableByFrozenColumnIndex(this.headerTable,this.xvar.frozenColumnIndex),n=this.headerTable,r=[],p={rows:[]},y=0,E=n.rows.length;y<E;y++)if(p.rows[y]=
{cols:[]},0===y){var l={label:"",colspan:1,rowspan:n.rows.length,colIndex:null};if(e.showLineNumber){var f=jQuery.extend({},l,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",key:"__index_header__",label:"&nbsp;"});r.push(f);p.rows[y].cols.push(f)}e.showRowSelector&&(f=jQuery.extend({},l,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",key:"__checkbox_header__",label:""}),r.push(f),p.rows[y].cols.push(f))}this.asideColGroup=
r;this.asideHeaderData=p;this.leftHeaderData=k.leftData;this.headerData=k.rightData},e=function(e){return"__checkbox_header__"===e.key?this.config.header.selector?'<div class="checkBox" style="max-height: '+(e.width-10)+"px;min-height: "+(e.width-10)+'px;"></div>':"&nbsp;":e.label||"&nbsp;"},y=function(e){var h="",k={},n=0;for(p in this.sortInfo)this.sortInfo[p].fixed&&(k[p]=this.sortInfo[p],n++);var p=0;for(var r=this.colGroup.length;p<r;p++)this.colGroup[p].key==e?(""==h&&(h="undefined"===typeof this.colGroup[p].sort?
"desc":"desc"===this.colGroup[p].sort?"asc":void 0),this.colGroup[p].sort=h):this.config.multiSort||(this.colGroup[p].sort=void 0),"undefined"!==typeof this.colGroup[p].sort&&(k[this.colGroup[p].key]||(k[this.colGroup[p].key]={seq:n++,orderBy:this.colGroup[p].sort}));this.setColumnSort(k);return this};h.header={init:function(){var e=this;this.$.container.header.on("click","[data-ax5grid-column-attr]",function(k){k=this.getAttribute("data-ax5grid-column-key");var r=this.getAttribute("data-ax5grid-column-colindex");
r=e.colGroup[r];"__checkbox_header__"===k&&e.config.header.selector?(k=this.getAttribute("data-ax5grid-selected"),k=n.isNothing(k)?!0:"true"!==k,$(this).attr("data-ax5grid-selected",k),e.selectAll({selected:k})):k&&r&&!1!==r.sortable&&!r.sortFixed&&(!0===r.sortable||!0===e.config.sortable)&&y.call(e,r.key);h.body.blur.call(e)});this.$.container.header.on("mousedown","[data-ax5grid-column-resizer]",function(k){var w=this.getAttribute("data-ax5grid-column-resizer");e.xvar.mousePosition=h.util.getMousePosition(k);
r.on.call(e,this,Number(w));n.stopEvent(k)}).on("dragstart",function(e){n.stopEvent(e);return!1});k.call(this)},repaint:function(h){var r=this.config,w=this.colGroup;h&&(k.call(this),this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0);h=this.asideHeaderData;var y=this.leftHeaderData,p=this.headerData,F=r.header.align;this.leftHeaderColGroup=w.slice(0,this.config.frozenColumnIndex);this.headerColGroup=w.slice(this.config.frozenColumnIndex);var E=function(h,f,c){var a=0,
b=[];b.push('<table border="0" cellpadding="0" cellspacing="0">');b.push("<colgroup>");for(var l=0,k=f.length;l<k;l++)b.push('<col style="width:'+f[l]._width+'px;"  />'),a+=f[l]._width;b.push("<col  />");b.push("</colgroup>");l=0;for(k=c.rows.length;l<k;l++){b.push('<tr class="">');for(var p=0,d=c.rows[l].cols.length;p<d;p++){var u=c.rows[l].cols[p],A=r.header.columnHeight*u.rowspan-r.header.columnBorderWidth,g=F||u.align;b.push("<td ",'data-ax5grid-column-attr="'+(u.columnAttr||"default")+'" ','data-ax5grid-column-row="'+
l+'" ','data-ax5grid-column-col="'+p+'" ',"undefined"!==typeof u.key?'data-ax5grid-column-key="'+u.key+'" ':"",'data-ax5grid-column-colindex="'+u.colIndex+'" ','data-ax5grid-column-rowindex="'+u.rowIndex+'" ','colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ','class="'+function(a){var b="";a.headerStyleClass&&(b=n.isFunction(a.headerStyleClass)?b+(a.headerStyleClass.call({column:a,key:a.key})+" "):b+(a.headerStyleClass+" "));r.header.columnBorderWidth&&(b+="hasBorder ");p==d-1&&(b+="isLastColumn ");
return b}.call(this,u)+'" ','style="height: '+A+'px;min-height: 1px;">');b.push('<span data-ax5grid-cellHolder="" '+(g?'data-ax5grid-text-align="'+g+'"':"")+' style="height: '+(r.header.columnHeight-r.header.columnBorderWidth)+"px;line-height: "+(r.header.columnHeight-2*r.header.columnPadding-r.header.columnBorderWidth)+'px;">',function(){var a="";n.isNothing(u.key)||n.isNothing(u.colIndex)||!0!==r.sortable&&!0!==u.sortable||!1===u.sortable||(a+='<span data-ax5grid-column-sort="'+u.colIndex+'" data-ax5grid-column-sort-order="'+
(w[u.colIndex].sort||"")+'" />');return a}(),e.call(this,u),"</span>");n.isNothing(u.colIndex)||r.enableFilter&&b.push('<span data-ax5grid-column-filter="'+u.colIndex+'" data-ax5grid-column-filter-value=""  />');b.push("</td>")}b.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','style="height: '+r.header.columnHeight+'px;min-height: 1px;" ',"></td>");b.push("</tr>")}b.push("</table>");h.html(b.join(""));(function(){for(var a=r.header.columnHeight*c.rows.length-r.header.columnBorderWidth,
b=0,d=[],g=0,e=f.length;g<e;g++){var l=f[g];n.isNothing(l.colIndex)||(b+=l._width,d.push('<div data-ax5grid-column-resizer="'+l.colIndex+'" style="height:'+a+"px;left: "+(b-4)+'px;"  />'))}h.append(d)}).call(this);return a};0<r.asidePanelWidth&&E.call(this,this.$.panel["aside-header"],this.asideColGroup,h);0<r.frozenColumnIndex&&E.call(this,this.$.panel["left-header"],this.leftHeaderColGroup,y);this.xvar.scrollContentWidth=E.call(this,this.$.panel["header-scroll"],this.headerColGroup,p)},scrollTo:function(e){this.$.panel["header-scroll"].css(e);
return this},toggleSort:y,applySortStatus:function(e){for(var h=0,k=this.colGroup.length;h<k;h++)for(var n in e)this.colGroup[h].key==n&&(this.colGroup[h].sort=e[n].orderBy);return this},getExcelString:function(){for(var h=this.headerTable,k=[],n=0,r=h.rows.length;n<r;n++){k.push("<tr>");for(var p=0,y=h.rows[n].cols.length;p<y;p++){var E=h.rows[n].cols[p];0!=E.width&&k.push("<td ",'colspan="'+E.colspan+'" ','rowspan="'+E.rowspan+'" ','align="center"',">",e.call(this,E),"</td>")}k.push("</tr>")}return k.join("")},
getExcelStringXlsx:function(){for(var h=this.headerTable,k=[],n,r=0,p=h.rows.length;r<p;r++){n=[];for(var y=0,E=h.rows[r].cols.length;y<E;y++){var l=h.rows[r].cols[y];0!=l.width&&n.push({data:e.call(this,l),colspan:l.colspan,rowspan:l.rowspan})}k.push(n)}return k}}})();
(function(){var h=ax5.ui.grid;h.inlineEditor={text:{useReturnToSave:!0,editMode:"popup",getHtml:function(h,r,k,e){if("undefined"!==typeof k.attributes){var n="",w;for(w in k.attributes)n+=" "+w+"='"+k.attributes[w]+"'"}return'<input type="text" data-ax5grid-editor="text" value="'+e+'" '+n+">"},init:function(n,r,k,e,y){var w;e.append(w=jQuery(this.getHtml(n,r,k,y)));this.bindUI(n,r,w,k,e,y);w.on("blur",function(){h.body.inlineEdit.deActive.call(n,"RETURN",r)});return w},bindUI:function(h,r,k,e,y,w){k.focus().select()}},
money:{useReturnToSave:!0,editMode:"popup",getHtml:function(h,r,k,e){h="";if("undefined"!==typeof k.attributes)for(var n in k.attributes)h+=" "+n+"='"+k.attributes[n]+"'";return'<input type="text" data-ax5grid-editor="money" value="'+e+'" '+h+'" />'},init:function(n,r,k,e,y){var w=void 0;e.append(w=jQuery(this.getHtml(n,r,k,y)));this.bindUI(n,r,w,k,e,y);w.on("blur",function(){h.body.inlineEdit.deActive.call(n,"RETURN",r)});return w},bindUI:function(h,r,k,e,y,w){k.data("binded-ax5ui","ax5formater");
k.ax5formatter($.extend(!0,{pattern:"money"},e.config));k.focus().select()}},number:{useReturnToSave:!0,editMode:"popup",getHtml:function(h,r,k,e){h="";if("undefined"!==typeof k.attributes)for(var n in k.attributes)h+=" "+n+"='"+k.attributes[n]+"'";return'<input type="text" data-ax5grid-editor="number" value="'+e+'" '+h+'" />'},init:function(n,r,k,e,y){var w;e.append(w=jQuery(this.getHtml(n,r,k,y)));this.bindUI(n,r,w,k,e,y);w.on("blur",function(){h.body.inlineEdit.deActive.call(n,"RETURN",r)});return w},
bindUI:function(h,r,k,e,y,w){k.data("binded-ax5ui","ax5formater");k.ax5formatter($.extend(!0,{pattern:"number"},e.config));k.focus().select()}},date:{useReturnToSave:!0,editMode:"popup",getHtml:function(h,r,k,e){return'<input type="text" data-ax5grid-editor="calendar" value="'+e+'" >'},init:function(h,r,k,e,y){var n;e.append(n=jQuery(this.getHtml(h,r,k,y)));this.bindUI(h,r,n,k,e,y);return n},bindUI:function(n,r,k,e,y,w){k.data("binded-ax5ui","ax5picker");k.ax5picker($.extend(!0,{direction:"auto",
content:{type:"date",formatter:{pattern:"date"}},onStateChanged:function(){"open"==this.state?this.self.activePicker.attr("data-ax5grid-inline-edit-picker","date"):"close"==this.state&&h.body.inlineEdit.deActive.call(n,"RETURN",r)}},e.config));k.focus().select()}},select:{useReturnToSave:!1,editMode:"popup",getHtml:function(h,r,k,e){h=[];h.push('<div data-ax5select="ax5grid-editor" data-ax5select-config="{}">');h.push("</div>");return h.join("")},init:function(h,r,k,e,y){var n;e.append(n=jQuery(this.getHtml(h,
r,k,y)));this.bindUI(h,r,n,k,e,y);return n},bindUI:function(n,r,k,e,y,w){var z={columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};jQuery.extend(!0,z,e.config);z.options.forEach(function(e){e[z.columnKeys.optionValue]==w&&(e[z.columnKeys.optionSelected]=!0)});k.data("binded-ax5ui","ax5select");k.ax5select($.extend(!0,{direction:"auto",columnKeys:z.columnKeys,options:z.options,onStateChanged:function(){"open"==this.state?this.self.activeSelectOptionGroup.attr("data-ax5grid-inline-edit-picker",
"select"):"changeValue"==this.state?h.body.inlineEdit.deActive.call(n,"RETURN",r,this.value[0][z.columnKeys.optionValue]):"close"==this.state&&h.body.inlineEdit.deActive.call(n,"ESC",r)}},e.config));k.ax5select("open");k.ax5select("setValue",w);k.find("a").focus()}},checkbox:{editMode:"inline",getHtml:function(h,r,k){h=h.config.body.columnHeight-2*h.config.body.columnPadding-h.config.body.columnBorderWidth;k=r.config&&r.config.trueValue?k==r.config.trueValue?"true":"false":0==k||"false"==k||"1">k?
"false":"true";var e={marginTop:2,height:h-4};jQuery.extend(!0,e,r.config);e.marginTop=(h-e.height)/2;return'<div data-ax5grid-editor="checkbox" data-ax5grid-checked="'+k+'" style="height:'+e.height+"px;width:"+e.height+"px;margin-top:"+e.marginTop+'px;"></div>'}},textarea:{useReturnToSave:!1,editMode:"popup",_getHtml:function(h,r,k,e){return'<div data-ax5grid-editor="textarea"></div>'},_bindUI:function(n,r,k,e,y,w){e=k.offset();k=k.width();var z=jQuery('<div data-ax5grid-popup="textarea" style="z-index: 9999;">\n    <textarea style="width:100%;height:120px;" class="form-control">'+
w+'</textarea>\n    <div style="height:30px;padding:5px;text-align: right;">\n        <button class="btn btn-default">OK</button>\n    </div>\n</div>');w=z.find("textarea");z.css({position:"absolute",left:e.left,top:e.top,width:k,height:150});z.find("textarea");jQuery(document.body).append(z);w.focus().select();w.on("blur",function(e){h.body.inlineEdit.deActive.call(n,"RETURN",r,this.value);z.remove();ax5.util.stopEvent(e.originalEvent)});w.on("keydown",function(e){e.which==ax5.info.eventKeys.ESC&&
(h.body.inlineEdit.deActive.call(n,"ESC",r),z.remove(),ax5.util.stopEvent(e.originalEvent))})},init:function(h,r,k,e,y){var n;e.append(n=jQuery(this._getHtml(h,r,k,y)));this._bindUI(h,r,n,k,e,y);return n}}}})();
(function(){var h=ax5.ui.grid,n=ax5.util,r=function(h){var e=function(e){this.page.currentPage!=e&&(this.page.selectPage=e,this.config.page.onChange&&this.config.page.onChange.call({self:this,page:this.page,data:this.data}))},k={first:function(){e.call(this,0)},prev:function(){var h=this.page.currentPage-1;0>h&&(h=0);e.call(this,h)},next:function(){var h=this.page.currentPage+1;h>this.page.totalPages-1&&(h=this.page.totalPages-1);e.call(this,h)},last:function(){e.call(this,this.page.totalPages-1)}};
h in k?k[h].call(this):e.call(this,h-1)};h.page={navigationUpdate:function(){var k=this;if(this.page){var e={hasPage:!1,currentPage:this.page.currentPage,pageSize:this.page.pageSize,totalElements:this.page.totalElements,totalPages:this.page.totalPages,firstIcon:this.config.page.firstIcon,prevIcon:this.config.page.prevIcon||"\u00ab",nextIcon:this.config.page.nextIcon||"\u00bb",lastIcon:this.config.page.lastIcon},n=this.config.page.navigationItemCount;e["@paging"]=function(){var h=[];var k=e.currentPage-
Math.floor(n/2);0>k&&(k=0);var r=e.currentPage+n;r>e.totalPages&&(r=e.totalPages);r-k>n&&(r=k+n);r-k<n&&(k=r-n);for(0>k&&(k=0);k<r;k++)h.push({pageNo:k+1,selected:e.currentPage==k});return h}();0<e["@paging"].length&&(e.hasPage=!0);this.$.page.navigation.html(h.tmpl.get("page_navigation",e));this.$.page.navigation.find("[data-ax5grid-page-move]").on("click",function(){r.call(k,this.getAttribute("data-ax5grid-page-move"))})}else this.$.page.navigation.empty()},statusUpdate:function(){if(this.config.page.statusDisplay){var k=
this.xvar.virtualPaintStartRowIndex,e=this.xvar.virtualPaintStartRowIndex+this.xvar.virtualPaintRowCount,r=this.xvar.dataRowCount;e>r&&(e=r);this.$.page.status.html(h.tmpl.get("page_status",{fromRowIndex:n.number(k+1,{money:!0}),toRowIndex:n.number(e,{money:!0}),totalElements:n.number(r,{money:!0}),dataRowCount:r!==this.xvar.dataRealRowCount?n.number(this.xvar.dataRealRowCount,{money:!0}):!1,progress:this.appendProgress?this.config.appendProgressIcon:""}))}}}})();
(function(){var h=ax5.ui.grid,n=ax5.util,r={vertical:function(e,h){var k=h._content_height-h._panel_height;e=k*e.top/(h._vertical_scroller_height-h.verticalScrollBarHeight);0>e?e=0:k<e&&(e=k);return{top:-e}},horizontal:function(e,h){var k=h._content_width-h._panel_width;e=k*e.left/(h._horizontal_scroller_width-h.horizontalScrollBarWidth);0>e?e=0:k<e&&(e=k);return{left:-e}}},k=function(e,k){var p=k._vertical_scroller_height-k.verticalScrollBarHeight;e=p*e/(k._content_height-k._panel_height);-e>p&&
(e=-p,k=r.vertical.call(this,{top:-e},{_content_width:k._content_width,_content_height:k._content_height,_panel_width:k._panel_width,_panel_height:k._panel_height,_horizontal_scroller_width:k._horizontal_scroller_width,_vertical_scroller_height:k._vertical_scroller_height,verticalScrollBarHeight:k.verticalScrollBarHeight,horizontalScrollBarWidth:k.horizontalScrollBarWidth}),h.body.scrollTo.call(this,k));return-e},e=function(e,k){var p=k._horizontal_scroller_width-k.horizontalScrollBarWidth;e=p*e/
(k._content_width-k._panel_width);-e>p&&(e=-p,k=r.horizontal.call(this,{left:-e},{_content_width:k._content_width,_content_height:k._content_height,_panel_width:k._panel_width,_panel_height:k._panel_height,_horizontal_scroller_width:k._horizontal_scroller_width,_vertical_scroller_height:k._vertical_scroller_height,verticalScrollBarHeight:k.verticalScrollBarHeight,horizontalScrollBarWidth:k.horizontalScrollBarWidth}),h.header.scrollTo.call(this,k),h.body.scrollTo.call(this,k));return-e},y={click:function(e,
k,p,n){if(20>(new Date).getTime()-h.scroller.moveout_timer)return!1;var w=e.offset(),l=k.outerWidth(),f=k.outerHeight(),c=e.innerWidth(),a=e.innerHeight(),b=this.$.scroller.vertical.innerHeight();e=this.$.panel.body.height();var m=this.$.scroller.horizontal.innerWidth(),y=this.$.panel.body.width(),x=this.xvar.scrollContentHeight,d=this.xvar.scrollContentWidth,u=this.$.scroller["vertical-bar"].outerHeight(),A=this.$.scroller["horizontal-bar"].outerWidth(),g=this.$.scroller["vertical-bar"][0].offsetTop;
horizontalScroll=this.$.scroller["horizontal-bar"][0].offsetLeft;scrollInter=e/(x/e);scrollclicker=e/(x/28);width_scrollInter=y/(d/y);width_scrollclicker=y/(d/80);getScrollerPosition={vertical:function(c){c=h.util.getMousePosition(c).clientY-w.top;c==g?c=g:c>g?c>=b-15?(1>scrollclicker&&(scrollclicker=1),c=g+scrollclicker):c=g+scrollInter:15>=c?(1>scrollclicker&&(scrollclicker=1),c=g-scrollclicker):c=g-scrollInter;0>c?c=0:c+f>a&&(c=a-f);return{top:c}},horizontal:function(a){a=h.util.getMousePosition(a).clientX-
w.left;a=a==horizontalScroll?horizontalScroll:a>horizontalScroll?a>=m-15?horizontalScroll+width_scrollclicker:horizontalScroll+width_scrollInter:15>=a?horizontalScroll-width_scrollclicker:horizontalScroll-width_scrollInter;0>a?a=0:a+l>c&&(a=c-l);return{left:a}}};css=getScrollerPosition[p](n);k.css(css);k=r[p].call(this,css,{_content_width:d,_content_height:x,_panel_width:y,_panel_height:e,_horizontal_scroller_width:m,_vertical_scroller_height:b,verticalScrollBarHeight:u,horizontalScrollBarWidth:A});
"horizontal"===p&&h.header.scrollTo.call(this,k);h.body.scrollTo.call(this,k);k=null},on:function(e,k,p,n){var w=this,l=k.position(),f=k.outerWidth(),c=k.outerHeight(),a=e.innerWidth(),b=e.innerHeight(),m=w.$.scroller.vertical.innerHeight(),z=w.$.panel.body.height(),x=w.$.scroller.horizontal.innerWidth(),d=w.$.panel.body.width(),u=w.xvar.scrollContentHeight,A=w.xvar.scrollContentWidth,g=w.$.scroller["vertical-bar"].outerHeight(),v=w.$.scroller["horizontal-bar"].outerWidth(),B={vertical:function(a){a=
h.util.getMousePosition(a);w.xvar.__da=a.clientY-w.xvar.mousePosition.clientY;a=l.top+w.xvar.__da;0>a?a=0:a+c>b&&(a=b-c);return{top:a}},horizontal:function(b){b=h.util.getMousePosition(b);w.xvar.__da=b.clientX-w.xvar.mousePosition.clientX;b=l.left+w.xvar.__da;0>b?b=0:b+f>a&&(b=a-f);return{left:b}}};w.xvar.__da=0;jQuery(document.body).bind(h.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(a){a=B[p](a);k.css(a);a=r[p].call(w,a,{_content_width:A,_content_height:u,_panel_width:d,_panel_height:z,
_horizontal_scroller_width:x,_vertical_scroller_height:m,verticalScrollBarHeight:g,horizontalScrollBarWidth:v});"horizontal"===p&&h.header.scrollTo.call(w,a);h.body.scrollTo.call(w,a)}).bind(h.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(a){y.off.call(w)}).bind("mouseleave.ax5grid-"+this.instanceId,function(a){y.off.call(w)});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){h.scroller.moveout_timer=(new Date).getTime();jQuery(document.body).unbind(h.util.ENM.mousemove+
".ax5grid-"+this.instanceId).unbind(h.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},w={wheel:function(e){var k=this,p=k.$.panel["body-scroll"].position(),n=k.xvar.body_panel_height,r=k.xvar.body_panel_width,l=k.xvar.scrollContentHeight,f=k.xvar.scrollContentWidth;if(isNaN(l)||isNaN(f))return!1;var c=void 0,a=void 0,b=!1,m=!1;c=p.left-e.x;a=p.top-e.y;0<=a?(a=
0,b=!0):a<=n-l?(a=n-l,0<=a&&(a=0),b=!0):0==e.y&&(b=!0);0<=c?(c=0,m=!0):c<=r-f?(c=r-f,0<=c&&(c=0),m=!0):0==e.x&&(m=!0);h.header.scrollTo.call(k,{left:c});h.body.scrollTo.call(k,{left:c,top:a},{callback:function(){z.call(k)}});return!b||!m},on:function(){var e=this,k=e.$.panel["body-scroll"].position(),p=e.xvar.body_panel_height,r=e.xvar.body_panel_width,y=e.xvar.scrollContentHeight,l=e.xvar.scrollContentWidth,f=function(c){c=h.util.getMousePosition(c);e.xvar.__x_da=c.clientX-e.xvar.mousePosition.clientX;
e.xvar.__y_da=c.clientY-e.xvar.mousePosition.clientY;c=k.left+e.xvar.__x_da;var a=k.top+e.xvar.__y_da;0<=a?a=0:a<=p-y&&(a=p-y,0<=a&&(a=0));0<=c?c=0:c<=r-l&&(c=r-l,0<=c&&(c=0));return{left:c,top:a}};this.xvar.__x_da=0;this.xvar.__y_da=0;this.xvar.touchmoved=!1;jQuery(document.body).on("touchmove.ax5grid-"+this.instanceId,function(c){var a=f(c);z.call(e);h.header.scrollTo.call(e,{left:a.left});h.body.scrollTo.call(e,a,{noRepaint:"noRepaint"});n.stopEvent(c.originalEvent);e.xvar.touchmoved=!0}).on("touchend.ax5grid-"+
this.instanceId,function(c){if(e.xvar.touchmoved){var a=f(c);z.call(e);h.header.scrollTo.call(e,{left:a.left});h.body.scrollTo.call(e,a);n.stopEvent(c.originalEvent);w.off.call(e)}});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){jQuery(document.body).off("touchmove.ax5grid-"+this.instanceId).off("touchend.ax5grid-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},z=function(){var h=
this.$.scroller.vertical.height(),n=this.$.scroller.horizontal.width(),p=this.$.panel.body.height(),r=this.$.panel.body.width(),w=this.xvar.scrollContentHeight,l=this.xvar.scrollContentWidth,f=p*h/w,c=r*n/l;f<this.config.scroller.barMinSize&&(f=this.config.scroller.barMinSize);c<this.config.scroller.barMinSize&&(c=this.config.scroller.barMinSize);this.$.scroller["vertical-bar"].css({top:k.call(this,this.$.panel["body-scroll"].position().top,{_content_width:l,_content_height:w,_panel_width:r,_panel_height:p,
_horizontal_scroller_width:n,_vertical_scroller_height:h,verticalScrollBarHeight:f,horizontalScrollBarWidth:c}),height:f});this.$.scroller["horizontal-bar"].css({left:e.call(this,this.$.panel["body-scroll"].position().left,{_content_width:l,_content_height:w,_panel_width:r,_panel_height:p,_horizontal_scroller_width:n,_vertical_scroller_height:h,verticalScrollBarHeight:f,horizontalScrollBarWidth:c}),width:c});this.xvar.body_panel_height=p;this.xvar.body_panel_width=r;width_scrollclicker=width_scrollInter=
scrollclicker=scrollInter=horizontalScroll=verticalScroll=null};h.scroller={moveout_timer:(new Date).getTime(),init:function(){var e=this,k=this.config.scroller.trackPadding;0==k?(this.$.scroller["vertical-bar"].css({width:this.config.scroller.size,left:-1}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size,top:-1})):(this.$.scroller["vertical-bar"].css({width:this.config.scroller.size-(k+1),left:k/2}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size-(k+
1),top:k/2}));this.$.scroller["vertical-bar"].on(h.util.ENM.mousedown,function(e){this.xvar.mousePosition=h.util.getMousePosition(e);y.on.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this)).on("dragstart",function(e){n.stopEvent(e);return!1});this.$.scroller.vertical.on("click",function(e){"vertical"==e.target.getAttribute("data-ax5grid-scroller")&&y.click.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this));this.$.scroller["horizontal-bar"].on(h.util.ENM.mousedown,
function(e){this.xvar.mousePosition=h.util.getMousePosition(e);y.on.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this)).on("dragstart",function(e){n.stopEvent(e);return!1});this.$.scroller.horizontal.on("click",function(e){"horizontal"==e.target.getAttribute("data-ax5grid-scroller")&&y.click.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this));this.$.container.body.on("mousewheel DOMMouseScroll",function(e){var h=
e.originalEvent,k={x:0,y:0};h.detail?k.y=10*h.detail:"undefined"===typeof h.deltaY?(k.y=-h.wheelDelta,k.x=0):(k.y=h.deltaY,k.x=h.deltaX);w.wheel.call(this,k)&&n.stopEvent(e)}.bind(this));if(ax5.info.supportTouch)this.$.container.body.on("touchstart","[data-ax5grid-panel]",function(k){e.xvar.mousePosition=h.util.getMousePosition(k);w.on.call(e)});this.xvar.body_panel_height=this.$.panel.body.height();this.xvar.body_panel_width=this.$.panel.body.width()},resize:z}})();
(function(){var h=ax5.ui.grid;h.tmpl={main:function(){return'<div data-ax5grid-container="root" data-ax5grid-instance="{{instanceId}}">\n            <div data-ax5grid-container="hidden">\n                <textarea data-ax5grid-form="clipboard"></textarea>\n            </div>\n            <div data-ax5grid-container="header">\n                <div data-ax5grid-panel="aside-header"></div>\n                <div data-ax5grid-panel="left-header"></div>\n                <div data-ax5grid-panel="header">\n                    <div data-ax5grid-panel-scroll="header"></div>\n                </div>\n                <div data-ax5grid-panel="right-header"></div>\n            </div>\n            <div data-ax5grid-container="body">\n                <div data-ax5grid-panel="top-aside-body"></div>\n                <div data-ax5grid-panel="top-left-body"></div>\n                <div data-ax5grid-panel="top-body">\n                    <div data-ax5grid-panel-scroll="top-body"></div>\n                </div>\n                <div data-ax5grid-panel="top-right-body"></div>\n                <div data-ax5grid-panel="aside-body">\n                    <div data-ax5grid-panel-scroll="aside-body"></div>\n                </div>\n                <div data-ax5grid-panel="left-body">\n                    <div data-ax5grid-panel-scroll="left-body"></div>\n                </div>\n                <div data-ax5grid-panel="body">\n                    <div data-ax5grid-panel-scroll="body"></div>\n                </div>\n                <div data-ax5grid-panel="right-body">\n                  <div data-ax5grid-panel-scroll="right-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-aside-body"></div>\n                <div data-ax5grid-panel="bottom-left-body"></div>\n                <div data-ax5grid-panel="bottom-body">\n                    <div data-ax5grid-panel-scroll="bottom-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-right-body"></div>\n            </div>\n            <div data-ax5grid-container="page">\n                <div data-ax5grid-page="holder">\n                    <div data-ax5grid-page="navigation"></div>\n                    <div data-ax5grid-page="status"></div>\n                </div>\n            </div>\n            <div data-ax5grid-container="scroller">\n                <div data-ax5grid-scroller="vertical">\n                    <div data-ax5grid-scroller="vertical-bar"></div>    \n                </div>\n                <div data-ax5grid-scroller="horizontal">\n                    <div data-ax5grid-scroller="horizontal-bar"></div>\n                </div>\n                <div data-ax5grid-scroller="corner"></div>\n            </div>\n            <div data-ax5grid-resizer="vertical"></div>\n            <div data-ax5grid-resizer="horizontal"></div>\n        </div>'},
page_navigation:function(){return'<div data-ax5grid-page-navigation="holder">\n            {{#hasPage}}\n            <div data-ax5grid-page-navigation="cell">    \n                {{#firstIcon}}<button type="button" data-ax5grid-page-move="first">{{{firstIcon}}}</button>{{/firstIcon}}\n                <button type="button" data-ax5grid-page-move="prev">{{{prevIcon}}}</button>\n            </div>\n            <div data-ax5grid-page-navigation="cell-paging">\n                {{#@paging}}\n                <button type="button" data-ax5grid-page-move="{{pageNo}}" data-ax5grid-page-selected="{{selected}}">{{pageNo}}</button>\n                {{/@paging}}\n            </div>\n            <div data-ax5grid-page-navigation="cell">\n                <button type="button" data-ax5grid-page-move="next">{{{nextIcon}}}</button>\n                {{#lastIcon}}<button type="button" data-ax5grid-page-move="last">{{{lastIcon}}}</button>{{/lastIcon}}\n            </div>\n            {{/hasPage}}\n        </div>'},
page_status:function(){return"<span>{{{progress}}} {{fromRowIndex}} - {{toRowIndex}} of {{totalElements}}{{#dataRowCount}} ({{dataRowCount}}){{/dataRowCount}}</span>"},get:function(n,r,k){n=h.tmpl[n].call(this,k);ax5.mustache.parse(n);return ax5.mustache.render(n,r)}}})();
(function(){var h=ax5.util;ax5.ui.grid.util={divideTableByFrozenColumnIndex:function(h,r){for(var k={rows:[]},e={rows:[]},n=0,w=h.rows.length;n<w;n++){var z=h.rows[n];k.rows[n]={cols:[]};e.rows[n]={cols:[]};for(var D=0,B=z.cols.length;D<B;D++){var p=jQuery.extend({},z.cols[D]),F=p.colIndex+p.colspan;if(p.colIndex<r)if(F<=r)k.rows[n].cols.push(p);else{F=jQuery.extend({},p);var E=jQuery.extend({},F);F.colspan=r-F.colIndex;E.colIndex=r;E.colspan=p.colspan-F.colspan;k.rows[n].cols.push(F);E.colspan&&
e.rows[n].cols.push(E)}else e.rows[n].cols.push(p)}}return{leftData:k,rightData:e}},getTableByStartEndColumnIndex:function(h,r,k){for(var e={rows:[]},n=0,w=h.rows.length;n<w;n++){var z=h.rows[n];e.rows[n]={cols:[]};for(var D=0,B=z.cols.length;D<B;D++){var p=jQuery.extend({},z.cols[D]),F=p.colIndex,E=p.colIndex+p.colspan;if(r<=F||E<=k)r<=F&&E<=k?e.rows[n].cols.push(p):r>F&&E>r?(p.colspan=E-r,e.rows[n].cols.push(p)):E>k&&F<=k&&e.rows[n].cols.push(p)}}return e},getMousePosition:function(h){h=h.originalEvent?
h.originalEvent:h;h="changedTouches"in h&&h.changedTouches?h.changedTouches[0]:h;return{clientX:h.pageX,clientY:h.pageY}},ENM:{mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},makeHeaderTable:function(n){n=h.deepCopy(n);var r=this.config,k={rows:[]},e=0;(function E(h,p,n){for(var l=[],f=0,c=h.length,a=1,b=0;f<c;f++){var m=jQuery.extend({},h[f]);a=1;if(!m.hidden){m.colspan=1;m.rowspan=
1;m.rowIndex=p;var w=m;if(n&&0==f){e=n.colIndex+f+1;var x=n.colIndex+f}else x=e++;w.colIndex=x;l.push(m);"columns"in m?a=E(m.columns,p+1,m):m.width="width"in m?m.width:r.columnMinWidth;m.colspan=a;b+=a}}return 0<l.length?(k.rows[p]||(k.rows[p]={cols:[]}),k.rows[p].cols=k.rows[p].cols.concat(l),b):a})(n,0);n=0;for(var y=k.rows.length;n<y;n++)for(var w=0,z=k.rows[n].cols.length;w<z;w++)"columns"in k.rows[n].cols[w]||(k.rows[n].cols[w].rowspan=y-n);return k},makeBodyRowTable:function(n){var r={rows:[]},
k=0;(function D(h,n,z){var w=[],p=0,y=h.length,E=1,l=function C(a){for(var c=0,d=a.length;c<d;c++){var f=a[c],h=1;if(!f.hidden)if("key"in f){f.colspan=1;f.rowspan=1;f.rowIndex=n;var g=f;if(z){k=z.colIndex+c+1;var l=z.colIndex+c}else l=k++;g.colIndex=l;w.push(f);"columns"in f&&(h=D(f.columns,n+1,f));f.colspan=h}else"columns"in f&&C(f.columns,n)}};for(;p<y;p++){var f=h[p];E=1;if(!f.hidden)if("key"in f){f.colspan=1;f.rowspan=1;f.rowIndex=n;var c=f;if(z){k=z.colIndex+p+1;var a=z.colIndex+p}else a=k++;
c.colIndex=a;w.push(f);"columns"in f&&(E=D(f.columns,n+1,f));f.colspan=E}else"columns"in f&&l(f.columns,n);f=null}return 0<w.length?(r.rows[n]||(r.rows[n]={cols:[]}),r.rows[n].cols=r.rows[n].cols.concat(w),w.length-1+E):E})(h.deepCopy(n),0);(function(h){for(var k=0,n=h.rows.length;k<n;k++)for(var r=h.rows[k],y=0,p=r.cols.length;y<p;y++){var F=r.cols[y];"columns"in F||(F.rowspan=n-k)}})(r);return r},makeBodyRowMap:function(h){var n={};h.rows.forEach(function(h){h.cols.forEach(function(e){n[e.rowIndex+
"_"+e.colIndex]=jQuery.extend({},e)})});return n},makeFootSumTable:function(h){for(var n={rows:[]},k=0,e=h.length;k<e;k++){var y=h[k],w=0;n.rows[k]={cols:[]};for(var z=0,D=y.length;z<D&&!(w>this.colGroup.length);z++){var B=y[z].colspan||1;y[z].label||y[z].key?n.rows[k].cols.push({colspan:B,rowspan:1,colIndex:w,columnAttr:"sum",align:y[z].align,label:y[z].label,key:y[z].key,collector:y[z].collector,formatter:y[z].formatter}):n.rows[k].cols.push({colIndex:w,colspan:B,rowspan:1,label:"&nbsp;"});w+=B}if(w<
this.colGroup.length)for(y=w;y<this.colGroup.length;y++)n.rows[k].cols.push({colIndex:y,colspan:1,rowspan:1,label:"&nbsp;"})}return n},makeBodyGroupingTable:function(h){var n={rows:[]},k=0;n.rows[0]={cols:[]};for(var e=0,y=h.length;e<y&&!(k>this.columns.length);e++){var w=h[e].colspan||1;h[e].label||h[e].key?n.rows[0].cols.push({colspan:w,rowspan:1,rowIndex:0,colIndex:k,columnAttr:"default",align:h[e].align,label:h[e].label,key:h[e].key,collector:h[e].collector,formatter:h[e].formatter}):n.rows[0].cols.push({rowIndex:0,
colIndex:k,colspan:w,rowspan:1,label:"&nbsp;"});k+=w}if(k<this.colGroup.length)for(h=k;h<this.colGroup.length;h++)n.rows[0].cols.push({rowIndex:0,colIndex:h,colspan:1,rowspan:1,label:"&nbsp;"});return n},findPanelByColumnIndex:function(h,r,k){k=void 0;var e=!1,n=[];this.xvar.frozenRowIndex>h&&n.push("top");this.xvar.frozenColumnIndex>r&&n.push("left");n.push("body");if(this.xvar.frozenColumnIndex<=r||this.xvar.frozenRowIndex<=h)k=n.join("-"),n.push("scroll"),e=!0;return{panelName:n.join("-"),containerPanelName:k,
isScrollPanel:e}},getRealPathForDataItem:function(h){var n=[];h=[].concat(h.split(/[\.\[\]]/g));h.forEach(function(h){""!==h&&n.push('["'+h.replace(/['"]/g,"")+'"]')});h=null;return n.join("")}}})();"use strict";
(function(){var h=ax5.util,n=void 0;ax5.ui.addClass({className:"combobox"},function(){return function(){var r=this;this.instanceId=ax5.getGuid();this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"now loading.."},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};this.queue=[];this.activecomboboxOptionGroup=null;this.activecomboboxQueueIndex=-1;this.keyUpTimer=this.waitOptionsCallback=this.closeTimer=this.openTimer=
null;var k=this.config;var e=jQuery(window),y=function(a,b){a&&a.onStateChanged?a.onStateChanged.call(b,b):this.onStateChanged&&this.onStateChanged.call(b,b);"changeValue"==b.state&&(a&&a.onChange?a.onChange.call(b,b):this.onChange&&this.onChange.call(b,b));return!0},w=function(){for(var a=this.queue.length,b;a--;){var c=this.queue[a];if(c.$display&&(b=Math.max(c.$select.outerWidth(),h.number(c.minWidth)),c.$display.css({"min-width":b}),c.reset&&c.$display.find(".addon-icon-reset").css({"line-height":this.queue[a].$display.height()+
"px"}),c.multiple)){b=h.number(c.$display.css("border-top-width"))+h.number(c.$display.css("border-bottom-width"));c.$target.height("");c.$display.height("");var d=c.$displayTable.outerHeight();Math.abs(d-c.$target.height())>b&&(c.$target.css({height:d+b+4}),c.$display.css({height:d+b+4}))}}return this},z=function(a){if(!this.activecomboboxOptionGroup)return this;var b=this.queue[this.activecomboboxQueueIndex],c={};a&&jQuery(document.body).append(this.activecomboboxOptionGroup);c=b.$target.offset();
var d=b.$target.outerWidth();var f=b.$target.outerHeight();e.width();jQuery(document.body).width();var h=Math.max(e.height(),jQuery(document.body).height());this.activecomboboxOptionGroup.outerWidth();var k=this.activecomboboxOptionGroup.outerHeight();if(b.direction&&""!==b.direction&&"auto"!==b.direction)var l=b.direction;else l="top",0>c.top-k?l="top":c.top+f+k+0>h&&(l="bottom");a&&this.activecomboboxOptionGroup.addClass("direction-"+l);this.activecomboboxOptionGroup.css(function(){if("top"==l){if(c.top+
f+k+0>h){var a=c.top+f/2-k/2;a+k+0>h&&(a=0);0>a&&(a=0);return{left:c.left,top:a,width:d}}return{left:c.left,top:c.top+f+1,width:d}}if("bottom"==l)return{left:c.left,top:c.top-k-1,width:d}}.call(this))},D=function(a,b){if(!this.activecomboboxOptionGroup)return this;var c=this.queue[this.activecomboboxQueueIndex],f="display";b=h.findParentNode(a.target,function(a){if(a.getAttribute("data-option-value"))return f="optionItem",!0;if(c.$target.get(0)==a)return f="display",!0});b?"optionItem"===f&&(d.call(this,
c.id,{index:{gindex:b.getAttribute("data-option-group-index"),index:b.getAttribute("data-option-index")}},void 0,!0),w.call(this),z.call(this),c.multiple||this.close()):this.close();return this},B=function(a){a=this.queue[a];var b={};b.id=a.id;b.theme=a.theme;b.size="ax5combobox-option-group-"+a.size;b.multiple=a.multiple;b.lang=a.lang;b.options=a.options;b.selected=a.selected;b.hasSelected=b.selected&&0<b.selected.length;b.removeIcon=a.removeIcon;return n.tmpl.get.call(this,"label",b,a.columnKeys)},
p=function(a){var b=this.queue[a];b.$displayLabel.find("[data-ax5combobox-selected-label]").remove();b.$displayLabelInput.before(B.call(this,a))},F=function(a){if(this.queue[a].disabled)return this;this.queue[a].$displayLabel.trigger("focus");this.queue[a].$displayLabelInput.focus()},E=function(a){this.queue[a].$displayLabel.trigger("blur");this.queue[a].$displayLabelInput.trigger("blur")},l=function(a,c){this.queue[a].waitOptions=!0;this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,
"option",this.queue[a],this.queue[a].columnKeys)));this.queue[a].onSearch.call({self:this,item:this.queue[a],searchWord:c},function(a){var c={},d=this.queue[this.activecomboboxQueueIndex];if(!d)return!1;(function(a,b){var c={};b.options.forEach(function(b,d){b["@index"]=d;c[b[a.columnKeys.optionValue]]=b});h.isArray(a.selected)&&a.selected.forEach(function(d){c[d[a.columnKeys.optionValue]]&&(b.options[c[d[a.columnKeys.optionValue]]["@index"]][a.columnKeys.optionSelected]=!0)})})(d,a);d.options=b.call(this,
this.activecomboboxQueueIndex,a.options);w.call(this);c.id=d.id;c.theme=d.theme;c.size="ax5combobox-option-group-"+d.size;c.multiple=d.multiple;c.lang=d.lang;c.options=d.options;this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,"options",c,d.columnKeys)))}.bind(this))},f=function(b,d){if(-1==this.activecomboboxQueueIndex)return this;var g=[],f=-1,e=this.queue[b].indexedOptions.length-1;if(""!=d){d=d.replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@#$%&\\=\('"]/gi,
"");if(this.queue[b].onSearch){l.call(this,b,d);try{return g}finally{var h=e=f=g=null}}for(;e-f++;)if(h=this.queue[b].indexedOptions[f],(""+h.text).toLowerCase()==d.toLowerCase()){g=[{"@findex":h["@findex"],optionsSort:0}];break}else{var k=(""+h.text).toLowerCase().search(d.toLowerCase());if(-1<k&&(g.push({"@findex":h["@findex"],optionsSort:k}),2<g.length))break;k=null}g.sort(function(a,b){return a.optionsSort-b.optionsSort})}g&&0<g.length?a.call(this,b,void 0,g[0]["@findex"]):c.call(this,b);try{return g}finally{h=
e=f=g=null}},c=function(a){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected");this.queue[a].optionFocusIndex=-1},a=function(a,b,c){a=this.queue[a];if(this.activecomboboxOptionGroup&&a.options&&0<a.options.length){"undefined"===typeof c&&(c=-1==a.optionFocusIndex?a.optionSelectedIndex||-1:a.optionFocusIndex,-1==c?c=0:(c+=b,0>c?c=0:c>a.optionItemLength-1&&(c=a.optionItemLength-1)));a.optionFocusIndex=
c;if(a.options[c]&&a.options[c].hide){if("undefined"===typeof b)return this;for(;a.options[c].hide;)if(c+=b,0>c){c=0;break}else if(c>a.optionItemLength-1){c=a.optionItemLength-1;break}}if("undefined"!==typeof c){this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover");var d=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+c+'"]').addClass("hover");var f=this.activecomboboxOptionGroup.find('[data-els="content"]');if(d.get(0)){var g=d.outerHeight(),e=f.innerHeight(),
h=f.scrollTop();d=d.position().top+f.scrollTop();e+h<d+g?f.scrollTop(d+g-e):h>d&&f.scrollTop(d);"undefined"!==typeof b&&a.$displayLabelInput.val(a.options[c].text)}}}},b=function(){var a=function(a,b){b?this.queue[a].selected.push(jQuery.extend({},b)):this.queue[a].selected=[]};return function(b,c){var d=this.queue[b],f=0;a.call(this,b,!1);if(c){d.options=c;d.indexedOptions=[];var g=[];g.push('<option value=""></option>');d.options.forEach(function(c,e){c.optgroup?(c["@gindex"]=e,c.options.forEach(function(c,
h){c["@index"]=h;c["@findex"]=f;g.push('<option value="'+c[d.columnKeys.optionValue]+'" '+(c[d.columnKeys.optionSelected]?' selected="selected"':"")+">"+c[d.columnKeys.optionText]+"</option>");c[d.columnKeys.optionSelected]&&a.call(r,b,c);d.indexedOptions.push({"@gindex":e,"@index":h,"@findex":f,value:c[d.columnKeys.optionValue],text:c[d.columnKeys.optionText]});f++})):(c["@index"]=e,c["@findex"]=f,g.push('<option value="'+c[d.columnKeys.optionValue]+'" '+(c[d.columnKeys.optionSelected]?' selected="selected"':
"")+">"+c[d.columnKeys.optionText]+"</option>"),c[d.columnKeys.optionSelected]&&a.call(r,b,c),d.indexedOptions.push({"@index":e,"@findex":f,value:c[d.columnKeys.optionValue],text:c[d.columnKeys.optionText]}),f++)});d.optionItemLength=f;d.$select.html(g.join(""))}else{d.$select.get(0).options&&d.$select.get(0).options.length&&(d.$select.get(0).options[0].selected=!1);c=h.toArray(d.$select.get(0).options);var e=[];c.forEach(function(c,g){var h={};h[d.columnKeys.optionValue]=c.value;h[d.columnKeys.optionText]=
c.text;h[d.columnKeys.optionSelected]=c.selected;h["@index"]=g;h["@findex"]=f;c.selected&&a.call(r,b,h);e.push(h);f++});d.options=e;d.indexedOptions=e;d.$select.prepend('<option value=""></option>');d.$select.get(0).options[0].selected=!0}e=c=g=null;return d.options}}(),m=function(a){a instanceof jQuery?a=a.data("data-ax5combobox-id"):h.isString(a)||(a=jQuery(a).data("data-ax5combobox-id"));if(h.isString(a))return h.search(this.queue,function(){return this.id==a});console.log(ax5.info.getError("ax5combobox",
"402","getQueIdx"))},C=function(a,b,c){return"undefined"===typeof c?a.multiple?!b:!0:c},x=function(a){this.queue[a].options.forEach(function(a){a.optgroup?a.options.forEach(function(a){a.selected=!1}):a.selected=!1})},d=function(){var a={index:function(a,c,d,f){var g=this.queue[a];h.isString(c.index.gindex)?"undefined"!==typeof g.options[c.index.gindex]&&(g.options[c.index.gindex].options[c.index.index][g.columnKeys.optionSelected]=C(g,g.options[c.index.gindex].options[c.index.index][g.columnKeys.optionSelected],
d),r.activecomboboxOptionGroup&&r.activecomboboxOptionGroup.find('[data-option-group-index="'+c.index.gindex+'"][data-option-index="'+c.index.index+'"]').attr("data-option-Selected",g.options[c.index.gindex].options[c.index.index][g.columnKeys.optionSelected].toString())):"undefined"!==typeof g.options[c.index.index]&&(g.options[c.index.index][g.columnKeys.optionSelected]=C(g,g.options[c.index.index][g.columnKeys.optionSelected],d),r.activecomboboxOptionGroup&&r.activecomboboxOptionGroup.find('[data-option-index="'+
c.index.index+'"]').attr("data-option-Selected",g.options[c.index.index][g.columnKeys.optionSelected].toString()));if("undefined"===typeof f||"justSetValue"!==f)b.call(this,a,g.options),z.call(this)},arr:function(c,d,f,e){d.forEach(function(b){if(h.isString(b)||h.isNumber(b))a.text.call(r,c,b,f,"justSetValue");else for(var d in a)if(b[d]){a[d].call(r,c,b,f,"justSetValue");break}});b.call(this,c,this.queue[c].options);z.call(this)},value:function(a,c,d,f){var g=this.queue[a],e=h.search(g.options,function(){return this[g.columnKeys.optionValue]==
c[g.columnKeys.optionValue]});if(!(-1<e)){e=g.options.length;var k={"@index":e,hide:!0,addedOption:!0};k[g.columnKeys.optionValue]=c;k[g.columnKeys.optionText]=c;g.options.push(k)}g.options[e][g.columnKeys.optionSelected]=C(g,g.options[e][g.columnKeys.optionSelected],d);if("undefined"===typeof f||"justSetValue"!==f)b.call(this,a,this.queue[a].options),z.call(this)},text:function(a,c,d,f){var g=this.queue[a],e=h.search(g.options,function(){return this[g.columnKeys.optionText]==c});if(!(-1<e)){e=g.options.length;
var k={"@index":e,hide:!0,addedOption:!0};k[g.columnKeys.optionValue]=c;k[g.columnKeys.optionText]=c;g.options.push(k)}g.options[e][g.columnKeys.optionSelected]=C(g,g.options[e][g.columnKeys.optionSelected],d);if("undefined"===typeof f||"justSetValue"!==f)b.call(this,a,this.queue[a].options),z.call(this)},clear:function(a){x.call(this,a);b.call(this,a,this.queue[a].options);c.call(this,a);this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-index]").attr("data-option-Selected",
"false");this.queue[a].optionSelectedIndex=-1}};return function(c,d,f,e){c=h.isNumber(c)?c:m.call(this,c);if(-1===c)console.log(ax5.info.getError("ax5combobox","402","val"));else{if("undefined"==typeof d)throw"error not found value";if(h.isArray(d))a.clear.call(this,c),a.arr.call(this,c,this.queue[c].multiple||0==d.length?d:[d[d.length-1]],f);else if(h.isString(d)||h.isNumber(d))"undefined"===typeof d||null===d||this.queue[c].multiple||x.call(this,c),a.text.call(this,c,d,f,"justSetValue");else if(null===
d)a.clear.call(this,c);else{this.queue[c].multiple||x.call(this,c);for(var g in a)if(d[g]){a[g].call(this,c,d,f,"justSetValue");break}}b.call(this,c,this.queue[c].options);p.call(this,c);F.call(this,c);"undefined"!==typeof d&&e&&!e.noStateChange&&y.call(this,this.queue[c],{self:this,item:this.queue[c],state:"changeValue",value:this.queue[c].selected});return this}}}();this.init=function(){this.onStateChanged=k.onStateChanged;this.onChange=k.onChange;jQuery(window).on("resize.ax5combobox-display-"+
this.instanceId,function(){w.call(this)}.bind(this))};this.bind=function(c){var e=function(){var g=h.debounce(function(a){if(-1==this.activecomboboxQueueIndex)return this;f.call(r,a,this.queue[a].$displayLabelInput.val())},150),e=function(a,b){var c,f=h.findParentNode(b.target,function(a){if(a.getAttribute("data-ax5combobox-remove"))return c="optionItemRemove",!0;if(a.getAttribute("data-selected-clear"))return c="clear",!0});if(f){if("optionItemRemove"===c)return f=f.getAttribute("data-ax5combobox-remove-index"),
f=this.queue[a].selected[f],d.call(this,a,{index:{gindex:f["@gindex"],index:f["@index"]}},!1,!0),w.call(this),z.call(this),F.call(this,a),h.stopEvent(b),this;"clear"===c&&(d.call(this,a,{clear:!0}),w.call(this),z.call(this),F.call(this,a))}else r.activecomboboxQueueIndex==a?-1==this.queue[a].optionFocusIndex&&r.close():(r.open(a),F.call(this,a))},k=function(a,b){if(b.which==ax5.info.eventKeys.ESC&&-1===r.activecomboboxQueueIndex)return h.stopEvent(b),this;r.activecomboboxQueueIndex!=a&&(r.open(a),
h.stopEvent(b));if(!{40:"KEY_DOWN",38:"KEY_UP"}[b.which])if(b.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[a].$displayLabelInput.val()){if(0<this.queue[a].selected.length){var c=this.queue[a].selected[this.queue[a].selected.length-1];d.call(this,a,{index:{gindex:c["@gindex"],index:c["@index"]}},!1,!0)}w.call(this);z.call(this);h.stopEvent(b)}else g.call(this,a)},l=function(b,f){f.which==ax5.info.eventKeys.ESC?(this.queue[b].$displayLabelInput.val(""),this.close(),h.stopEvent(f)):f.which==ax5.info.eventKeys.RETURN?
(d.call(this,c.id,{index:{gindex:c.indexedOptions[c.optionFocusIndex]["@gindex"],index:c.indexedOptions[c.optionFocusIndex]["@index"]}},void 0,!0),this.queue[b].$displayLabelInput.val(""),w.call(this),this.close(),h.stopEvent(f)):f.which==ax5.info.eventKeys.DOWN?(a.call(this,b,1),h.stopEvent(f)):f.which==ax5.info.eventKeys.UP&&(a.call(this,b,-1),h.stopEvent(f))},m=function(a,b){},p=function(a,b){this.queue[a].$displayLabelInput.val("");h.stopEvent(b)},u=function(a,b){d.call(this,a,{value:this.queue[a].$select.val()},
!0)};return function(a){var c=this.queue[a],d={};c.selected=[];c.$display?c.$displayLabel.html(B.call(this,a)):(d.instanceId=this.instanceId,d.id=c.id,d.name=c.name,d.theme=c.theme,d.tabIndex=c.tabIndex,d.multiple=c.multiple,d.reset=c.reset,d.label=B.call(this,a),d.formSize=c.size?"input-"+c.size:"",c.$display=jQuery(n.tmpl.get.call(this,"comboboxDisplay",d,c.columnKeys)),c.$displayTable=c.$display.find('[data-els="display-table"]'),c.$displayLabel=c.$display.find('[data-ax5combobox-display="label"]'),
c.$displayLabelInput=c.$display.find('[data-ax5combobox-display="input"]'),c.$target.find("select").get(0)?(c.$select=c.$target.find("select"),c.$select.attr("tabindex","-1").attr("class","form-control "+d.formSize),d.name&&c.$select.attr("name","name"),d.multiple&&c.$select.attr("multiple","multiple")):(c.$select=jQuery(n.tmpl.get.call(this,"formSelect",d,c.columnKeys)),c.$target.append(c.$select)),c.$target.append(c.$display));c.options=b.call(this,a,c.options);w.call(this);c.$display.off("click.ax5combobox").on("click.ax5combobox",
e.bind(this,a));c.$displayLabelInput.off("focus.ax5combobox").on("focus.ax5combobox",m.bind(this,a)).off("blur.ax5combobox").on("blur.ax5combobox",p.bind(this,a)).off("keyup.ax5combobox").on("keyup.ax5combobox",k.bind(this,a)).off("keydown.ax5combobox").on("keydown.ax5combobox",l.bind(this,a));c.$select.off("change.ax5combobox").on("change.ax5combobox",u.bind(this,a));return this}}(),g={};c=jQuery.extend(!0,g,k,c);if(!c.target)return console.log(ax5.info.getError("ax5combobox","401","bind")),this;
c.$target=jQuery(c.target);c.id||(c.id=c.$target.data("data-ax5combobox-id"));c.id||(c.id="ax5combobox-"+ax5.getGuid(),c.$target.data("data-ax5combobox-id",c.id));c.name=c.$target.attr("data-ax5combobox");c.options&&(c.options=JSON.parse(JSON.stringify(c.options)));(function(a){h.isObject(a)&&!a.error&&(c=jQuery.extend(!0,c,a))})(h.parseJson(c.$target.attr("data-ax5combobox-config"),!0));g=h.search(this.queue,function(){return this.id==c.id});-1===g?(this.queue.push(c),e.call(this,this.queue.length-
1)):(this.queue[g]=jQuery.extend(!0,{},this.queue[g],c),e.call(this,g));g=g=null;return this};this.open=function(){var a=function(a){a.onExpand.call({self:this,item:a},function(a){if(this.waitOptionsCallback){var c={},d=this.queue[this.activecomboboxQueueIndex];(function(a,b){var c={};b.options.forEach(function(b,d){b["@index"]=d;c[b[a.columnKeys.optionValue]]=b});h.isArray(a.selected)&&a.selected.forEach(function(d){c[d[a.columnKeys.optionValue]]&&(b.options[c[d[a.columnKeys.optionValue]]["@index"]][a.columnKeys.optionSelected]=
!0)})})(d,a);d.options=b.call(this,this.activecomboboxQueueIndex,a.options);p.call(this,this.activecomboboxQueueIndex);w.call(this);c.id=d.id;c.theme=d.theme;c.size="ax5combobox-option-group-"+d.size;c.multiple=d.multiple;c.lang=d.lang;c.options=d.options;this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,"options",c,d.columnKeys)))}}.bind(this))};return function(b,c){this.waitOptionsCallback=null;var d=h.isNumber(b)?b:m.call(this,b);b=this.queue[d];var f=
{};if(b.$display.attr("disabled"))return this;this.openTimer&&clearTimeout(this.openTimer);if(this.activecomboboxOptionGroup){if(this.activecomboboxQueueIndex==d||2<c)return this;this.close();this.openTimer=setTimeout(function(){this.open(d,(c||0)+1)}.bind(this),k.animateTime);return this}b.optionFocusIndex=-1;b.selected&&0<b.selected.length&&(b.optionSelectedIndex=b.selected[0]["@findex"]);f.id=b.id;f.theme=b.theme;f.size="ax5combobox-option-group-"+b.size;f.multiple=b.multiple;f.lang=b.lang;b.$display.attr("data-combobox-option-group-opened",
"true");b.onExpand&&(f.waitOptions=!0);f.options=h.filter(b.options,function(){return!this.hide});this.activecomboboxOptionGroup=jQuery(n.tmpl.get.call(this,"optionGroup",f,b.columnKeys));this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,"options",f,b.columnKeys)));this.activecomboboxQueueIndex=d;z.call(this,"append");jQuery(window).on("resize.ax5combobox-"+this.instanceId,function(){z.call(this)}.bind(this));b.selected&&0<b.selected.length&&(f=this.activecomboboxOptionGroup.find('[data-option-index="'+
b.selected[0]["@index"]+'"]'),f.get(0)&&(f=f.position().top-this.activecomboboxOptionGroup.height()/3,this.activecomboboxOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:f},b.animateTime,"swing",function(){})));jQuery(window).on("click.ax5combobox-"+this.instanceId,function(a){a=a||window.event;D.call(this,a);h.stopEvent(a)}.bind(this));y.call(this,b,{self:this,state:"open",item:b});b.onExpand&&(this.waitOptionsCallback=!0,a.call(this,b));f=f=f=null;return this}}();this.update=function(a){this.bind(a);
return this};this.setValue=function(a,b,c){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5combobox","402","val"));else return x.call(this,a),h.isArray(b)?(b=h.map(b,function(){return{value:this}}),d.call(this,a,b,c||!0,{noStateChange:!0})):h.isString(b)||h.isNumber(b)?d.call(this,a,{value:b},c||!0,{noStateChange:!0}):p.call(this,a),E.call(this,a),w.call(this),this};this.setText=function(a,b,c){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5combobox",
"402","val"));else return x.call(this,a),d.call(this,a,b,!0,{noStateChange:!0}),E.call(this,a),w.call(this),this};this.getSelectedOption=function(a){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5combobox","402","val"));else return h.deepCopy(this.queue[a].selected)};this.close=function(a){this.closeTimer&&clearTimeout(this.closeTimer);if(!this.activecomboboxOptionGroup)return this;a=this.queue[this.activecomboboxQueueIndex];a.optionFocusIndex=-1;a.$display.removeAttr("data-combobox-option-group-opened").trigger("focus");
a.$displayLabel.attr("contentEditable","false");this.activecomboboxOptionGroup.addClass("destroy");jQuery(window).off("resize.ax5combobox-"+this.instanceId).off("click.ax5combobox-"+this.instanceId).off("keyup.ax5combobox-"+this.instanceId);this.closeTimer=setTimeout(function(){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.remove();this.activecomboboxOptionGroup=null;this.activecomboboxQueueIndex=-1;y.call(this,a,{self:this,state:"close"})}.bind(this),k.animateTime);this.waitOptionsCallback=
null;return this};this.blur=function(a){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5combobox","402","val"));else return E.call(this,a),this};this.enable=function(a){a=m.call(this,a);"undefined"!==typeof a&&(this.queue[a].disabled=!1,this.queue[a].$display[0]&&(this.queue[a].$display.removeAttr("disabled"),this.queue[a].$displayLabelInput.removeAttr("disabled")),this.queue[a].$select[0]&&this.queue[a].$select.removeAttr("disabled"),y.call(this,this.queue[a],{self:this,
state:"enable"}));return this};this.disable=function(a){a=m.call(this,a);"undefined"!==typeof a&&(this.queue[a].disabled=!0,this.queue[a].$display[0]&&(this.queue[a].$display.attr("disabled","disabled"),this.queue[a].$displayLabelInput.attr("disabled","disabled")),this.queue[a].$select[0]&&this.queue[a].$select.attr("disabled","disabled"),y.call(this,this.queue[a],{self:this,state:"disable"}));return this};this.align=function(){w.call(this);return this};this.clear=function(a){a=h.isNumber(a)?a:m.call(this,
a);if(-1===a)console.log(ax5.info.getError("ax5combobox","402","clear"));else return x.call(this,a),d.call(this,a,[],!1,{noStateChange:!1}),p.call(this,a),E.call(this,a),w.call(this),this};this.main=function(){arguments&&h.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}}());n=ax5.ui.combobox})();
(function(){var h=ax5.ui.combobox;h.tmpl={comboboxDisplay:function(h){return'\n<div class="form-control {{formSize}} ax5combobox-display {{theme}}" \ndata-ax5combobox-display="{{id}}" data-ax5combobox-instance="{{instanceId}}">\n    <div class="ax5combobox-display-table" data-els="display-table">\n        <div data-ax5combobox-display="label-holder"> \n            <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n            data-ax5combobox-display="label"\n            spellcheck="false"><input type="text"data-ax5combobox-display="input" style="border:0 none;" /></a>\n        </div>\n        <div data-ax5combobox-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n</div>\n        '},formSelect:function(h){return'\n            <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n        '},
formSelectOptions:function(h){return'\n{{#selected}}\n<option value="{{'+h.optionValue+'}}" selected="true">{{'+h.optionText+"}}</option>\n{{/selected}}\n"},optionGroup:function(h){return'\n            <div class="ax5combobox-option-group {{theme}} {{size}}" data-ax5combobox-option-group="{{id}}">\n                <div class="ax-combobox-body">\n                    <div class="ax-combobox-option-group-content" data-els="content"></div>\n                </div>\n                <div class="ax-combobox-arrow"></div> \n            </div>\n        '},
options:function(h){return'\n            {{#waitOptions}}\n                <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.loading}}}\n                            </span>\n                        </div>\n                    </div>\n            {{/waitOptions}}\n            {{^waitOptions}}\n                {{#options}}\n                    {{#optgroup}}\n                        <div class="ax-combobox-option-group">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-group-label">\n                                    {{{.}}}\n                                </span>\n                            </div>\n                            {{#options}}\n                            {{^hide}}\n                            <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                            data-option-value="{{'+
h.optionValue+'}}" \n                            {{#'+h.optionSelected+'}}data-option-selected="true"{{/'+h.optionSelected+'}}>\n                                <div class="ax-combobox-option-item-holder">\n                                    {{#multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                        <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                    </span>\n                                    {{/multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+
h.optionText+'}}</span>\n                                </div>\n                            </div>\n                            {{/hide}}\n                            {{/options}}\n                        </div>                            \n                    {{/optgroup}}\n                    {{^optgroup}}\n                    {{^hide}}\n                    <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+h.optionValue+
'}}" {{#'+h.optionSelected+'}}data-option-selected="true"{{/'+h.optionSelected+'}}>\n                        <div class="ax-combobox-option-item-holder">\n                            {{#multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                            </span>\n                            {{/multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+
h.optionText+'}}</span>\n                        </div>\n                    </div>\n                    {{/hide}}\n                    {{/optgroup}}\n                {{/options}}\n                {{^options}}\n                    <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.noOptions}}}\n                            </span>\n                        </div>\n                    </div>\n                {{/options}}\n            {{/waitOptions}}\n        '},
label:function(h){return'{{#selected}}<div tabindex="-1" data-ax5combobox-selected-label="{{@i}}" data-ax5combobox-selected-text="{{text}}"><div data-ax5combobox-remove="true" \ndata-ax5combobox-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{'+h.optionText+"}}</span></div>{{/selected}}"},get:function(n,r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();
(function(){ax5.ui.combobox.util={nodeTypeProcessor:{1:function(h,n,r){var k=this.config,e=n;$(n).find("span").get(0)&&(e=$(n).find("span").get(0));e=(e.textContent||e.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,"");h=this.queue[h];if(h.selected&&0<h.selected.length&&n.getAttribute("data-ax5combobox-selected-text")==e)return n=n.getAttribute("data-ax5combobox-selected-label"),n=h.selected[n],{index:{gindex:n["@gindex"],index:n["@index"],value:n[k.columnKeys.optionValue]}};if(n.getAttribute("data-ax5combobox-selected-text"))return e;
if(""!=e){if(r)return e;var y;-1<h.optionFocusIndex&&(y=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+h.optionFocusIndex+'"]'));return-1<h.optionFocusIndex&&y.get(0)&&y.attr("data-option-value")?{index:{gindex:y.attr("data-option-group-index"),index:y.attr("data-option-index")}}:h.editable?e:void 0}},3:function(h,n,r){n=(n.textContent||n.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,"");h=this.queue[h];if(""!=n){if(r)return n;var k;-1<h.optionFocusIndex&&(k=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+
h.optionFocusIndex+'"]'));return-1<h.optionFocusIndex&&k.get(0)&&k.attr("data-option-value")?{index:{gindex:k.attr("data-option-group-index"),index:k.attr("data-option-index")}}:h.editable?n:void 0}}}}})();ax5.ui.combobox_instance=new ax5.ui.combobox;
jQuery.fn.ax5combobox=function(){return function(h,n,r,k,e){if(ax5.util.isString(h))switch(h){case "open":return ax5.ui.combobox_instance.open(this);case "close":return ax5.ui.combobox_instance.close(this);case "setValue":return ax5.ui.combobox_instance.setValue(this,n,r,k,e||"justSetValue");case "setText":return ax5.ui.combobox_instance.setText(this,n,r,k,e||"justSetValue");case "getSelectedOption":return ax5.ui.combobox_instance.getSelectedOption(this);case "enable":return ax5.ui.combobox_instance.enable(this);
case "disable":return ax5.ui.combobox_instance.disable(this);case "blur":return ax5.ui.combobox_instance.blur(this);case "clear":return ax5.ui.combobox_instance.clear(this)}else"undefined"==typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend({},h,{target:this});ax5.ui.combobox_instance.bind(h)});return this}}();"use strict";
(function(){var h=ax5.util;ax5.ui.addClass({className:"layout"},function(){return function(){var n=this,r={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},k=function(e){e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e;return{clientX:e.clientX,clientY:e.clientY}};this.instanceId=ax5.getGuid();this.config={theme:"default",animateTime:250,splitter:{size:1},
autoResize:!0};this.queue=[];this.resizer=this.closeTimer=this.openTimer=null;var e=this.config;var y={width:function(e,h){return h?h.__width+(h.split?e.splitter.size:0):0},height:function(e,h){return h?h.__height+(h.split?e.splitter.size:0):0}},w=function(e,k){if("*"!=e)return"%"==h.right(e,1)?k*h.number(e)/100:Number(e)},z=function(){var e={split:{horizontal:function(a,b,c){b.splitter?b.__height=a.splitter.size:c==a.splitPanel.length-1?0==a.splitPanel.asteriskLength?(b.height="*",b.__height=void 0,
a.splitPanel.asteriskLength++):"*"==b.height&&a.splitPanel.asteriskLength++:"*"==b.height&&a.splitPanel.asteriskLength++},vertical:function(a,b,c){b.splitter?b.__width=a.splitter.size:c==a.splitPanel.length-1?0==a.splitPanel.asteriskLength?(b.width="*",b.__width=void 0,a.splitPanel.asteriskLength++):"*"==b.width&&a.splitPanel.asteriskLength++:"*"==b.width&&a.splitPanel.asteriskLength++}}},k={top:function(a,b){b.$target.css({height:b.__height||0});b.split&&b.$splitter.css({height:a.splitter.size,top:b.__height||
0})},bottom:function(a,b){b.$target.css({height:b.__height||0});b.split&&b.$splitter.css({height:a.splitter.size,bottom:b.__height||0})},left:function(a,b){var c={width:b.__width||0,height:a.targetDimension.height};a.dockPanel.top&&(c.height-=a.dockPanel.top.__height,c.top=a.dockPanel.top.__height,a.dockPanel.top.split&&(c.height-=a.splitter.size,c.top+=a.splitter.size));a.dockPanel.bottom&&(c.height-=a.dockPanel.bottom.__height,a.dockPanel.bottom.split&&(c.height-=a.splitter.size));b.$target.css(c);
b.split&&b.$splitter.css({width:a.splitter.size,height:c.height,top:c.top,left:c.width})},right:function(a,b){var c={width:b.__width||0,height:a.targetDimension.height};a.dockPanel.top&&(c.height-=a.dockPanel.top.__height,c.top=a.dockPanel.top.__height,a.dockPanel.top.split&&(c.height-=a.splitter.size,c.top+=a.splitter.size));a.dockPanel.bottom&&(c.height-=a.dockPanel.bottom.__height,a.dockPanel.bottom.split&&(c.height-=a.splitter.size));b.$target.css(c);b.split&&b.$splitter.css({width:a.splitter.size,
height:c.height,top:c.top,right:c.width})},center:function(a,b){var c={width:a.targetDimension.width,height:a.targetDimension.height};a.dockPanel.top&&(c.height-=a.dockPanel.top.__height||0,c.top=a.dockPanel.top.__height||0,a.dockPanel.top.split&&(c.height-=a.splitter.size,c.top+=a.splitter.size));a.dockPanel.bottom&&(c.height-=a.dockPanel.bottom.__height||0,a.dockPanel.bottom.split&&(c.height-=a.splitter.size));a.dockPanel.left&&(c.width-=a.dockPanel.left.__width||0,c.left=a.dockPanel.left.__width||
0,a.dockPanel.left.split&&(c.width-=a.splitter.size,c.left+=a.splitter.size));a.dockPanel.right&&(c.width-=a.dockPanel.right.__width||0,a.dockPanel.right.split&&(c.width-=a.splitter.size));var f=b.minWidth||0,e=b.minHeight||0;c.width<f&&(c.width=f,a.$target.css({minWidth:f+y.width(a.dockPanel.left,a.splitter.size)+y.width(a.dockPanel.right,a.splitter.size)}));c.height<e&&(c.height=e,a.$target.css({minHeight:e+y.height(a.dockPanel.top,a.splitter.size)+y.height(a.dockPanel.bottom,a.splitter.size)}));
b.$target.css(c)},split:{horizontal:function(a,b,c,f,e){var d={display:"block"};c=c?Number(a.splitPanel[c-1].offsetEnd):0;d.height=b.splitter?a.splitter.size:"*"!=b.height||"undefined"!==typeof b.__height&&!e?b.__height||0:b.__height=(a.targetDimension.height-f)/a.splitPanel.asteriskLength;d.top=c;b.offsetStart=c;b.offsetEnd=Number(c)+Number(d.height);b.$target.css(d)},vertical:function(a,b,c,f,e){var d={display:"block"};c=c?Number(a.splitPanel[c-1].offsetEnd):0;d.width=b.splitter?a.splitter.size:
"*"!=b.width||"undefined"!==typeof b.__width&&!e?b.__width||0:b.__width=(a.targetDimension.width-f)/a.splitPanel.asteriskLength;d.left=c;b.offsetStart=c;b.offsetEnd=Number(c)+Number(d.width);b.$target.css(d)}}},f={"dock-panel":function(a){for(var b in a.dockPanel)a.dockPanel[b].$target&&a.dockPanel[b].$target.get(0)&&b in k&&k[b].call(this,a,a.dockPanel[b])},"split-panel":function(a,b){a.splitPanel.asteriskLength=0;a.splitPanel.forEach(function(b,c){e.split[a.orientation].call(this,a,b,c)});var c=
"horizontal"==a.orientation?h.sum(a.splitPanel,function(a){if("*"!=a.height)return h.number(a.__height)}):h.sum(a.splitPanel,function(a){if("*"!=a.width)return h.number(a.__width)});a.splitPanel.forEach(function(f,e){k.split[a.orientation].call(this,a,f,e,c,b)})}},c=function(a){for(var b=a.childQueIdxs.length;b--;)z.call(this,a.childQueIdxs[b])};return function(a,b,e){a=this.queue[a];a.targetDimension={height:a.$target.innerHeight(),width:a.$target.innerWidth()};a.layout in f&&f[a.layout].call(this,
a,e);a.childQueIdxs&&c.call(this,a,e);a.onResize&&setTimeout(function(){this.onResize.call(this,this)}.bind(a),1);b&&b.call(a,a)}}(),D={on:function(e,h,f){var c=this.queue[e],a=f.position(),b=f.width(),k=f.height(),l={left:function(a){h.__da=("changedTouches"in a.originalEvent&&a.changedTouches?a.originalEvent.changedTouches[0]:a).clientX-h.mousePosition.clientX;a=h.minWidth||0;var b=h.maxWidth||c.targetDimension.width-y.width(c,c.dockPanel.left)-y.width(c,c.dockPanel.right);h.__width+h.__da<a?h.__da=
-h.__width+a:b<h.__width+h.__da&&(h.__da=b-h.__width);return{left:h.$splitter.position().left+h.__da}},right:function(a){h.__da=("changedTouches"in a.originalEvent&&a.changedTouches?a.originalEvent.changedTouches[0]:a).clientX-h.mousePosition.clientX;a=h.minWidth||0;var b=h.maxWidth||c.targetDimension.width-y.width(c,c.dockPanel.left)-y.width(c,c.dockPanel.right);h.__width-h.__da<a?h.__da=h.__width-a:b<h.__width-h.__da&&(h.__da=-b+h.__width);return{left:h.$splitter.position().left+h.__da}},top:function(a){h.__da=
("changedTouches"in a.originalEvent&&a.changedTouches?a.originalEvent.changedTouches[0]:a).clientY-h.mousePosition.clientY;a=h.minHeight||0;var b=h.maxHeight||c.targetDimension.height-y.height(c,c.dockPanel.top)-y.height(c,c.dockPanel.bottom);h.__height+h.__da<a?h.__da=-h.__height+a:b<h.__height+h.__da&&(h.__da=b-h.__height);return{top:h.$splitter.position().top+h.__da}},bottom:function(a){h.__da=("changedTouches"in a.originalEvent&&a.changedTouches?a.originalEvent.changedTouches[0]:a).clientY-h.mousePosition.clientY;
a=h.minHeight||0;var b=h.maxHeight||c.targetDimension.height-y.height(c,c.dockPanel.top)-y.height(c,c.dockPanel.bottom);h.__height-h.__da<a?h.__da=h.__height-a:b<h.__height-h.__da&&(h.__da=-b+h.__height);return{top:h.$splitter.position().top+h.__da}},split:function(a){a="changedTouches"in a.originalEvent&&a.changedTouches?a.originalEvent.changedTouches[0]:a;if("horizontal"==c.orientation){h.__da=a.clientY-h.mousePosition.clientY;a=c.splitPanel[h.panelIndex-1];var b=c.splitPanel[h.panelIndex+1],f=
a.minHeight||0,e=b.minHeight||0;h.offsetStart+h.__da<a.offsetStart+f?h.__da=a.offsetStart-h.offsetStart+f:h.offsetStart+h.__da>b.offsetEnd-e&&(h.__da=b.offsetEnd-h.offsetEnd-e);return{top:h.$target.position().top+h.__da}}h.__da=a.clientX-h.mousePosition.clientX;a=c.splitPanel[h.panelIndex-1];b=c.splitPanel[h.panelIndex+1];f=a.minWidth||0;e=b.minWidth||0;h.offsetStart+h.__da<a.offsetStart+f?h.__da=a.offsetStart-h.offsetStart+f:h.offsetStart+h.__da>b.offsetEnd-e&&(h.__da=b.offsetEnd-h.offsetEnd-e);
return{left:Number(h.$target.position().left)+Number(h.__da)}}};h.__da=0;jQuery(document.body).bind(r.mousemove+".ax5layout-"+this.instanceId,function(f){n.resizer||(n.resizer=jQuery('<div class="ax5layout-resizer panel-'+h.resizerType+'" ondragstart="return false;"></div>'),n.resizer.css({left:a.left,top:a.top,width:b,height:k}),c.$target.append(n.resizer));n.resizer.css(l[h.resizerType](f))}).bind(r.mouseup+".ax5layout-"+this.instanceId,function(a){D.off.call(n,e,h,f)}).bind("mouseleave.ax5layout-"+
this.instanceId,function(a){D.off.call(n,e,h,f)});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(e,h,f){var c=this.queue[e];f={"dock-panel":{left:function(a,b){b.__width+=b.__da},right:function(){h.__width-=h.__da},top:function(){h.__height+=h.__da},bottom:function(){h.__height-=h.__da}},"split-panel":{split:function(){"horizontal"==c.orientation?(c.splitPanel[h.panelIndex-1].__height+=h.__da,c.splitPanel[h.panelIndex+1].__height-=h.__da):
(c.splitPanel[h.panelIndex-1].__width+=h.__da,c.splitPanel[h.panelIndex+1].__width-=h.__da)}},"tab-panel":{}};n.resizer&&(n.resizer.remove(),n.resizer=null,f[this.queue[e].layout][h.resizerType].call(this,e,h),z.call(this,e));jQuery(document.body).unbind(r.mousemove+".ax5layout-"+this.instanceId).unbind(r.mouseup+".ax5layout-"+this.instanceId).unbind("mouseleave.ax5layout-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},B=function(e,
h,f){h.activePanelIndex!=f&&(h.tabPanel[f].active=!0,h.tabPanel[h.activePanelIndex].active=!1,h.$target.find('[data-tab-panel-label="'+f+'"]').attr("data-tab-active","true"),h.$target.find('[data-tab-panel-label="'+h.activePanelIndex+'"]').removeAttr("data-tab-active"),h.tabPanel[f].$target.attr("data-tab-active","true"),h.tabPanel[h.activePanelIndex].$target.removeAttr("data-tab-active"),h.activePanelIndex=f,h.onOpenTab&&(h.onOpenTab.call({$target:h.$target,name:h.name,id:h.id,layout:h.layout,activePanelIndex:h.activePanelIndex,
activePanel:h.tabPanel[h.activePanelIndex],tabPanel:h.tabPanel}),fnObj.tabControl&&fnObj.tabControl(h.activePanelIndex)))},p=function(){var e={"dock-panel":function(e){var f=this.queue[e];f.dockPanel={};f.$target.find(">[data-dock-panel]").each(function(){var c={};(function(a){h.isObject(a)&&!a.error&&(c=jQuery.extend(!0,c,a))})(h.parseJson(this.getAttribute("data-dock-panel"),!0));if("dock"in c){c.$target=jQuery(this);c.$target.addClass("dock-panel-"+c.dock);if(c.split=c.split&&"true"==c.split.toString())c.$splitter=
jQuery('<div data-splitter="" class="dock-panel-'+c.dock+'"></div>'),c.$splitter.bind(r.mousedown,function(a){c.mousePosition=k(a);D.on.call(n,e,c,c.$splitter)}).bind("dragstart",function(a){h.stopEvent(a);return!1}),f.$target.append(c.$splitter);"top"==c.dock||"bottom"==c.dock?c.__height=w(c.height,f.targetDimension.height):c.__width=w(c.width,f.targetDimension.width);c.resizerType=c.dock;f.dockPanel[c.dock]=c}})},"split-panel":function(e){var f=this.queue[e];f.splitPanel=[];f.$target.find(">[data-split-panel], >[data-splitter]").each(function(c){var a=
{};(function(b){h.isObject(b)&&!b.error&&(a=jQuery.extend(!0,a,b))})(h.parseJson(this.getAttribute("data-split-panel")||this.getAttribute("data-splitter"),!0));a.$target=jQuery(this);a.$target.addClass("split-panel-"+f.orientation);a.panelIndex=c;this.getAttribute("data-splitter")?(a.splitter=!0,a.$target.bind(r.mousedown,function(b){0<a.panelIndex&&a.panelIndex<f.splitPanel.length-1&&(a.mousePosition=k(b),D.on.call(n,e,a,a.$target))}).bind("dragstart",function(a){h.stopEvent(a);return!1}),a.resizerType=
"split"):"horizontal"==f.orientation?a.__height=w(a.height,f.targetDimension.height):(f.orientation="vertical",a.__width=w(a.width,f.targetDimension.width));f.splitPanel.push(a)})},"tab-panel":function(e){var f=this.queue[e],c=!1;f.tabPanel=[];f.$target.find(">[data-tab-panel]").each(function(a){var b={},e=h.parseJson(this.getAttribute("data-tab-panel"),!0);h.isObject(e)&&!e.error&&(b=jQuery.extend(!0,b,e));c&&(b.active=!1);b.$target=jQuery(this);b.active&&"false"!=b.active&&(c=!0,f.activePanelIndex=
a,b.$target.attr("data-tab-active","true"));b.panelIndex=a;f.tabPanel.push(b)});c||(f.tabPanel[0].active=!0,f.tabPanel[0].$target.attr("data-tab-active","true"),f.activePanelIndex=0);f.$target.append(jQuery(ax5.mustache.render('\n<div data-tab-panel-label-holder="{{id}}">\n    <div data-tab-panel-label-border="{{id}}"></div>\n    <div data-tab-panel-label-table="{{id}}">\n        <div data-tab-panel-aside="left"></div>\n    {{#tabPanel}}\n        <div data-tab-panel-label="{{panelIndex}}" data-tab-active="{{active}}">\n            <div data-tab-label="{{panelIndex}}">{{{label}}}</div>\n        </div>\n    {{/tabPanel}}\n        <div data-tab-panel-aside="right"></div>\n    </div>\n</div>\n',
f)));f.$target.on("click","[data-tab-panel-label]",function(a){a=this.getAttribute("data-tab-panel-label");B.call(n,e,f,a)})}};return function(k){var f=this.queue[k];f.targetDimension={height:f.$target.innerHeight(),width:f.$target.innerWidth()};if(f.$target.parents("[data-ax5layout]").get(0)){var c=f.$target.parents("[data-ax5layout]").get(0);c=h.isNumber(c)?c:F.call(this,c);this.queue[c].childQueIdxs||(this.queue[c].childQueIdxs=[]);this.queue[c].childQueIdxs.push(k);this.queue[k].parentQueIdx=
c}f.layout in e&&e[f.layout].call(this,k);z.call(this,k)}}(),F=function(e){h.isString(e)||(e=jQuery(e).data("data-ax5layout-id"));return h.isString(e)?h.search(this.queue,function(){return this.id==e}):-1};this.init=function(){this.onStateChanged=e.onStateChanged;this.onClick=e.onClick;jQuery(window).bind("resize.ax5layout-"+this.instanceId,function(){for(var e=this.queue.length;e--;)"undefined"===typeof this.queue[e].parentQueIdx&&this.queue[e].autoResize&&z.call(this,e,null,"windowResize")}.bind(this))};
this.bind=function(k){var l={};k=jQuery.extend(!0,l,e,k);if(!k.target)return console.log(ax5.info.getError("ax5layout","401","bind")),this;k.$target=jQuery(k.target);k.id||(k.id=k.$target.data("data-ax5layout-id"));k.id||(k.id="ax5layout-"+ax5.getGuid(),k.$target.data("data-ax5layout-id",k.id));k.name=k.$target.attr("data-ax5layout");k.options&&(k.options=JSON.parse(JSON.stringify(k.options)));(function(f){h.isObject(f)&&!f.error&&(k=jQuery.extend(!0,k,f))})(h.parseJson(k.$target.attr("data-config"),
!0));l=h.search(this.queue,function(){return this.id==k.id});-1===l?(this.queue.push(k),p.call(this,this.queue.length-1)):(this.queue[l]=jQuery.extend(!0,{},this.queue[l],k),p.call(this,l));l=l=null;return this};this.align=function(e,k){e=h.isNumber(e)?e:F.call(this,e);if(-1===e)for(e=this.queue.length;e--;)z.call(this,e,null,k);else z.call(this,e,null,k);return this};this.onResize=function(e,k){e=h.isNumber(e)?e:F.call(this,e);if(-1===e)console.log(ax5.info.getError("ax5layout","402","onResize"));
else return this.queue[e].onResize=k,this};this.resize=function(){var e={"dock-panel":function(e,f){["top","bottom","left","right"].forEach(function(c){if(f[c]&&e.dockPanel[c])if("top"==c||"bottom"==c)e.dockPanel[c].__height=h.isObject(f[c])?f[c].height:f[c];else if("left"==c||"right"==c)e.dockPanel[c].__width=h.isObject(f[c])?f[c].width:f[c]})},"split-panel":function(){},"tab-panel":function(){}};return function(k,f,c){k=h.isNumber(k)?k:F.call(this,k);if(-1===k)for(k=this.queue.length;k--;)e[this.queue[k].layout].call(this,
this.queue[k],f),z.call(this,k,c);else this.queue[k]&&(e[this.queue[k].layout].call(this,this.queue[k],f),z.call(this,k,c));return this}}();this.reset=function(){var e={"dock-panel":function(e){["top","bottom","left","right"].forEach(function(f){if(e.dockPanel[f])if("top"==f||"bottom"==f)e.dockPanel[f].__height=e.dockPanel[f].height;else if("left"==f||"right"==f)e.dockPanel[f].__width=e.dockPanel[f].width})},"split-panel":function(e){e.splitPanel.forEach(function(f){"vertical"==e.orientation?f.__width=
w(f.width,e.targetDimension.width):"horizontal"==e.orientation&&(f.__height=w(f.height,e.targetDimension.height))})},"tab-panel":function(){}};return function(k,f){k=h.isNumber(k)?k:F.call(this,k);-1!==k&&(e[this.queue[k].layout].call(this,this.queue[k]),z.call(this,k,f));return this}}();this.hide=function(){};this.tabOpen=function(){return function(e,k){e=h.isNumber(e)?e:F.call(this,e);if(-1===e)console.log(ax5.info.getError("ax5layout","402","tabOpen"));else return B.call(this,e,this.queue[e],k),
this}}();this.getActiveTab=function(e){e=h.isNumber(e)?e:F.call(this,e);if(-1===e)console.log(ax5.info.getError("ax5layout","402","tabOpen"));else if("undefined"!=typeof this.queue[e].activePanelIndex)return this.queue[e].tabPanel[this.queue[e].activePanelIndex]};this.main=function(){arguments&&h.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}}())})();ax5.ui.layout_instance=new ax5.ui.layout;
jQuery.fn.ax5layout=function(){return function(h,n,r){if(ax5.util.isString(h))switch(h){case "align":return ax5.ui.layout_instance.align(this,n);case "resize":return ax5.ui.layout_instance.resize(this,n,r);case "reset":return ax5.ui.layout_instance.reset(this,n);case "hide":return ax5.ui.layout_instance.hide(this,n);case "onResize":return ax5.ui.layout_instance.onResize(this,n);case "tabOpen":return ax5.ui.layout_instance.tabOpen(this,n);case "getActiveTab":return ax5.ui.layout_instance.getActiveTab(this,
n)}else"undefined"==typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend({},h,{target:this});ax5.ui.layout_instance.bind(h)});return this}}();"use strict";
(function(){var h=ax5.util;ax5.ui.addClass({className:"binder"},function(){return function(){this.instanceId=ax5.getGuid();this.config={};this.model={};this.tmpl={};this.view_target=null;this.change_trigger={};this.click_trigger={};this.update_trigger={};this.onerror=null;var n=Object.prototype.toString,r=function(e){var h;null!=e&&e==e.window?h="window":e&&1==e.nodeType?h="element":e&&11==e.nodeType?h="fragment":"undefined"===typeof e?h="undefined":"[object Object]"==n.call(e)?h="object":"[object Array]"==
n.call(e)?h="array":"[object String]"==n.call(e)?h="string":"[object Number]"==n.call(e)?h="number":"[object NodeList]"==n.call(e)?h="nodelist":"function"===typeof e&&(h="function");return h},k=function(e){var h=[];e=[].concat(e.split(/[\.\[\]]/g));e.forEach(function(e){""!==e&&h.push('["'+e.replace(/['"]/g,"")+'"]')});e=null;return h.join("")};this.setModel=function(e,h){this.model=e;!this.view_target&&h?(this.view_target=h,this._binding()):this._binding("update");return this};this.set=function(e,
h){var n=this,y;Function("val","this"+k(e)+" = val;").call(this.model,h);var D=r(h);if("object"==D)for(var B in h)this.set(e+"."+B,h[B]);else if("array"==D)for(this.view_target.find('[data-ax-path="'+e+'"]').each(function(){y=(this.type||"").toLowerCase();"checkbox"!=y&&"radio"!=y||n.set_els_value(this,this.tagName.toLowerCase(),y,h,e,"change")}),D=h.length;D--;)this.set(e+"["+D+"]",h[D]);else this.view_target.find('[data-ax-path="'+e+'"]').each(function(){n.set_els_value(this,this.tagName.toLowerCase(),
(this.type||"").toLowerCase(),h,e,"change")});return this};this.get=function(e){return"undefined"==typeof e?this.model:Function("","return this"+k(e)+";").call(this.model)};this.onChange=function(e,h){this.change_trigger[e||"*"]=h;return this};this.onClick=function(e,h){this.click_trigger[e]=h;return this};this.add=function(e,h){var n=Function("","return this"+k(e)+";").call(this.model),r=this.tmpl[e];h["@i"]=n.length;h["@r"]=n.length;h.__ADDED__=!0;Function("val","this"+k(e)+".push(val);").call(this.model,
h);for(var y in r){var B=$(ax5.mustache.render(r[y].content,h));B.attr("data-ax-repeat-path",e);B.attr("data-ax-repeat-i",h["@i"]);this.bind_event_tmpl(B,e);r[y].container.append(B)}this.change("*");if(h=this.update_trigger[e])e={repeat_path:e,tmpl:r,list:n},h.call(e,e);return this};this.remove=function(e,h){var n=Function("","return this"+k(e)+";").call(this.model),r=this.tmpl[e];"undefined"==typeof h&&(h=n.length-1);n[h].__ADDED__?n.splice(h,1):n[h].__DELETED__=!0;for(var y in r)r[y].container.empty(),
this.print_tmpl(e,r[y]);this.change("*");if(h=this.update_trigger[e])e={repeat_path:e,tmpl:r,list:n},h.call(e,e);return this};this.update=function(e,h,n){var r=Function("","return this"+k(e)+";").call(this.model),w=this.tmpl[e];"undefined"!=typeof h&&n&&r.splice(h,1,n);for(var y in w)w[y].container.empty(),this.print_tmpl(e,w[y]);this.change("*");if(h=this.update_trigger[e])e={repeat_path:e,tmpl:w,list:r},h.call(e,e);return this};this.childAdd=function(e,h,n,r){var w=Function("","return this"+k(e)+
";").call(this.model);n=Function("","return this"+k(e)+"["+h+"]."+n+";").call(this.model);r.__ADDED__=!0;n.push(r);this.update(e,h,w[h])};this.childRemove=function(e,h,n,r){var w=Function("","return this"+k(e)+";").call(this.model);n=Function("","return this"+k(e)+"["+h+"]."+n+";").call(this.model);n[r].__ADDED__?n.splice(r,1):n[r].__DELETED__=!0;this.update(e,h,w[h])};this.childUpdate=function(e,h,n,r,D){var w=Function("","return this"+k(e)+";").call(this.model);Function("","return this"+k(e)+"["+
h+"]."+n+";").call(this.model)[r]=D;this.update(e,h,w[h])};this.childSet=function(e,h,n,r){var w=this;Function("val","this"+k(e)+"["+h+"]."+n+" = val;").call(this.model,r);this.view_target.find('[data-ax-repeat="'+e+'"]').find('[data-ax-repeat-i="'+h+'"]').find('[data-ax-item-path="'+n+'"]').each(function(){w.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),r,e+"["+h+"]."+n)});return this};this.onUpdate=function(e,h){this.update_trigger[e]=h;return this};this._binding=function(e){var h=
this;this.view_target.find("[data-ax-path]").each(function(){var e=$(this).attr("data-ax-path"),p=(this.type||"").toLowerCase();try{var n=Function("","return this"+k(e)+";").call(h.model)}catch(E){if(h.onerror)h.onerror("not found target [model."+k(e)+"]")}h.set_els_value(this,this.tagName.toLowerCase(),p,n||"",e)});"undefined"==typeof e?this.view_target.find("[data-ax-repeat]").each(function(){var e=$(this),k=e.attr("data-ax-repeat"),n=e.attr("data-ax-repeat-idx");"undefined"==typeof h.tmpl[k]&&
(h.tmpl[k]={});"undefined"!=typeof n?h.tmpl[k][n]={container:e,content:e.find("script").html()}:h.tmpl[k]["0"]={container:e,content:e.find("script").html()};e.empty()}):this.view_target.find("[data-ax-repeat]").each(function(){$(this).empty().show()});this.view_target.find("[data-ax-path]").off("change.axbinder").on("change.axbinder",function(e){var n=[];e=$(e.target);var w=e.attr("data-ax-path"),y=Function("","return this"+k(w)+";").call(h.model);var l=(this.type||"").toLowerCase();var f=r(y);var c=
!0;if("object"==f||"array"==f)c=!1;if("checkbox"==l){if(1<h.view_target.find('[data-ax-path="'+w+'"]').length){"array"!=r(y)&&(y="undefined"===typeof y||""==y?[]:[].concat(y));l=y.length;f=!1;for(c=this.checked;l--;)y[l]==this.value&&(f=!0);if(c)f||y.push(this.value);else{for(l=y.length;l--;)y[l]!=this.value&&n.push(y[l]);y=n}}else y=this.checked?this.value:"";Function("val","this"+k(w)+" = val;").call(h.model,y);h.change(w,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:y})}else c&&(Function("val",
"this"+k(w)+" = val;").call(h.model,this.value),h.change(w,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:this.value}));e.data("changedTime",(new Date).getTime())});for(var n in h.tmpl){for(var z in h.tmpl[n])this.print_tmpl(n,h.tmpl[n][z],"isInit");if(e=this.update_trigger[n]){var D={repeat_path:n,tmpl:h.tmpl[n],list:Function("","return this."+n+";").call(this.model)};e.call(D,D)}}};this.set_els_value=function(e,h,n,r,D,B){r="undefined"===typeof r?[]:[].concat(r);if("input"==h)if("checkbox"==
n||"radio"==n){n=r.length;var p=!1;try{if(0<n)for(;n--;)"undefined"!==typeof r[n]&&e.value===r[n].toString()&&(p=!0)}catch(l){console.log(l)}e.checked=p}else e.value=r.join("");else if("select"==h){p=e.options;n=p.length;for(var w,y=!1;n--;){for(w=r.length;w--;)if("undefined"!==typeof r[w]&&p[n].value===r[w].toString()){y=p[n].selected=!0;break}if(y)break}y||(p[0]?(p[0].selected=!0,Function("val","this"+k(D)+" = val;").call(this.model,p[0].value)):Function("val","this"+k(D)+" = val;").call(this.model,
""));window.AXSelect&&$("undefined"!==typeof r&&e).bindSelectSetValue(r[r.length-1])}else"textarea"==h?e.value=r.join("")||"":e.innerText?e.innerText=r.join(""):e.innerHTML=r.join("");B&&this.change(D,{el:e,tagname:h,value:r});return this};this.change=function(e,h){var k=this.change_trigger[e];k&&k.call(h,h);"*"!=e&&this.change_trigger["*"]&&this.change_trigger["*"].call(h,h)};this.click=function(e,h){(e=this.click_trigger[e])&&e.call(h,h)};this.sync_model=function(){};this.print_tmpl=function(e,
h,n){if((n=Function("","return this"+k(e)+";").call(this.model))&&"array"==r(n))for(var w=0,y=n.length;w<y;w++){var B=n[w];jQuery.isPlainObject(B)?(B["@i"]=w,B["@r"]=w,0===w&&(B["@first"]=!0)):(B={"@i":w,"@value":B},0===w&&(B["@first"]=!0),console.log(B));if(!B.__DELETED__){var p=$(ax5.mustache.render(h.content,B));p.attr("data-ax-repeat-path",e);p.attr("data-ax-repeat-i",B["@i"]);this.bind_event_tmpl(p,e);h.container.append(p)}}};this.bind_event_tmpl=function(e,h){var n=this,y=e.attr("data-ax-repeat-i"),
D=Function("","return this"+k(h)+";").call(this.model);e.find("[data-ax-repeat-click]").off("click.axbinder").on("click.axbinder",function(e){if(e=ax5.util.findParentNode(e.target,function(e){return e.getAttribute("data-ax-repeat-click")})){var k=$(e),r=k.attr("data-ax-repeat-click");k.attr("data-ax-repeat-path");e={el:e,jquery:k,tagname:e.tagName.toLowerCase(),value:r,repeat_path:h,item:D[y],item_index:y,item_path:h+"["+y+"]"};n.click(h,e)}});e.find("[data-ax-item-path]").each(function(){var e=$(this).attr("data-ax-item-path");
e=h+"["+y+"]"+("."==e?"":"."+e);var k=(this.type||"").toLowerCase();try{var r=Function("","return this."+e+";").call(n.model)}catch(E){if(n.onerror)n.onerror("not found target [model."+e+"]")}n.set_els_value(this,this.tagName.toLowerCase(),k,r||"",e)});e.find("[data-ax-item-path]").off("change.axbinder").on("change.axbinder",function(k){var p=[];var w=(this.type||"").toLowerCase();k=$(k.target);var z=k.attr("data-ax-item-path");var l=h+"["+y+"]"+("."==z?"":"."+z),f=Function("","return this."+l+";").call(n.model);
var c=r(f);var a=!0;if("object"==c||"array"==c)a=!1;if("checkbox"==w){if(1<e.find('[data-ax-item-path="'+z+'"]').length){"array"!=r(f)&&(f="undefined"===typeof f||""==f?[]:[].concat(f));w=f.length;z=!1;for(c=this.checked;w--;)f[w]==this.value&&(z=!0);if(c)z||f.push(this.value);else{for(w=f.length;w--;)f[w]!=this.value&&p.push(f[w]);f=p}}else f=this.checked?this.value:"";Function("val","this."+l+" = val;").call(n.model,f);n.change(l,{el:this,jquery:k,tagname:this.tagName.toLowerCase(),value:f})}else a&&
(Function("val","this."+l+" = val;").call(n.model,this.value),n.change(l,{el:this,jquery:k,tagname:this.tagName.toLowerCase(),value:this.value}));k.data("changedTime",(new Date).getTime())});e.find("[data-ax-item-path]").off("blur.axbinder").on("blur.axbinder",function(e){e=$(e.target);("undefined"==typeof e.data("changedTime")||e.data("changedTime")<(new Date).getTime()-10)&&e.trigger("change")})};this.focus=function(e){this.view_target.find('[data-ax-path="'+e+'"]').focus();return this};this.validate=
function(){var e=this,h=[];this.view_target.find("[data-ax-path]").each(function(){var n=$(this),r=n.attr("data-ax-path"),y=n.attr("data-ax-validate"),B=n.attr("pattern");if(y){var p=Function("","return this"+k(r)+";").call(e.model);if("undefined"===typeof p||null===p)p="";var F=p.toString();var E=!1;"required"==y&&""==F.trim()?E=!0:"pattern"==y?E=!(new RegExp(B)).test(F):"email"==y?E=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(F):!/\D.?/g.test(y)&&F.trim().length<y.number()&&(E=!0);E&&h.push({type:y,
dataPath:r,el:this,jquery:n,value:p})}});this.view_target.find("[data-ax-repeat-path]").each(function(){var n=$(this),r=n.attr("data-ax-repeat-path"),y=n.attr("data-ax-repeat-i");n.find("[data-ax-validate]").each(function(){var n=$(this),p=n.attr("data-ax-validate"),w=n.attr("data-ax-item-path");w=Function("","return this"+k(r)+"["+y+"]."+w+";").call(e.model);"undefined"===typeof w&&(w="");var z=w.toString();if(p){var l=!1;"required"==p&&""==z.trim()?l=!0:"pattern"==p?l=!(new RegExp(pattern)).test(z):
"email"==p?l=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(z):!/\D.?/g.test(p)&&z.trim().length<p.number()&&(l=!0);l&&h.push({type:p,dataPath:r,el:this,jquery:n,value:w})}})});return 0<h.length?{error:h}:{}};this.main=function(){arguments&&h.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}())})();"use strict";
(function(){var h=ax5.util,n=void 0;ax5.ui.addClass({className:"autocomplete"},function(){return function(){var r=this;this.instanceId=ax5.getGuid();this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"Now Processing"},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};this.queue=[];this.activeautocompleteOptionGroup=null;this.activeautocompleteQueueIndex=-1;this.keyUpTimer=this.waitOptionsCallback=this.closeTimer=
this.openTimer=null;var k=this.config;var e=jQuery(window),y={18:"KEY_ALT",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},w=function(a,b){a&&a.onStateChanged?a.onStateChanged.call(b,b):this.onStateChanged&&this.onStateChanged.call(b,b);"changeValue"==b.state&&(a&&a.onChange?a.onChange.call(b,b):this.onChange&&
this.onChange.call(b,b));return!0},z=function(){for(var a=this.queue.length,b;a--;){var c=this.queue[a];if(c.$display&&(b=Math.max(c.$select.outerWidth(),h.number(c.minWidth)),c.$display.css({"min-width":b}),c.reset&&c.$display.find(".addon-icon-reset").css({"line-height":this.queue[a].$display.height()+"px"}),c.multiple)){b=h.number(c.$display.css("border-top-width"))+h.number(c.$display.css("border-bottom-width"));c.$target.height("");c.$display.height("");var e=c.$displayTable.outerHeight();Math.abs(e-
c.$target.height())>b&&(c.$target.css({height:e+b+4}),c.$display.css({height:e+b+4}))}}return this},D=function(a){if(a&&!this.activeautocompleteOptionGroup)return this;var b=this.queue[this.activeautocompleteQueueIndex],c={};if(!b)return this;a&&jQuery(document.body).append(this.activeautocompleteOptionGroup);c=b.$target.offset();var d=b.$target.outerWidth();var f=b.$target.outerHeight();e.width();jQuery(document.body).width();var h=Math.max(e.height(),jQuery(document.body).height());this.activeautocompleteOptionGroup.outerWidth();
var k=this.activeautocompleteOptionGroup.outerHeight();if(b.direction&&""!==b.direction&&"auto"!==b.direction)var l=b.direction;else l="top",0>c.top-k?l="top":c.top+f+k+0>h&&(l="bottom");a&&this.activeautocompleteOptionGroup.addClass("direction-"+l);this.activeautocompleteOptionGroup.css(function(){if("top"==l){if(c.top+f+k+0>h){var a=c.top+k;a+k+0>h&&(a=0);0>a&&(a=0);return{left:c.left,top:a,width:d}}return{left:c.left,top:c.top+f+1,width:d}}if("bottom"==l)return{left:c.left,top:c.top-k-1,width:d}}.call(this))},
B=function(a,b){if(!this.activeautocompleteOptionGroup)return this;var c=this.queue[this.activeautocompleteQueueIndex],d="display";b=h.findParentNode(a.target,function(a){if(a.getAttribute("data-option-value"))return d="optionItem",!0;if(c.$target.get(0)==a)return d="display",!0});b?"optionItem"===d&&(x.call(this,c.id,{optionIndex:{index:b.getAttribute("data-option-index")}},void 0,"optionItemClick"),z.call(this),D.call(this),c.multiple||this.close()):this.close();return this},p=function(a){a=this.queue[a];
var b={};b.id=a.id;b.theme=a.theme;b.size="ax5autocomplete-option-group-"+a.size;b.multiple=a.multiple;b.lang=a.lang;b.options=a.options;b.selected=a.selected;b.hasSelected=b.selected&&0<b.selected.length;b.removeIcon=a.removeIcon;return n.tmpl.get.call(this,"label",b,a.columnKeys)},F=function(a){a=this.queue[a];!a.multiple&&a.selected&&0<a.selected.length&&(a.selected=[].concat(a.selected[a.selected.length-1]));a.selected.forEach(function(a,b){a["@index"]=b});a.$select.html(n.tmpl.get.call(this,
"formSelectOptions",{selected:a.selected},a.columnKeys))},E=function(a){var b=this.queue[a];b.$displayLabel.find("[data-ax5autocomplete-selected-label]").remove();b.$displayLabelInput.before(p.call(this,a))},l=function(a){if(this.queue[a].disabled)return this;this.queue[a].$displayLabel.trigger("focus");this.queue[a].$displayLabelInput.focus()},f=function(a,b){if(-1==this.activeautocompleteQueueIndex)return this;b=b.replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@#$%&\\=\('"]/gi,"");this.queue[a].waitOptions=
!0;this.queue[a].onSearch.call({self:this,item:this.queue[a],searchWord:b},function(a){var d={},e=this.queue[this.activeautocompleteQueueIndex];if(!e)return!1;(function(a,b){var c={};b.options.forEach(function(b,d){b["@index"]=d;b["@findex"]=d;c[b[a.columnKeys.optionValue]]=b});h.isArray(a.selected)&&a.selected.forEach(function(d){c[d[a.columnKeys.optionValue]]&&(b.options[c[d[a.columnKeys.optionValue]]["@index"]][a.columnKeys.optionSelected]=!0)})})(e,a);e.options=a.options;z.call(this);d.id=e.id;
d.theme=e.theme;d.size="ax5autocomplete-option-group-"+e.size;d.multiple=e.multiple;d.lang=e.lang;d.options=e.options;this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,"options",d,e.columnKeys)));c.call(this,this.activeautocompleteQueueIndex,b);D.call(this);setTimeout(function(){D.call(this)}.bind(this))}.bind(this))},c=function(c,e){if(-1==this.activeautocompleteQueueIndex)return this;var d=[],f=-1,h=this.queue[c].options.length-1;if(""!=e){for(;h-f++;){var k=
this.queue[c].options[f];if((""+k.text).toLowerCase()==e.toLowerCase()){d=[{"@findex":k["@findex"],optionsSort:0}];break}else{var l=(""+k.text).toLowerCase().search(e.toLowerCase());if(-1<l&&(d.push({"@findex":k["@findex"],optionsSort:l}),2<d.length))break;l=null}}d.sort(function(a,b){return a.optionsSort-b.optionsSort})}d&&0<d.length?b.call(this,c,void 0,d[0]["@findex"]):a.call(this,c)},a=function(a){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected");
this.queue[a].optionFocusIndex=-1},b=function(a,b,c){a=this.queue[a];if(this.activeautocompleteOptionGroup&&a.options&&0<a.options.length){"undefined"===typeof c&&(c=-1==a.optionFocusIndex?a.optionSelectedIndex||-1:a.optionFocusIndex,-1==c?c=0:(c+=b,0>c?c=0:c>a.optionItemLength-1&&(c=a.optionItemLength-1)));a.optionFocusIndex=c;if(a.options[c]&&a.options[c].hide){if("undefined"===typeof b)return this;for(;a.options[c].hide;)if(c+=b,0>c){c=0;break}else if(c>a.optionItemLength-1){c=a.optionItemLength-
1;break}}if("undefined"!==typeof c){this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover");var d=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+c+'"]').addClass("hover");var e=this.activeautocompleteOptionGroup.find('[data-els="content"]');if(d.get(0)){var f=d.outerHeight(),h=e.innerHeight(),k=e.scrollTop();d=d.position().top+e.scrollTop();h+k<d+f?e.scrollTop(d+f-h):k>d&&e.scrollTop(d);"undefined"!==typeof b&&a.$displayLabelInput.val(a.options[c].text)}}}},
m=function(a){a instanceof jQuery?a=a.data("data-ax5autocomplete-id"):h.isString(a)||(a=jQuery(a).data("data-ax5autocomplete-id"));if(h.isString(a))return h.search(this.queue,function(){return this.id==a});console.log(ax5.info.getError("ax5autocomplete","402","getQueIdx"))},C=function(a){this.queue[a].options.forEach(function(a){a.optgroup?a.options.forEach(function(a){a.selected=!1}):a.selected=!1});this.queue[a].selected=[];this.queue[a].$select.html(n.tmpl.get.call(this,"formSelectOptions",{selected:this.queue[a].selected},
this.queue[a].columnKeys))},x=function(){var b={selectedIndex:function(a,b,c,d){},removeSelectedIndex:function(a,b,c,d){a=this.queue[a];d=[];for(var e=0,f=0;f<a.selected.length;f++)a.selected[f]["@index"]!=b.removeSelectedIndex.index&&(c={"@index":e,"@findex":e},c[a.columnKeys.optionValue]=a.selected[f][a.columnKeys.optionValue],c[a.columnKeys.optionText]=a.selected[f][a.columnKeys.optionText],d.push(c),e++);a.selected=d},optionIndex:function(a,b,c,d){a=this.queue[a];d=a.selected.length;c=!0;d={"@index":d,
"@findex":d};d[a.columnKeys.optionValue]=a.options[b.optionIndex.index][a.columnKeys.optionValue];d[a.columnKeys.optionText]=a.options[b.optionIndex.index][a.columnKeys.optionText];for(b=0;b<a.selected.length;b++)a.selected[b][a.columnKeys.optionValue]==d[a.columnKeys.optionValue]&&(c=!1);c&&a.selected.push(d)},arr:function(a,c,d,e){c.forEach(function(c){if(h.isString(c)||h.isNumber(c))b.text.call(r,a,c,d,"justSetValue");else for(var e in b)if(c[e]){b[e].call(r,a,c,d,"justSetValue");break}})},value:function(a,
b,c,d){var e=this.queue[a];a=h.search(e.options,function(){return this[e.columnKeys.optionValue]==b.value[e.columnKeys.optionValue]});if(-1<a)if(e.options[a][e.columnKeys.optionSelected]="undefined"===typeof c?e.multiple?!e.options[a][e.columnKeys.optionSelected]:!0:c,e.options[a][e.columnKeys.optionSelected]){d=!0;for(c=0;c<e.selected.length;c++)if(e.selected[c][k.columnKeys.optionValue]==e.options[a][k.columnKeys.optionValue]){d=!1;break}d&&(d={},d[e.columnKeys.optionValue]=e.options[a][e.columnKeys.optionValue],
d[e.columnKeys.optionText]=e.options[a][e.columnKeys.optionText],e.selected.push(d))}else{var f=[];for(c=0;c<e.selected.length;c++)e.selected[c][k.columnKeys.optionValue]!=e.options[a][k.columnKeys.optionValue]&&(d={},d[e.columnKeys.optionValue]=e.selected[c][e.columnKeys.optionValue],d[e.columnKeys.optionText]=e.selected[c][e.columnKeys.optionText],f.push(d));e.selected=f}else{d=!0;for(c=0;c<e.selected.length;c++)if(e.selected[c][k.columnKeys.optionValue]==b.value[k.columnKeys.optionValue]){d=!1;
break}d&&(d={},d[e.columnKeys.optionValue]=b.value[k.columnKeys.optionValue],d[e.columnKeys.optionText]=b.value[k.columnKeys.optionText],e.selected.push(d))}},text:function(a,b,c,d){var e=this.queue[a];a=h.search(e.options,function(){return this[e.columnKeys.optionText]==b});if(-1<a)if(e.options[a][e.columnKeys.optionSelected]="undefined"===typeof c?e.multiple?!e.options[a][e.columnKeys.optionSelected]:!0:c,e.options[a][e.columnKeys.optionSelected]){d=!0;for(c=0;c<e.selected.length;c++)if(e.selected[c][k.columnKeys.optionText]==
e.options[a][k.columnKeys.optionText]){d=!1;break}d&&(d={},d[e.columnKeys.optionValue]=e.options[a][e.columnKeys.optionValue],d[e.columnKeys.optionText]=e.options[a][e.columnKeys.optionText],e.selected.push(d))}else{var f=[];for(c=0;c<e.selected.length;c++)e.selected[c][k.columnKeys.optionText]!=e.options[a][k.columnKeys.optionText]&&(d={},d[e.columnKeys.optionValue]=e.selected[c][e.columnKeys.optionValue],d[e.columnKeys.optionText]=e.selected[c][e.columnKeys.optionText],f.push(d));e.selected=f}else{d=
!0;for(c=0;c<e.selected.length;c++)if(e.selected[c][k.columnKeys.optionText]==b){d=!1;break}d&&(d={},d[e.columnKeys.optionValue]=b,d[e.columnKeys.optionText]=b,e.selected.push(d))}},clear:function(b){C.call(this,b);a.call(this,b);this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-index]").attr("data-option-Selected","false");this.queue[b].optionSelectedIndex=-1}};return function(a,c,d,e){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5autocomplete",
"402","val"));else{if("undefined"==typeof c)throw"error not found value";if(h.isArray(c))b.clear.call(this,a),b.arr.call(this,a,this.queue[a].multiple||0==c.length?c:[c[c.length-1]],d);else if(h.isString(c)||h.isNumber(c))"undefined"===typeof c||null===c||this.queue[a].multiple||C.call(this,a),b.text.call(this,a,c,d);else if(null===c)b.clear.call(this,a);else{this.queue[a].multiple||C.call(this,a);for(var f in b)if(c[f]){b[f].call(this,a,c,d);break}}F.call(this,a);E.call(this,a);l.call(this,a);D.call(this);
"undefined"!==typeof c&&e&&!e.noStateChange&&w.call(this,this.queue[a],{self:this,item:this.queue[a],state:"changeValue",value:this.queue[a].selected});return this}}}();this.init=function(){this.onStateChanged=k.onStateChanged;this.onChange=k.onChange;jQuery(window).on("resize.ax5autocomplete-display-"+this.instanceId,function(){z.call(this)}.bind(this))};this.bind=function(a){var c=function(){var c=h.debounce(function(a){if(-1==this.activeautocompleteQueueIndex)return this;f.call(r,a,this.queue[a].$displayLabelInput.val())},
150),d=function(a,b){var c,d=h.findParentNode(b.target,function(a){if(a.getAttribute("data-ax5autocomplete-remove"))return c="optionItemRemove",!0;if(a.getAttribute("data-selected-clear"))return c="clear",!0});if(d){if("optionItemRemove"===c)return d=d.getAttribute("data-ax5autocomplete-remove-index"),this.queue[a].selected.splice(d,1),F.call(this,a),E.call(this,a),l.call(this,a),z.call(this),D.call(this),h.stopEvent(b),this;"clear"===c&&(x.call(this,a,{clear:!0}),z.call(this),D.call(this))}else r.activeautocompleteQueueIndex==
a?-1==this.queue[a].optionFocusIndex&&r.close():l.call(this,a)},e=function(a,b){if(b.which==ax5.info.eventKeys.ESC&&-1===r.activeautocompleteQueueIndex)return h.stopEvent(b),this;if(b.which==ax5.info.eventKeys.TAB)return this.close(),this;r.activeautocompleteQueueIndex!=a&&r.open(a);y[b.which]?h.stopEvent(b):b.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[a].$displayLabelInput.val()?(this.queue[a].selected.pop(),F.call(this,a),E.call(this,a),l.call(this,a),z.call(this),D.call(this),h.stopEvent(b)):
c.call(this,a)},k=function(c,d){if(d.which==ax5.info.eventKeys.ESC)this.queue[c].$displayLabelInput.val(""),this.close(),h.stopEvent(d);else if(d.which==ax5.info.eventKeys.RETURN){var e=this.queue[c].$displayLabelInput.val();-1<a.optionFocusIndex?x.call(this,a.id,{optionIndex:{index:a.optionFocusIndex}},void 0,"optionItemClick"):""!=e&&x.call(this,c,e,!0);this.queue[c].$displayLabelInput.val("");z.call(this);this.close();h.stopEvent(d)}else d.which==ax5.info.eventKeys.DOWN?(b.call(this,c,1),h.stopEvent(d)):
d.which==ax5.info.eventKeys.UP&&(b.call(this,c,-1),h.stopEvent(d))},m=function(a,b){},u=function(a,b){this.queue[a].$displayLabelInput.val("");h.stopEvent(b)},w=function(a,b){x.call(this,a,{value:this.queue[a].$select.val()},!0)};return function(a){var b=this.queue[a],c={};b.$display?E.call(this,a):(c.instanceId=this.instanceId,c.id=b.id,c.name=b.name,c.theme=b.theme,c.tabIndex=b.tabIndex,c.multiple=b.multiple,c.reset=b.reset,c.label=p.call(this,a),c.formSize=b.size?"input-"+b.size:"",b.$display=
jQuery(n.tmpl.get.call(this,"autocompleteDisplay",c,b.columnKeys)),b.$displayTable=b.$display.find('[data-els="display-table"]'),b.$displayLabel=b.$display.find('[data-ax5autocomplete-display="label"]'),b.$displayLabelInput=b.$display.find('[data-ax5autocomplete-display="input"]'),b.$target.find("select").get(0)?(b.$select=b.$target.find("select"),b.$select.attr("tabindex","-1").attr("class","form-control "+c.formSize),c.name&&b.$select.attr("name","name"),b.$select.attr("multiple","multiple")):(b.$select=
jQuery(n.tmpl.get.call(this,"formSelect",c,b.columnKeys)),b.$target.append(b.$select)),b.$target.append(b.$display));z.call(this);b.$display.off("click.ax5autocomplete").on("click.ax5autocomplete",d.bind(this,a));b.$displayLabelInput.off("focus.ax5autocomplete").on("focus.ax5autocomplete",m.bind(this,a)).off("blur.ax5autocomplete").on("blur.ax5autocomplete",u.bind(this,a)).off("keydown.ax5autocomplete").on("keydown.ax5autocomplete",e.bind(this,a)).off("keyup.ax5autocomplete").on("keyup.ax5autocomplete",
k.bind(this,a));b.$select.off("change.ax5autocomplete").on("change.ax5autocomplete",w.bind(this,a));return this}}(),d={};a=jQuery.extend(!0,d,k,a);if(!a.target)return console.log(ax5.info.getError("ax5autocomplete","401","bind")),this;a.$target=jQuery(a.target);a.id||(a.id=a.$target.data("data-ax5autocomplete-id"));a.id||(a.id="ax5autocomplete-"+ax5.getGuid(),a.$target.data("data-ax5autocomplete-id",a.id));a.name=a.$target.attr("data-ax5autocomplete");a.options=[];a.selected=[];(function(b){h.isObject(b)&&
!b.error&&(a=jQuery.extend(!0,a,b))})(h.parseJson(a.$target.attr("data-ax5autocomplete-config"),!0));d=h.search(this.queue,function(){return this.id==a.id});-1===d?(this.queue.push(a),c.call(this,this.queue.length-1)):(this.queue[d]=jQuery.extend(!0,{},this.queue[d],a),c.call(this,d));d=d=null;return this};this.open=function(){return function(a,b){this.waitOptionsCallback=null;var c=h.isNumber(a)?a:m.call(this,a);a=this.queue[c];var d={};if(a.$display.attr("disabled"))return this;this.openTimer&&
clearTimeout(this.openTimer);if(this.activeautocompleteOptionGroup){if(this.activeautocompleteQueueIndex==c||2<b)return this;this.close();this.openTimer=setTimeout(function(){this.open(c,(b||0)+1)}.bind(this),k.animateTime);return this}a.optionFocusIndex=-1;a.selected&&0<a.selected.length&&(a.optionSelectedIndex=a.selected[0]["@findex"]);d.id=a.id;d.theme=a.theme;d.size="ax5autocomplete-option-group-"+a.size;d.multiple=a.multiple;d.lang=a.lang;a.$display.attr("data-autocomplete-option-group-opened",
"true");d.waitOptions=!0;d.options=[];this.activeautocompleteOptionGroup=jQuery(n.tmpl.get.call(this,"optionGroup",d,a.columnKeys));this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(n.tmpl.get.call(this,"options",d,a.columnKeys)));this.activeautocompleteQueueIndex=c;D.call(this,"append");jQuery(window).on("resize.ax5autocomplete-"+this.instanceId,function(){D.call(this)}.bind(this));a.selected&&0<a.selected.length&&(d=this.activeautocompleteOptionGroup.find('[data-option-index="'+
a.selected[0]["@index"]+'"]'),d.get(0)&&(d=d.position().top-this.activeautocompleteOptionGroup.height()/3,this.activeautocompleteOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:d},a.animateTime,"swing",function(){})));jQuery(window).on("click.ax5autocomplete-"+this.instanceId,function(a){a=a||window.event;B.call(this,a);h.stopEvent(a)}.bind(this));w.call(this,a,{self:this,state:"open",item:a});d=d=d=null;return this}}();this.setValue=function(a,b){a=h.isNumber(a)?a:m.call(this,
a);if(-1===a)console.log(ax5.info.getError("ax5autocomplete","402","val"));else return C.call(this,a),h.isArray(b)?(b=h.map(b,function(){return{value:this}}),x.call(this,a,b,!0,{noStateChange:!0})):h.isObject(b)?x.call(this,a,{value:b},!0,{noStateChange:!0}):E.call(this,a),this.queue[a].$displayLabel.trigger("blur"),z.call(this),this};this.setText=function(a,b){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5autocomplete","402","val"));else return this.queue[a].selected=
[],C.call(this,a),x.call(this,a,b,!0,{noStateChange:!0}),this.queue[a].$displayLabel.trigger("blur"),z.call(this),this};this.getSelectedOption=function(a){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5autocomplete","402","val"));else return h.deepCopy(this.queue[a].selected)};this.close=function(a){this.closeTimer&&clearTimeout(this.closeTimer);if(!this.activeautocompleteOptionGroup)return this;a=this.queue[this.activeautocompleteQueueIndex];a.optionFocusIndex=-1;a.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus");
this.activeautocompleteOptionGroup.addClass("destroy");jQuery(window).off("resize.ax5autocomplete-"+this.instanceId).off("click.ax5autocomplete-"+this.instanceId).off("keyup.ax5autocomplete-"+this.instanceId);this.closeTimer=setTimeout(function(){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.remove();this.activeautocompleteOptionGroup=null;this.activeautocompleteQueueIndex=-1;w.call(this,a,{self:this,state:"close"})}.bind(this),k.animateTime);this.waitOptionsCallback=null;
return this};this.blur=function(a){a=h.isNumber(a)?a:m.call(this,a);if(-1===a)console.log(ax5.info.getError("ax5autocomplete","402","val"));else return this.queue[a].$displayLabel.trigger("blur"),this};this.enable=function(a){a=m.call(this,a);"undefined"!==typeof a&&(this.queue[a].disable=!1,this.queue[a].$display[0]&&(this.queue[a].$display.removeAttr("disabled"),this.queue[a].$displayLabelInput.removeAttr("disabled")),this.queue[a].$select[0]&&this.queue[a].$select.removeAttr("disabled"),w.call(this,
this.queue[a],{self:this,state:"enable"}));return this};this.disable=function(a){a=m.call(this,a);"undefined"!==typeof a&&(this.queue[a].disable=!0,this.queue[a].$display[0]&&(this.queue[a].$display.attr("disabled","disabled"),this.queue[a].$displayLabelInput.attr("disabled","disabled")),this.queue[a].$select[0]&&this.queue[a].$select.attr("disabled","disabled"),w.call(this,this.queue[a],{self:this,state:"disable"}));return this};this.align=function(){z.call(this);return this};this.main=function(){arguments&&
h.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}}());n=ax5.ui.autocomplete})();
(function(){var h=ax5.ui.autocomplete;h.tmpl={autocompleteDisplay:function(h){return' \n<input tabindex="-1" type="text" data-input-dummy="" style="display: none;" />\n<div class="form-control {{formSize}} ax5autocomplete-display {{theme}}" \ndata-ax5autocomplete-display="{{id}}" data-ax5autocomplete-instance="{{instanceId}}">\n    <div class="ax5autocomplete-display-table" data-els="display-table">\n        <div data-ax5autocomplete-display="label-holder"> \n        <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n        data-ax5autocomplete-display="label"\n        spellcheck="false"><input type="text"data-ax5autocomplete-display="input" style="border:0px none;" /></a>\n        </div>\n        <div data-ax5autocomplete-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n        </div>\n    </div>\n</a>\n'},formSelect:function(h){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>\n'},
formSelectOptions:function(h){return'\n{{#selected}}\n<option value="{{'+h.optionValue+'}}" selected="true">{{'+h.optionText+"}}</option>\n{{/selected}}\n"},optionGroup:function(h){return'\n<div class="ax5autocomplete-option-group {{theme}} {{size}}" data-ax5autocomplete-option-group="{{id}}">\n    <div class="ax-autocomplete-body">\n        <div class="ax-autocomplete-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-autocomplete-arrow"></div> \n</div>\n'},options:function(h){return'\n{{#waitOptions}}\n    <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{^hide}}\n        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+
h.optionValue+'}}" {{#'+h.optionSelected+'}}data-option-selected="true"{{/'+h.optionSelected+'}}>\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{'+h.optionText+'}}</span>\n            </div>\n        </div>\n        {{/hide}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},
label:function(h){return'{{#selected}}\n<div tabindex="-1" data-ax5autocomplete-selected-label="{{@i}}" data-ax5autocomplete-selected-text="{{text}}">\n<div data-ax5autocomplete-remove="true" data-ax5autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div>\n<span>{{'+h.optionText+"}}</span>\n</div>{{/selected}}"},get:function(n,r,k){return ax5.mustache.render(h.tmpl[n].call(this,k),r)}}})();ax5.ui.autocomplete_instance=new ax5.ui.autocomplete;
jQuery.fn.ax5autocomplete=function(){return function(h,n,r,k,e){if(ax5.util.isString(h))switch(h){case "open":return ax5.ui.autocomplete_instance.open(this);case "close":return ax5.ui.autocomplete_instance.close(this);case "setValue":return ax5.ui.autocomplete_instance.setValue(this,n,r,k,e||"justSetValue");case "setValueMin":return ax5.ui.autocomplete_instance.setValue(this,n,r,k,e||"justSetValue");case "setText":return ax5.ui.autocomplete_instance.setText(this,n,r,k,e||"justSetValue");case "getSelectedOption":return ax5.ui.autocomplete_instance.getSelectedOption(this);
case "enable":return ax5.ui.autocomplete_instance.enable(this);case "disable":return ax5.ui.autocomplete_instance.disable(this);case "blur":return ax5.ui.autocomplete_instance.blur(this);case "align":return ax5.ui.autocomplete_instance.align(this)}else"undefined"==typeof h&&(h={}),jQuery.each(this,function(){h=jQuery.extend({},h,{target:this});ax5.ui.autocomplete_instance.bind(h)});return this}}();
